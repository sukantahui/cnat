import{r as s,j as e}from"./index-CG3iA-Ea.js";import{c as R}from"./clsx-B-dksMZM.js";const re=()=>{const[v,N]=s.useState([]),[w,C]=s.useState(0),[E,I]=s.useState(0),[h,T]=s.useState(0),[S,L]=s.useState([]),[a,O]=s.useState("event"),[l,A]=s.useState(!0),[b,$]=s.useState(0),[V,Z]=s.useState(null),[U,D]=s.useState({x:0,y:0}),[P,F]=s.useState([]),[G,_]=s.useState([]),[W,M]=s.useState([]),m=s.useRef(null),g=s.useRef(null),x=s.useRef(null),y=s.useRef([]),f=s.useRef([]),u=s.useRef(null),p=s.useRef(null),j=s.useRef(0);s.useRef(!0);const i=(r,t,d="blue")=>{j.current+=1,L(n=>[...n,{id:Date.now(),count:j.current,type:r,description:t,color:d,timestamp:new Date().toLocaleTimeString()}].slice(-10))};s.useEffect(()=>{if(a==="event"&&l){console.log("üñ±Ô∏è Setting up mouse move listener");const r=n=>{D({x:n.clientX,y:n.clientY})},t=n=>{F(c=>[...c.slice(-4),{key:n.key,code:n.code,timestamp:new Date().toLocaleTimeString()}])},d=()=>{i("event","Window resized","purple")};return window.addEventListener("mousemove",r),window.addEventListener("keydown",t),window.addEventListener("resize",d),y.current=[{type:"mousemove",handler:r},{type:"keydown",handler:t},{type:"resize",handler:d}],N(["mousemove","keydown","resize"]),()=>{console.log("üßπ Cleaning up event listeners"),i("event","Removed all event listeners","red"),y.current.forEach(({type:n,handler:c})=>{window.removeEventListener(n,c)}),y.current=[],N([])}}},[a,l]),s.useEffect(()=>{if(a==="timer"&&l)return console.log("‚è∞ Setting up timers"),m.current=setInterval(()=>{C(r=>{const t=r+1;return console.log(`Timer tick: ${t}`),t})},1e3),g.current=setTimeout(()=>{console.log("Timeout completed after 5 seconds"),i("timer","5-second timeout completed","green")},5e3),()=>{console.log("üßπ Cleaning up timers"),i("timer","Cleared interval and timeout","orange"),m.current&&(clearInterval(m.current),m.current=null),g.current&&(clearTimeout(g.current),g.current=null),C(0)}},[a,l]),s.useEffect(()=>{if(a==="subscription"&&l){console.log("üì° Setting up subscription");const r=()=>{const t=Date.now();console.log(`Connected to subscription ${t}`);const d=setInterval(()=>{const n={id:Date.now(),type:"update",data:`Message from subscription ${t}`,timestamp:new Date().toLocaleTimeString()};M(c=>[...c.slice(-5),n]),I(c=>c+1)},2e3);return f.current.push({id:t,interval:d}),t};return r(),r(),()=>{console.log("üßπ Cleaning up subscriptions"),i("subscription",`Disconnected ${f.current.length} subscriptions`,"pink"),f.current.forEach(t=>{clearInterval(t.interval),console.log(`Disconnected subscription ${t.id}`)}),f.current=[],I(0),M([])}}},[a,l]),s.useEffect(()=>{if(a==="animation"&&l){console.log("üé¨ Setting up animation frame");let r,t=null;const d=n=>{t||(t=n);const o=(n-t)%2e3/2e3,k=document.getElementById("animation-demo");k&&(k.style.transform=`rotate(${o*360}deg)`),r=requestAnimationFrame(d),x.current=r};return r=requestAnimationFrame(d),x.current=r,()=>{console.log("üßπ Cleaning up animation frame"),i("animation","Cancelled animation frame","yellow"),x.current&&(cancelAnimationFrame(x.current),x.current=null)}}},[a,l]),s.useEffect(()=>{if(a==="fetch"&&l){console.log("üåê Setting up fetch with abort controller"),u.current=new AbortController;const r=u.current.signal;return(async()=>{try{const n=await(await new Promise((c,o)=>{const k=setTimeout(()=>{c({ok:!0,json:async()=>({data:"Fetched successfully"})})},3e3);r.addEventListener("abort",()=>{clearTimeout(k),o(new DOMException("Aborted","AbortError"))})})).json();_(c=>[...c,{id:Date.now(),status:"success",data:n.data,timestamp:new Date().toLocaleTimeString()}])}catch(d){d.name==="AbortError"?(console.log("Fetch aborted"),i("fetch","Fetch request aborted","blue")):console.error("Fetch error:",d)}})(),()=>{console.log("üßπ Cleaning up fetch request"),u.current&&(u.current.abort(),u.current=null)}}},[a,l]),s.useEffect(()=>{a==="leak"&&l&&(console.log("üí• INTENTIONAL MEMORY LEAK - DO NOT DO THIS IN REAL CODE"),p.current=setInterval(()=>{T(r=>r+1),console.log(`Memory leak tick: ${h+1}`)},1e3))},[a,l,h]),s.useEffect(()=>{if(a==="multiple"&&l){console.log("üîó Setting up multiple resources");const r=()=>i("multiple","Document clicked","gray"),t=()=>i("multiple","Page scrolled","gray");document.addEventListener("click",r),window.addEventListener("scroll",t);const d=setInterval(()=>{i("multiple","Interval 1 tick","teal")},1500),n=setInterval(()=>{i("multiple","Interval 2 tick","indigo")},2500),c=[{type:"event",name:"click",handler:r},{type:"event",name:"scroll",handler:t},{type:"timer",name:"interval1",id:d},{type:"timer",name:"interval2",id:n}];return()=>{console.log("üßπ Cleaning up multiple resources"),i("multiple","Cleaned up 4 resources","purple"),c.forEach(o=>{o.type==="event"?o.name==="click"?document.removeEventListener("click",o.handler):window.removeEventListener("scroll",o.handler):o.type==="timer"&&clearInterval(o.id)})}}},[a,l]);const H=()=>{A(!1),setTimeout(()=>{A(!0),i("system","Component remounted","green")},1500)},K=()=>{switch(a){case"leak":p.current&&(clearInterval(p.current),p.current=null,i("manual","Manually cleaned memory leak","red"));break;case"timer":m.current&&(clearInterval(m.current),m.current=null,i("manual","Manually cleared interval","orange"));break}},z=()=>{L([]),j.current=0},B=()=>{m.current&&clearInterval(m.current),g.current&&clearTimeout(g.current),x.current&&cancelAnimationFrame(x.current),p.current&&clearInterval(p.current),y.current.forEach(({type:r,handler:t})=>{window.removeEventListener(r,t)}),f.current.forEach(r=>{clearInterval(r.interval)}),u.current&&u.current.abort(),N([]),C(0),I(0),T(0),D({x:0,y:0}),F([]),_([]),M([]),i("system","Reset all resources","gray")};s.useEffect(()=>{(()=>{let t=0;v.length>0&&(t+=10),w>0&&(t+=5),E>0&&(t+=15),h>0&&(t+=h*2),$(t)})()},[v,w,E,h]);const q=[{id:"event",name:"Event Listeners",description:"Clean up window/document event listeners",icon:"üñ±Ô∏è",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",border:"border-blue-300 dark:border-blue-700"},{id:"timer",name:"Timers/Intervals",description:"Clean up setTimeout/setInterval",icon:"‚è∞",color:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",border:"border-green-300 dark:border-green-700"},{id:"subscription",name:"Subscriptions",description:"Clean up WebSocket/API subscriptions",icon:"üì°",color:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",border:"border-purple-300 dark:border-purple-700"},{id:"animation",name:"Animation Frames",description:"Clean up requestAnimationFrame",icon:"üé¨",color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",border:"border-yellow-300 dark:border-yellow-700"},{id:"fetch",name:"Fetch Requests",description:"Clean up fetch with AbortController",icon:"üåê",color:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-300",border:"border-cyan-300 dark:border-cyan-700"},{id:"leak",name:"Memory Leak",description:"What happens WITHOUT cleanup (danger!)",icon:"üí•",color:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",border:"border-red-300 dark:border-red-700"},{id:"multiple",name:"Multiple Resources",description:"Clean up multiple resources together",icon:"üîó",color:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300",border:"border-indigo-300 dark:border-indigo-700"}],Y=[{scenario:"On Unmount",description:"Component removed from DOM",trigger:"Navigate away, conditionally rendered",cleanup:"All resources cleaned up",example:"return () => { clearInterval(id); }"},{scenario:"Before Effect Re-run",description:"Dependencies changed, effect will run again",trigger:"State/prop change in dependency array",cleanup:"Cleanup runs, then new effect runs",example:"useEffect(() => { ... }, [dependency])"},{scenario:"Development StrictMode",description:"React runs effects twice in development",trigger:"React.StrictMode in development",cleanup:"Cleanup runs between mount cycles",example:"Mount ‚Üí Cleanup ‚Üí Mount (dev only)"},{scenario:"Error Boundaries",description:"Component caught by error boundary",trigger:"Error thrown during render",cleanup:"Cleanup runs before error boundary takes over",example:"Error ‚Üí Cleanup ‚Üí Error Boundary"}],X=[{mistake:"Forgetting Cleanup",problem:"Memory leaks, abandoned callbacks",example:`useEffect(() => {
  setInterval(() => {}, 1000);
  // ‚ùå No cleanup
}, []);`,fix:"Always return cleanup function"},{mistake:"Cleaning Up Wrong Resource",problem:"Trying to clean up already cleaned resource",example:`useEffect(() => {
  const id = setInterval(...);
  return () => {
    clearInterval(id);
    clearInterval(id); // ‚ùå Already cleaned
  };
}, []);`,fix:"Keep reference and check before cleaning"},{mistake:"Async Cleanup",problem:"Cleanup function cannot be async",example:`useEffect(() => {
  // ...
  return async () => { // ‚ùå Can't be async
    await cleanup();
  };
}, []);`,fix:"Use sync cleanup or cleanup flag"},{mistake:"Missing Cleanup Dependencies",problem:"Cleanup uses stale values",example:`useEffect(() => {
  const id = setInterval(() => {
    console.log(count);
  }, 1000);
  
  return () => {
    clearInterval(id);
    console.log(count); // ‚ùå Stale value
  };
}, []);`,fix:"Move logic outside cleanup or use refs"}],Q=[{practice:"Always Return Cleanup",description:"Every useEffect that sets up resources should return cleanup",reason:"Prevents memory leaks"},{practice:"Clean Up in Reverse Order",description:"Clean up resources in opposite order of creation",reason:"Prevents dependency issues"},{practice:"Use AbortController for Fetch",description:"Cancel fetch requests on cleanup",reason:"Prevents state updates after unmount"},{practice:"Check Before Cleaning",description:"Verify resource exists before cleaning",reason:"Prevents errors from double cleanup"},{practice:"Test Cleanup",description:"Test that cleanup works by unmounting component",reason:"Ensures no memory leaks"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8 transition-colors duration-300",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-4",children:e.jsx("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Topic 32/46"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Cleanup Functions in useEffect"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"Master the art of cleaning up after yourself‚Äîlearn when and how to use cleanup functions to prevent memory leaks, abandoned callbacks, and resource exhaustion in your React applications."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_0.9s_ease-out]",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xl",children:"üßπ"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"What Are Cleanup Functions?"})]}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["A ",e.jsx("strong",{children:"cleanup function"})," is a function returned from ",e.jsx("code",{children:"useEffect"})," that runs ",e.jsx("em",{children:"before"})," the component unmounts and ",e.jsx("em",{children:"before"})," re-running the effect due to dependency changes."]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-5 rounded-xl my-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"üéØ Core Principle"}),e.jsx("blockquote",{className:"border-l-4 border-green-500 dark:border-green-400 pl-4 py-2 italic text-gray-700 dark:text-gray-300",children:`"For every resource you set up in useEffect, you must clean it up. Cleanup functions ensure your application doesn't leak memory, abandon callbacks, or try to update unmounted components."`})]}),e.jsxs("div",{className:"my-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 text-center",children:"Cleanup Function Lifecycle"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl border-2 border-blue-300 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"1"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Effect Runs"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sets up resources"})]})]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white",children:"‚Üì"})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Component active"})]}),e.jsx("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-xl border-2 border-yellow-300 dark:border-yellow-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"2"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Unmount or Re-run"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Component unmounts or deps change"})]})]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white",children:"‚Üì"})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Cleanup runs first"})]}),e.jsx("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-xl border-2 border-red-300 dark:border-red-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"3"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Cleanup Executes"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Resources cleaned up"})]})]})})]}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrow-cleanup",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),e.jsx("line",{x1:"50%",y1:"80",x2:"50%",y2:"140",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrow-cleanup)"}),e.jsx("line",{x1:"50%",y1:"200",x2:"50%",y2:"260",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrow-cleanup)"}),e.jsx("line",{x1:"50%",y1:"320",x2:"50%",y2:"380",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrow-cleanup)"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Real-World Analogy"}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-xl",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Think of Swadeep from Barrackpore using a classroom:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300 mt-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Effect:"})," Turn on lights, open windows, set up projector"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Cleanup:"})," Turn off lights, close windows, pack projector"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-yellow-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Without cleanup:"})," Lights stay on all night, windows open in rain"]})]})]})]})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.0s_ease-out]",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-lg",children:"‚è±Ô∏è"})}),"When Cleanup Runs"]}),e.jsx("div",{className:"space-y-4",children:Y.map((r,t)=>e.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mr-3 mt-1",children:e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:t+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:r.scenario}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx("strong",{children:"Description:"})," ",r.description]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Trigger:"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:r.trigger})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Cleanup:"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:r.cleanup})]})]}),e.jsx("pre",{className:"text-xs bg-gray-900 text-gray-100 p-2 rounded-lg mt-2 overflow-x-auto",children:r.example})]})]})},t))}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Key Insight"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cleanup runs ",e.jsx("strong",{children:"before"})," the component unmounts and ",e.jsx("strong",{children:"before"}),"the effect re-runs due to dependency changes. This ensures old resources are cleaned up before new ones are created."]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.1s_ease-out]",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-lg",children:"‚ö†Ô∏è"})}),"Common Cleanup Mistakes"]}),e.jsx("div",{className:"space-y-4",children:X.map((r,t)=>e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-200 dark:border-red-700",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1",children:e.jsx("span",{className:"text-red-600 dark:text-red-400",children:t+1})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-1",children:r.mistake}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx("strong",{children:"Problem:"})," ",r.problem]}),e.jsx("pre",{className:"text-xs bg-gray-900 text-gray-100 p-3 rounded-lg mb-2 overflow-x-auto",children:r.example}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.jsx("strong",{children:"Fix:"})," ",r.fix]})]})]})},t))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.0s_ease-out]",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Cleanup Examples Playground"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Select Cleanup Example"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:q.map(r=>e.jsx("button",{onClick:()=>{O(r.id),B()},className:R("p-3 rounded-xl border-2 transition-all duration-300 transform hover:scale-105",a===r.id?"scale-105 ring-2 ring-offset-2 ring-blue-500 bg-white dark:bg-gray-800":"hover:shadow-md",r.border,a===r.id?"":r.color),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-lg mr-2",children:r.icon}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-900 dark:text-white truncate",children:r.name}),e.jsx("div",{className:"text-[10px] text-gray-600 dark:text-gray-400 truncate",children:r.description})]})]})},r.id))})]}),e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Resource Status"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:v.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Listeners"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:w}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Timer Ticks"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:E}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subscription Messages"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Memory Leaks"})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:["Memory Usage: ",b," MB"]}),e.jsx("span",{children:"Max: 50 MB"})]}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:R("h-full rounded-full transition-all duration-500",b<10?"bg-green-500":b<20?"bg-yellow-500":b<30?"bg-orange-500":"bg-red-500"),style:{width:`${Math.min(b*2,100)}%`}})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:a==="leak"?"‚ö†Ô∏è Memory leak active - usage grows indefinitely!":"Memory usage normal"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:H,className:"py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95",children:l?"Simulate Unmount":"Remount Component"}),e.jsx("button",{onClick:K,className:"py-3 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95",children:"Cleanup Manually"}),e.jsx("button",{onClick:B,className:"py-3 px-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95",children:"Reset All"}),e.jsx("button",{onClick:z,className:"py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95",children:"Clear Logs"})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Component Status: ",e.jsx("span",{className:l?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:l?"Mounted":"Unmounted"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Current Example: ",e.jsx("span",{className:"font-semibold",children:q.find(r=>r.id===a)?.name})]})]})]}),a==="event"&&e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Live Event Data"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300 mb-2",children:"Mouse Position"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[U.x,", ",U.y]}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2",children:"Move mouse to update"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm font-semibold text-green-700 dark:text-green-300 mb-2",children:"Recent Key Presses"}),e.jsxs("div",{className:"space-y-1",children:[P.slice().reverse().map((r,t)=>e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.key," (",r.code,") - ",r.timestamp]},t)),P.length===0&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Press any key"})]})]})]})]}),a==="subscription"&&W.length>0&&e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"WebSocket Messages"}),e.jsx("div",{className:"space-y-2",children:W.slice().reverse().map((r,t)=>e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:r.data}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:r.timestamp})]},r.id))})]}),a==="animation"&&e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Animation Demo"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{id:"animation-demo",className:"w-32 h-32 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold",style:{transition:"transform 0.1s linear"},children:"üé¨"})}),e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4",children:"This animation uses requestAnimationFrame. Cleanup cancels it."})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.1s_ease-out]",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Cleanup Activity Log"}),e.jsx("div",{className:"h-64 overflow-y-auto bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 mb-4",children:S.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Cleanup events will appear here. Try unmounting or switching examples."}):e.jsx("div",{className:"space-y-3",children:[...S].reverse().map(r=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:R("w-3 h-3 rounded-full mr-3",r.color==="red"&&"bg-red-500",r.color==="green"&&"bg-green-500",r.color==="blue"&&"bg-blue-500",r.color==="orange"&&"bg-orange-500",r.color==="purple"&&"bg-purple-500",r.color==="pink"&&"bg-pink-500",r.color==="yellow"&&"bg-yellow-500",r.color==="teal"&&"bg-teal-500",r.color==="indigo"&&"bg-indigo-500",r.color==="gray"&&"bg-gray-500")}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["#",r.count," - ",r.type.toUpperCase()]})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.timestamp})]}),e.jsx("div",{className:"ml-6",children:e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.description})})]},r.id))})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Total cleanups: ",e.jsx("span",{className:"font-semibold",children:j.current})]}),e.jsx("div",{children:"Open console (F12) for detailed logs"})]})]}),e.jsxs("section",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/10 dark:to-green-900/10 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.2s_ease-out]",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Cleanup Best Practices"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Essential Rules"}),e.jsx("div",{className:"space-y-4",children:Q.map((r,t)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3 mt-1",children:e.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm",children:"‚úì"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:r.practice}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["Reason: ",r.reason]})]})]},t))})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Complete Example"}),e.jsx("pre",{className:"text-xs bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:`// Proper cleanup for multiple resources
useEffect(() => {
  // 1. Create resources
  const controller = new AbortController();
  const intervalId = setInterval(() => {}, 1000);
  const handleClick = () => console.log('click');
  
  document.addEventListener('click', handleClick);
  
  // 2. Fetch with abort signal
  fetch('/api', { signal: controller.signal })
    .then(response => {
      if (!mountedRef.current) return; // Check before state update
      setData(response);
    })
    .catch(error => {
      if (error.name !== 'AbortError') {
        console.error(error);
      }
    });
  
  // 3. Return cleanup function
  return () => {
    // Clean up in reverse order
    document.removeEventListener('click', handleClick);
    clearInterval(intervalId);
    controller.abort();
    
    // Mark as unmounted
    mountedRef.current = false;
  };
}, []); // Empty array = runs once on mount`})]}),e.jsxs("div",{className:"p-4 bg-green-100 dark:bg-green-900/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-300 mb-2",children:"Professional Insight"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400",children:"In production applications, we use cleanup functions not just for preventing memory leaks, but also for:"}),e.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-400 mt-2 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Cancelling expensive computations"}),e.jsx("li",{children:"‚Ä¢ Preventing race conditions in async operations"}),e.jsx("li",{children:"‚Ä¢ Releasing acquired locks or connections"}),e.jsx("li",{children:"‚Ä¢ Cleaning up temporary files or caches"})]})]})]})]})]})]}),e.jsx("div",{className:"mt-8 bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-2xl p-6 shadow-lg border-l-4 border-cyan-500 dark:border-cyan-400 animate-[fadeInUp_1.3s_ease-out]",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:"SH"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Teacher's Note"}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.jsx("strong",{children:"Dear students from Naihati, Barrackpore, and Shyamnagar,"})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-lg mb-4 border border-cyan-200 dark:border-cyan-700",children:[e.jsx("h4",{className:"font-semibold text-cyan-700 dark:text-cyan-400 mb-2",children:"The Cleanup Mindset:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"When Abhronila from Ichapur deployed her app, users reported their browsers slowing down after 30 minutes. The culprit? Missing cleanup functions for mouse move listeners that accumulated with every navigation."}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[e.jsx("strong",{children:"Rule of thumb:"})," For every ",e.jsx("code",{children:"addEventListener"}),",",e.jsx("code",{children:"setInterval"}),", ",e.jsx("code",{children:"subscribe"}),", you need a corresponding cleanup."]})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"After 27 years of building applications, I've seen cleanup mistakes cause:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300 mb-4",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Memory leaks"})," that crash browsers after hours"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Race conditions"})," where old API responses overwrite new ones"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Zombie components"})," that try to update after unmount"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-cyan-200 dark:border-cyan-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Sukanta Hui"})," ¬∑ 27 years experience ¬∑",e.jsx("a",{href:"mailto:sukantahui@codernaccotax.co.in",className:"text-cyan-600 dark:text-cyan-400 hover:underline ml-1",children:"sukantahui@codernaccotax.co.in"})]})})]})]})]})}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl border border-purple-200 dark:border-purple-700 animate-[fadeInUp_1.4s_ease-out]",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"üîç"})}),"Debugging Challenge"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Memory Leak Detection"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Perform this experiment to see memory leaks in action:"}),e.jsxs("ol",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"1"}),e.jsx("span",{children:'Select "Memory Leak" example'})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"2"}),e.jsx("span",{children:"Watch the memory usage grow (top-right chart)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"3"}),e.jsx("span",{children:`Click "Simulate Unmount" - notice memory doesn't drop`})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"4"}),e.jsx("span",{children:'Click "Cleanup Manually" to see memory drop'})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Critical Question:"}),' In the "Event Listeners" example, what happens if you:']}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 space-y-1",children:[e.jsx("li",{children:"1. Move your mouse around (watch position update)"}),e.jsx("li",{children:"2. Press some keys (watch key log)"}),e.jsx("li",{children:'3. Click "Simulate Unmount"'}),e.jsx("li",{children:"4. Continue moving mouse and pressing keys"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:"Do the event handlers still work after unmount? Check the cleanup log."})]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Try this:"})," Open Chrome DevTools ‚Üí Memory tab. Take a heap snapshot before and after creating resources. Compare the snapshots to see what wasn't cleaned up."]})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 animate-[fadeInUp_1.5s_ease-out]",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"üö´"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"When Cleanup Runs"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Before component unmounts"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Before effect re-runs"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"In React.StrictMode (dev)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Before error boundary takes over"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"‚úÖ"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Always Clean Up"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Event listeners (add/remove)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Timers/intervals (clear)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Subscriptions (unsubscribe)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Fetch requests (abort)"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"üîß"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Best Practices"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Use AbortController for fetch"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Keep references for cleanup"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Clean up in reverse order"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Test cleanup by unmounting"})]})]})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Respect reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .animate-\\[fadeInUp_0\\.8s_ease-out\\] {
            animation: none;
          }
        }
      `})]})};export{re as default};

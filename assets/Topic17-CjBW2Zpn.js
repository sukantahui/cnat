import{j as e}from"./index-CG3iA-Ea.js";import{c as a}from"./clsx-B-dksMZM.js";import{E as s}from"./EditableCCodeBlock-CCvfD5dY.js";const n=`#include <stdio.h>\r
\r
int counter = 0;   // global variable\r
\r
void increment() {\r
    counter++;\r
}\r
\r
void printCounter() {\r
    printf("Counter: %d\\n", counter);\r
}\r
\r
int main() {\r
    printCounter();   // 0\r
    increment();\r
    increment();\r
    printCounter();   // 2\r
    return 0;\r
}`,t=`#include <stdio.h>\r
\r
int data = 100;   // global\r
\r
void printData() {\r
    printf("Data: %d\\n", data);\r
}\r
\r
void evil() {\r
    data = 0;     // accidental modification (maybe not intended)\r
}\r
\r
int main() {\r
    printData();   // 100\r
    evil();\r
    printData();   // 0 ‚Äì surprise!\r
    return 0;\r
}`,l=`#include <stdio.h>\r
\r
int value = 10;   // global\r
\r
void func() {\r
    int value = 20;   // local shadows global\r
    printf("Inside func, local value = %d\\n", value);\r
}\r
\r
int main() {\r
    printf("Global value = %d\\n", value);   // 10\r
    func();                                  // prints 20\r
    printf("Global value after func = %d\\n", value);   // still 10\r
    return 0;\r
}`,r=`
  @keyframes fadeSlideUp {
    0% { opacity: 0; transform: translateY(12px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @keyframes pulseGlobal {
    0%, 100% { stroke-opacity: 0.3; fill-opacity: 0.1; }
    50% { stroke-opacity: 1; fill-opacity: 0.3; }
  }
  @media (prefers-color-scheme: light) {
    .topic17-root {
      background-color: #ffffff;
      color: #111827;
    }
    .topic17-card {
      background-color: #f9fafb;
      border-color: #e5e7eb;
    }
  }
  @media (prefers-color-scheme: dark) {
    .topic17-root {
      background-color: #111827;
      color: #f3f4f6;
    }
    .topic17-card {
      background-color: #1f2937;
      border-color: #374151;
    }
  }
`,x=()=>{const i=new Date().getFullYear()-1998;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:r}),e.jsx("div",{className:a("topic17-root","min-h-screen w-full px-4 py-8 md:px-8 lg:px-16","transition-colors duration-300","font-sans leading-relaxed"),children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-12",children:[e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none"),children:[e.jsx("h1",{className:"mb-4 text-4xl font-extrabold tracking-tight text-indigo-400 dark:text-indigo-400",children:"üåç Global Variables ‚Äì Scope, Lifetime and Risks"}),e.jsxs("p",{className:"text-xl text-gray-300 dark:text-gray-300",children:["Unlike local variables, ",e.jsx("strong",{children:"global variables"})," are declared outside any function. They live for the entire program and can be accessed from any function. This power comes with significant risks."]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.1s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå What Are Global Variables?"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"topic17-card rounded-xl border p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsxs("p",{className:"mb-3",children:["A ",e.jsx("strong",{children:"global variable"})," is defined outside all functions, usually at the top of a file."]}),e.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Scope:"})," ","From the point of declaration to the end of the file. Visible to all functions below it."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Lifetime:"})," ","Created before ",e.jsx("code",{children:"main()"})," starts, destroyed after",e.jsx("code",{children:"main()"})," ends ‚Äì entire program run."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Storage:"})," ","Data segment (not stack). Not tied to function calls."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Initialisation:"})," ","If not explicitly initialised, globals are zero‚Äëinitialised (unlike locals)."]})]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-gray-800 p-3 font-mono text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"// global declaration"}),e.jsx("br",{}),e.jsx("span",{className:"text-purple-400",children:"int"})," ",e.jsx("span",{className:"text-amber-300",children:"counter"})," = 0;",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-purple-400",children:"void"})," ",e.jsx("span",{className:"text-amber-300",children:"func"}),"() ","{",e.jsx("br",{}),"¬†¬†counter++;"," ",e.jsx("span",{className:"text-gray-400",children:"// global can be modified"}),e.jsx("br",{}),"}"]})]}),e.jsx("div",{className:a("topic17-card flex items-center justify-center rounded-xl border p-4","transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),children:e.jsxs("svg",{width:"300",height:"200",viewBox:"0 0 300 200",className:"w-full max-w-xs",children:[e.jsx("rect",{x:"40",y:"20",width:"220",height:"50",rx:"8",fill:"#4f46e5",fillOpacity:"0.2",stroke:"#818cf8",strokeWidth:"3",strokeDasharray:"6 4",children:e.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;20;0",dur:"3s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"45",fill:"#c7d2fe",fontSize:"12",textAnchor:"middle",children:"Data Segment (global)"}),e.jsx("rect",{x:"120",y:"25",width:"60",height:"30",rx:"4",fill:"#4f46e5",fillOpacity:"0.5",stroke:"#818cf8",strokeWidth:"1.5"}),e.jsx("text",{x:"150",y:"45",fill:"#e0e7ff",fontSize:"10",textAnchor:"middle",children:"counter = 0"}),e.jsx("rect",{x:"20",y:"100",width:"100",height:"40",rx:"6",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1.5"}),e.jsx("text",{x:"70",y:"125",fill:"#d1d5db",fontSize:"10",textAnchor:"middle",children:"func1()"}),e.jsx("line",{x1:"70",y1:"100",x2:"120",y2:"55",stroke:"#f59e0b",strokeWidth:"2",markerEnd:"url(#arrowHead)",children:e.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;10;0",dur:"2s",repeatCount:"indefinite"})}),e.jsx("rect",{x:"180",y:"140",width:"100",height:"40",rx:"6",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1.5"}),e.jsx("text",{x:"230",y:"165",fill:"#d1d5db",fontSize:"10",textAnchor:"middle",children:"func2()"}),e.jsx("line",{x1:"200",y1:"140",x2:"150",y2:"55",stroke:"#f59e0b",strokeWidth:"2",markerEnd:"url(#arrowHead)",children:e.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;10;0",dur:"2.5s",repeatCount:"indefinite"})}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowHead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:e.jsx("path",{d:"M0,0 L10,5 L0,10 Z",fill:"#e0e7ff"})})})]})})]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.2s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå When Are Globals Used?"}),e.jsxs("div",{className:"topic17-card rounded-xl border p-6",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Legitimate uses:"})," Configuration settings, program state that truly needs to be shared (e.g., a game's score), constants (with ",e.jsx("code",{children:"const"}),"), or when required by legacy code."]}),e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Risks and why professionals avoid them:"})}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[e.jsx("li",{children:"Hidden dependencies ‚Äì any function can modify, making debugging hard."}),e.jsx("li",{children:"Namespace pollution ‚Äì risk of name clashes."}),e.jsx("li",{children:"Thread safety issues (in multi‚Äëthreaded programs)."}),e.jsx("li",{children:"Reduced modularity and reusability."})]}),e.jsxs("p",{className:"mt-4 text-sm italic text-gray-400",children:["üßë‚Äçüè´ At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", we teach: ‚ÄúGlobals are like a shared whiteboard ‚Äì everyone can write, but it‚Äôs easy to erase someone else‚Äôs work.‚Äù"]})]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.3s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üíª Examples in C"}),e.jsx(s,{title:"Example 1: Global counter",initialCode:n}),e.jsx(s,{title:"Example 2: Risk ‚Äì unintended modification",initialCode:t}),e.jsx(s,{title:"Example 3: Global vs local shadowing",initialCode:l}),e.jsxs("div",{className:"mt-2 rounded-lg bg-indigo-900/30 p-4 italic",children:[e.jsx("strong",{children:"üîç Observe carefully:"})," In Example¬†2, a function meant to print accidentally modifies the global ‚Äì a common bug."]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.4s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üè´ Global Variables at Barrackpore & Naihati CNAT"}),e.jsxs("div",{className:"topic17-card rounded-xl border p-6 transition-all duration-300 hover:shadow-lg",children:[e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", ",e.jsx("strong",{children:"Swadeep"})," used a global to track the total number of students. It worked fine until",e.jsx("strong",{children:"Ritaja"})," accidentally modified it in her attendance function ‚Äì the total became wrong, and they spent hours debugging."]}),e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Naihati CNAT"}),", ",e.jsx("strong",{children:"Debangshu"})," learned to use globals for configuration (like school name) but made them"," ",e.jsx("code",{children:"const"})," to prevent modification."]}),e.jsxs("p",{className:"text-sm italic text-gray-400",children:["üßë‚Äçüéì Students like ",e.jsx("strong",{children:"Tuhina, Abhronila"})," now understand that with great power comes great responsibility."]})]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.5s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-amber-400",children:"‚ö†Ô∏è Common Pitfalls ‚Äì Beginners Edition"}),e.jsxs("div",{className:"topic17-card rounded-xl border border-amber-700/50 bg-amber-900/20 p-6",children:[e.jsxs("ul",{className:"list-disc space-y-3 pl-5",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Accidental modification:"})," ","A function meant only to read may inadvertently change a global."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Shadowing with locals:"})," ","Declaring a local variable with the same name hides the global, causing confusion."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Overusing globals:"})," ","Making everything global leads to spaghetti code ‚Äì functions become dependent on hidden state."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Initialisation order:"})," ","In multi‚Äëfile programs, globals in different files may be initialised in an unspecified order (static initialisation order fiasco)."]})]}),e.jsxs("p",{className:"mt-4 text-sm",children:["üîé ",e.jsx("strong",{children:"Think about‚Ä¶"})," How would you redesign a program that uses many globals to be more modular?"]})]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.6s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-emerald-400",children:"üßº Best Practices ‚Äì Professional Habits"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("div",{className:"topic17-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìè Minimise globals"}),e.jsx("p",{className:"text-sm",children:"Prefer passing parameters or using static file‚Äëscope variables (Topic¬†28). Only truly global state should be global."})]}),e.jsxs("div",{className:"topic17-card rounded-xl border p-5",children:[e.jsxs("h3",{className:"mb-2 font-bold text-emerald-300",children:["üîí Use ",e.jsx("code",{children:"const"})," for read‚Äëonly"]}),e.jsxs("p",{className:"text-sm",children:["If a global should not change, declare it as ",e.jsx("code",{children:"const"}),". The compiler will enforce it."]})]}),e.jsxs("div",{className:"topic17-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üè∑Ô∏è Naming convention"}),e.jsxs("p",{className:"text-sm",children:["Use a prefix like ",e.jsx("code",{children:"g_"})," or ",e.jsx("code",{children:"global_"})," to clearly identify globals (e.g., ",e.jsx("code",{children:"g_counter"}),")."]})]}),e.jsxs("div",{className:"topic17-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üì¶ Group related globals in structs"}),e.jsx("p",{className:"text-sm",children:"Instead of many separate globals, put them in a struct and pass a pointer (simulates a ‚Äúcontext‚Äù)."})]})]})]}),e.jsxs("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.7s]","rounded-xl border border-indigo-700 bg-indigo-900/20 p-6"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-indigo-300",children:"üìã Mini Checklist ‚Äì Topic 17"}),e.jsxs("ul",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can define a global variable and explain its scope/lifetime."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I know globals are zero‚Äëinitialised by default."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I understand the risks: accidental modification, namespace pollution."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I use ",e.jsx("code",{children:"const"})," ","for read‚Äëonly globals."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I prefer to avoid globals unless absolutely necessary."]})]})]}),e.jsx("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.8s]","topic17-card rounded-xl border border-indigo-500/50 bg-indigo-950/30 p-6","transition-all duration-300 hover:scale-[1.01] hover:border-indigo-400 hover:shadow-2xl"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"üßë‚Äçüè´"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"mb-2 text-2xl font-semibold text-indigo-300",children:"Teacher‚Äôs Note"}),e.jsx("p",{className:"mb-2 font-medium text-indigo-200",children:"Sukanta Hui ‚Äî Mentor, C Programming"}),e.jsxs("p",{className:"mb-2 text-sm",children:["üìß sukantahui@codernaccotax.co.in ¬†|¬† üì± 7003756860 ¬†|¬† üíª ",i," years (since 1998)"]}),e.jsxs("p",{className:"text-gray-300",children:["‚ÄúI‚Äôve seen countless projects at ",e.jsx("strong",{children:"Barrackpore CNAT"})," ","and ",e.jsx("strong",{children:"Naihati CNAT"})," derailed by over‚Äëenthusiastic use of globals. A student once changed a global in a ‚Äòread‚Äëonly‚Äô function and spent a week finding the bug. ",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block italic",children:"üí° My advice: Treat globals like nuclear energy ‚Äì powerful but dangerous. Encapsulate them, mark them clearly, and always ask: ‚ÄòDoes this really need to be global?‚Äô"})]})]})]})}),e.jsx("section",{className:a("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.9s]","rounded-xl border border-gray-700 bg-gray-800/50 p-5 text-sm"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üí≠"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-indigo-300",children:"Hint ‚Äì try changing this:"})," ","In the global risk example, add ",e.jsx("code",{children:"const"})," to the global declaration (",e.jsx("code",{children:"const int data = 100;"}),"). What happens when you try to modify it in ",e.jsx("code",{children:"evil"}),"? Why?",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block text-gray-400",children:"(The compiler will catch the unintended modification ‚Äì a great safety net!)"})]})]})}),e.jsx("div",{className:"pt-6 text-center text-xs text-gray-500",children:"Topic 17 complete ‚Äì you now understand global variables. Next: difference between local and global variables."})]})})]})};export{x as default};

import{j as e}from"./index-BFnLuail.js";import{c as s}from"./clsx-B-dksMZM.js";import{E as a}from"./EditableCCodeBlock-BIH-nUZ3.js";const r=`#include <stdio.h>\r
\r
int factorial(int n) {\r
    printf("factorial(%d) called\\n", n);\r
    if (n == 0) {\r
        printf("factorial(0) returning 1\\n");\r
        return 1;\r
    }\r
    int result = n * factorial(n - 1);\r
    printf("factorial(%d) returning %d\\n", n, result);\r
    return result;\r
}\r
\r
int main() {\r
    factorial(5);\r
    return 0;\r
}`,i=`#include <stdio.h>\r
\r
void deep(int n) {\r
    if (n == 0) {\r
        printf("Reached base case\\n");\r
        return;\r
    }\r
    // printf("Depth %d\\n", n); // uncomment to see progress (but may slow)\r
    deep(n - 1);\r
}\r
\r
int main() {\r
    int depth = 10000; // try increasing until crash\r
    printf("Starting recursion depth %d\\n", depth);\r
    deep(depth);\r
    printf("Completed successfully (unlikely for large depth)\\n");\r
    return 0;\r
}`,n=`#include <stdio.h>\r
\r
// Tail recursion example (not optimized in C)\r
int factorial_tail(int n, int accumulator) {\r
    if (n == 0) {\r
        return accumulator;\r
    }\r
    return factorial_tail(n - 1, n * accumulator); // tail call\r
}\r
\r
int main() {\r
    int n = 5;\r
    int result = factorial_tail(n, 1);\r
    printf("%d! = %d\\n", n, result);\r
    return 0;\r
}`,o=`
  @keyframes fadeSlideUp {
    0% { opacity: 0; transform: translateY(12px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @media (prefers-color-scheme: light) {
    .topic23-root {
      background-color: #ffffff;
      color: #111827;
    }
    .topic23-card {
      background-color: #f9fafb;
      border-color: #e5e7eb;
    }
  }
  @media (prefers-color-scheme: dark) {
    .topic23-root {
      background-color: #111827;
      color: #f3f4f6;
    }
    .topic23-card {
      background-color: #1f2937;
      border-color: #374151;
    }
  }
`,h=()=>{const t=new Date().getFullYear()-1998;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:o}),e.jsx("div",{className:s("topic23-root","min-h-screen w-full px-4 py-8 md:px-8 lg:px-16","transition-colors duration-300","font-sans leading-relaxed"),children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-12",children:[e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none"),children:[e.jsx("h1",{className:"mb-4 text-4xl font-extrabold tracking-tight text-indigo-400 dark:text-indigo-400",children:"üìö Stack Memory Behavior in Recursion"}),e.jsx("p",{className:"text-xl text-gray-300 dark:text-gray-300",children:"Recursion relies on the call stack ‚Äì the same mechanism that handles nested function calls. Each recursive call adds a new stack frame, and when the base case is reached, frames are popped one by one. Understanding this behavior is crucial to avoid stack overflow."})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.1s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå The Call Stack and Recursion"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"topic23-card rounded-xl border p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsxs("p",{className:"mb-3",children:["When a function is called, a ",e.jsx("strong",{children:"stack frame"})," is allocated to store its local variables, parameters, and return address. For recursive calls, this happens repeatedly."]}),e.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Push phase (winding):"})," Each recursive call adds a new frame on top of the stack."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Pop phase (unwinding):"})," When a function returns, its frame is removed, and control returns to the caller."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stack overflow:"})," If recursion goes too deep, the stack runs out of memory, causing the program to crash."]})]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-gray-800 p-3 font-mono text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"// Example: factorial(3)"}),e.jsx("br",{}),"factorial(3) ",e.jsx("span",{className:"text-gray-400",children:"// pushed"}),e.jsx("br",{}),"¬†¬†factorial(2) ",e.jsx("span",{className:"text-gray-400",children:"// pushed"}),e.jsx("br",{}),"¬†¬†¬†¬†factorial(1) ",e.jsx("span",{className:"text-gray-400",children:"// pushed"}),e.jsx("br",{}),"¬†¬†¬†¬†¬†¬†factorial(0) ",e.jsx("span",{className:"text-gray-400",children:"// base, returns"}),e.jsx("br",{}),"¬†¬†¬†¬†factorial(1) ",e.jsx("span",{className:"text-gray-400",children:"// returns"}),e.jsx("br",{}),"¬†¬†factorial(2) ",e.jsx("span",{className:"text-gray-400",children:"// returns"}),e.jsx("br",{}),"factorial(3) ",e.jsx("span",{className:"text-gray-400",children:"// returns"})]})]}),e.jsx("div",{className:s("topic23-card flex items-center justify-center rounded-xl border p-4","transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),children:e.jsxs("svg",{width:"300",height:"200",viewBox:"0 0 300 200",className:"w-full max-w-xs",children:[e.jsx("rect",{x:"100",y:"30",width:"120",height:"150",fill:"none",stroke:"#4b5563",strokeWidth:"2",strokeDasharray:"4 3"}),e.jsx("text",{x:"160",y:"20",fill:"#9ca3af",fontSize:"10",textAnchor:"middle",children:"Stack"}),e.jsx("rect",{x:"110",y:"160",width:"100",height:"20",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"160;150;140;130;120;110;100;90;80;70;60;50;40;30;20;10;0;-10;-20",dur:"4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"160",y:"175",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"fact(0)"}),e.jsx("rect",{x:"110",y:"140",width:"100",height:"20",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"140;130;120;110;100;90;80;70;60;50;40;30;20;10;0;-10;-20;-30;-40",dur:"4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"160",y:"155",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"fact(1)"}),e.jsx("rect",{x:"110",y:"120",width:"100",height:"20",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"120;110;100;90;80;70;60;50;40;30;20;10;0;-10;-20;-30;-40;-50;-60",dur:"4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"160",y:"135",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"fact(2)"}),e.jsx("rect",{x:"110",y:"100",width:"100",height:"20",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"100;90;80;70;60;50;40;30;20;10;0;-10;-20;-30;-40;-50;-60;-70;-80",dur:"4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"160",y:"115",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"fact(3)"}),e.jsx("line",{x1:"200",y1:"50",x2:"200",y2:"20",stroke:"#f59e0b",strokeWidth:"2",markerEnd:"url(#arrowHeadUp)",children:e.jsx("animate",{attributeName:"y2",values:"20;15;20",dur:"1s",repeatCount:"indefinite"})}),e.jsx("text",{x:"220",y:"35",fill:"#f59e0b",fontSize:"8",children:"push"}),e.jsx("line",{x1:"180",y1:"160",x2:"180",y2:"190",stroke:"#6ee7b7",strokeWidth:"2",markerEnd:"url(#arrowHeadDown)",children:e.jsx("animate",{attributeName:"y2",values:"190;195;190",dur:"1s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"190",fill:"#6ee7b7",fontSize:"8",children:"pop"}),e.jsxs("defs",{children:[e.jsx("marker",{id:"arrowHeadUp",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:e.jsx("path",{d:"M0,10 L5,0 L10,10 Z",fill:"#f59e0b"})}),e.jsx("marker",{id:"arrowHeadDown",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:e.jsx("path",{d:"M0,0 L5,10 L10,0 Z",fill:"#6ee7b7"})})]})]})})]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.2s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå The Danger: Stack Overflow"}),e.jsxs("div",{className:"topic23-card rounded-xl border p-6",children:[e.jsxs("p",{className:"mb-2",children:["Each stack frame consumes memory. If recursion is too deep ‚Äì e.g., thousands of calls ‚Äì the stack may exceed its limit, causing a",e.jsx("strong",{children:" stack overflow"}),". The program crashes."]}),e.jsx("p",{className:"mb-2",children:"The maximum stack size is system‚Äëdependent (typically a few MB). Recursive functions that could go deep (e.g., processing a large tree) must be designed carefully, or replaced with iteration."}),e.jsxs("p",{className:"mt-4 text-sm italic text-gray-400",children:["üßë‚Äçüè´ At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", we demonstrate this with a recursive function that counts down from a large number ‚Äì it crashes."]})]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.3s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üíª Examples in C"}),e.jsx(a,{title:"Example 1: Factorial ‚Äì stack frames",initialCode:r}),e.jsx(a,{title:"Example 2: Deep recursion ‚Äì may overflow",initialCode:i}),e.jsx(a,{title:"Example 3: Tail recursion concept (no optimization in C)",initialCode:n}),e.jsxs("div",{className:"mt-2 rounded-lg bg-indigo-900/30 p-4 italic",children:[e.jsx("strong",{children:"üîç Observe carefully:"})," In Example¬†2, if you run with a very large number (e.g., 100000), the program will likely crash due to stack overflow."]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.4s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üè´ Stack Overflow at Barrackpore & Naihati CNAT"}),e.jsxs("div",{className:"topic23-card rounded-xl border p-6 transition-all duration-300 hover:shadow-lg",children:[e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", ",e.jsx("strong",{children:"Tuhina"})," wrote a recursive function to traverse a nested file structure. For a shallow folder, it worked; for a deep one, it crashed with a segmentation fault ‚Äì her first encounter with stack overflow."]}),e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Naihati CNAT"}),", ",e.jsx("strong",{children:"Ritaja"})," tried to compute Fibonacci recursively for n=50. The program became extremely slow (exponential time) and eventually crashed due to stack depth. She learned that not all problems suit deep recursion."]}),e.jsxs("p",{className:"text-sm italic text-gray-400",children:["üßë‚Äçüéì Students like ",e.jsx("strong",{children:"Swadeep, Abhronila, Debangshu"})," now check recursion depth and consider iterative alternatives."]})]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.5s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-amber-400",children:"‚ö†Ô∏è Common Pitfalls ‚Äì Beginners Edition"}),e.jsxs("div",{className:"topic23-card rounded-xl border border-amber-700/50 bg-amber-900/20 p-6",children:[e.jsxs("ul",{className:"list-disc space-y-3 pl-5",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Assuming recursion has no cost:"})," ","Each call uses memory and time. Deep recursion can exhaust stack."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Not considering base case depth:"})," ","Even with correct logic, if input is too large, stack overflows."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Confusing stack overflow with infinite recursion:"})," ","Both cause crashes, but infinite recursion is a logic error; stack overflow can happen with correct logic but large input."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Expecting tail call optimization in C:"})," ","C does not guarantee TCO; even tail‚Äërecursive functions may use stack frames. (Some compilers may optimize, but it's not portable.)"]})]}),e.jsxs("p",{className:"mt-4 text-sm",children:["üîé ",e.jsx("strong",{children:"Think about‚Ä¶"})," How many recursive calls can you safely make on your system? (Test with Example¬†2 and different N.)"]})]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.6s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-emerald-400",children:"üßº Best Practices ‚Äì Professional Habits"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("div",{className:"topic23-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìè Know your recursion depth"}),e.jsx("p",{className:"text-sm",children:"Estimate maximum depth. If it can exceed a few thousand, consider iteration."})]}),e.jsxs("div",{className:"topic23-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üîÅ Convert deep recursion to iteration"}),e.jsx("p",{className:"text-sm",children:"Many recursive algorithms (factorial, Fibonacci) can be written iteratively with loops, avoiding stack growth."})]}),e.jsxs("div",{className:"topic23-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üß™ Test with large inputs"}),e.jsx("p",{className:"text-sm",children:"If your function might be used with large data, test its limits."})]}),e.jsxs("div",{className:"topic23-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìù Use static analysis or stack size checks"}),e.jsx("p",{className:"text-sm",children:"In some systems, you can query or set stack size (platform‚Äëspecific)."})]})]})]}),e.jsxs("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.7s]","rounded-xl border border-indigo-700 bg-indigo-900/20 p-6"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-indigo-300",children:"üìã Mini Checklist ‚Äì Topic 23"}),e.jsxs("ul",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can explain how stack frames are added/removed in recursion."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I understand the risk of stack overflow with deep recursion."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can estimate approximate recursion depth limits on my system."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I know that tail recursion is not guaranteed to be optimized in C."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can decide when to avoid recursion due to stack constraints."]})]})]}),e.jsx("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.8s]","topic23-card rounded-xl border border-indigo-500/50 bg-indigo-950/30 p-6","transition-all duration-300 hover:scale-[1.01] hover:border-indigo-400 hover:shadow-2xl"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"üßë‚Äçüè´"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"mb-2 text-2xl font-semibold text-indigo-300",children:"Teacher‚Äôs Note"}),e.jsx("p",{className:"mb-2 font-medium text-indigo-200",children:"Sukanta Hui ‚Äî Mentor, C Programming"}),e.jsxs("p",{className:"mb-2 text-sm",children:["üìß sukantahui@codernaccotax.co.in ¬†|¬† üì± 7003756860 ¬†|¬† üíª ",t," years (since 1998)"]}),e.jsxs("p",{className:"text-gray-300",children:["‚ÄúI tell my students at ",e.jsx("strong",{children:"Barrackpore CNAT"})," and"," ",e.jsx("strong",{children:"Naihati CNAT"}),": the stack is like a spring. You can push a few things, but if you keep pushing, it will eventually burst. That's stack overflow. ",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block italic",children:"üí° Professional tip: When debugging a crash, if the call stack in the debugger shows thousands of identical frames, you've hit a recursion depth issue ‚Äì either infinite or too deep."})]})]})]})}),e.jsx("section",{className:s("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.9s]","rounded-xl border border-gray-700 bg-gray-800/50 p-5 text-sm"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üí≠"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-indigo-300",children:"Hint ‚Äì try changing this:"})," ","In the deep recursion example, change the argument from 10000 to 1000000. Run it (if you dare). What happens? Why is the result different from your expectation?",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block text-gray-400",children:"(The stack cannot hold a million frames ‚Äì it will overflow almost immediately.)"})]})]})}),e.jsx("div",{className:"pt-6 text-center text-xs text-gray-500",children:"Topic 23 complete ‚Äì you understand the stack's role in recursion. Next: advantages and disadvantages of recursion."})]})})]})};export{h as default};

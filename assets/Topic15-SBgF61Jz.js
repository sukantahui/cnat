import{q as N,j as e}from"./index-meFSU1Lv.js";import{c as a}from"./clsx-B-dksMZM.js";class C extends N.Component{constructor(s){super(s),this.state={isDarkMode:!1,showAnimation:!1,activeStep:1,scenario:"college",userPermissions:{swadeep:{read:!0,write:!0,execute:!0},tuhina:{read:!0,write:!1,execute:!0},abhronila:{read:!1,write:!1,execute:!1},debangshu:{read:!0,write:!1,execute:!1}},showSolution:!1,showCommonMistakes:!1,commandHistory:[]}}componentDidMount(){setTimeout(()=>{this.setState({showAnimation:!0})},100),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&this.setState({isDarkMode:!0}),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeListener=s=>this.setState({isDarkMode:s.matches}),this.darkModeMediaQuery.addListener(this.darkModeListener)}componentWillUnmount(){this.darkModeMediaQuery&&this.darkModeListener&&this.darkModeMediaQuery.removeListener(this.darkModeListener)}handleStepChange=s=>{this.setState({activeStep:s})};handleScenarioChange=s=>{this.setState({scenario:s}),this.setState({userPermissions:this.getDefaultPermissions(s)})};getDefaultPermissions=s=>({college:{swadeep:{read:!0,write:!0,execute:!0},tuhina:{read:!0,write:!1,execute:!0},abhronila:{read:!1,write:!1,execute:!1},debangshu:{read:!0,write:!1,execute:!1}},hosting:{swadeep:{read:!0,write:!0,execute:!0},tuhina:{read:!0,write:!0,execute:!1},abhronila:{read:!0,write:!1,execute:!1},debangshu:{read:!1,write:!1,execute:!1}},research:{swadeep:{read:!0,write:!0,execute:!0},tuhina:{read:!0,write:!1,execute:!0},abhronila:{read:!0,write:!0,execute:!1},debangshu:{read:!0,write:!1,execute:!1}}})[s];togglePermission=(s,o)=>{this.setState(h=>({userPermissions:{...h.userPermissions,[s]:{...h.userPermissions[s],[o]:!h.userPermissions[s][o]}}}))};toggleSolution=()=>{this.setState(s=>({showSolution:!s.showSolution}))};toggleCommonMistakes=()=>{this.setState(s=>({showCommonMistakes:!s.showCommonMistakes}))};addCommandToHistory=s=>{this.setState(o=>({commandHistory:[...o.commandHistory,{command:s,timestamp:new Date().toLocaleTimeString()}].slice(-5)}))};getScenarios=()=>({college:{title:"College Group Project",location:"Barrackpore RKM College",description:"Secure a project directory for a computer science group project",requirements:["Project directory: /projects/cs401_final","Owner: Swadeep (project lead)","Group: cs_students","Swadeep: Full access (rwx)","Tuhina: Can read and execute scripts, but not modify source","Abhronila: No access (different project)","Debangshu: Can read documentation only"],constraints:["Use appropriate umask for new files","Implement with standard permissions first","Use ACLs if standard permissions insufficient","Set sticky bit if needed","Document your solution"]},hosting:{title:"Web Hosting Shared Directory",location:"Shyamnagar Web Hosting",description:"Secure a web directory for multiple developers",requirements:["Web directory: /var/www/client_project","Owner: Swadeep (sysadmin)","Group: web_devs","Swadeep: Full access (rwx)","Tuhina: Can read/write web files, but not execute","Abhronila: Can read files only (content reviewer)","Debangshu: No access (different client)"],constraints:["Apache web server needs read access","New files should inherit permissions","Backup system needs read access","Log directory needs write for Apache","Implement least privilege"]},research:{title:"Research Data Directory",location:"Naihati Research Center",description:"Secure sensitive research data with complex access needs",requirements:["Data directory: /research/quantum_2024","Owner: Swadeep (principal investigator)","Group: quantum_team","Swadeep: Full access (rwx)","Tuhina: Read and execute analysis scripts","Abhronila: Read/write for data collection","Debangshu: Read-only for peer review"],constraints:["Some files are executable scripts","Need audit trail of access","External collaborators may need temporary access","Data must be backed up securely","Comply with research ethics"]}});getSteps=()=>[{number:1,title:"Analyze Requirements",description:"Understand who needs what access",tasks:["List all users and their required permissions","Identify groups needed","Consider file vs directory permissions","Plan for inheritance and new files"],commands:["cat /etc/group | grep -i student","id swadeep","groups tuhina"]},{number:2,title:"Set Up Directory Structure",description:"Create the directory with proper ownership",tasks:["Create the project directory","Set correct owner and group","Apply initial permissions","Consider umask for session"],commands:["sudo mkdir -p /projects/cs401_final","sudo chown swadeep:cs_students /projects/cs401_final","sudo chmod 750 /projects/cs401_final","umask 0027"]},{number:3,title:"Implement Basic Permissions",description:"Use standard Unix permissions first",tasks:["Set directory permissions","Create test files","Verify access works as intended","Test each user's access"],commands:["ls -ld /projects/cs401_final","sudo -u tuhina ls -l /projects/cs401_final","getfacl /projects/cs401_final"]},{number:4,title:"Add ACLs for Fine Control",description:"Extend with ACLs where standard permissions insufficient",tasks:["Add user-specific ACL entries","Set default ACLs if needed","Configure mask appropriately","Verify effective permissions"],commands:["setfacl -m u:tuhina:r-x /projects/cs401_final","setfacl -m u:debangshu:r-- /projects/cs401_final","setfacl -m d:u:tuhina:r-x /projects/cs401_final","getfacl /projects/cs401_final"]},{number:5,title:"Test and Verify",description:"Thoroughly test the implementation",tasks:["Test each user's access","Create new files to test inheritance","Verify no unauthorized access","Document the configuration"],commands:["sudo -u tuhina touch /projects/cs401_final/test.txt","sudo -u abhronila ls /projects/cs401_final","ls -ld /projects/cs401_final","getfacl -R /projects/cs401_final > acl_backup.txt"]}];generateSolution=()=>{const{scenario:s,userPermissions:o}=this.state,n=this.getScenarios()[s],p=Object.entries(o).filter(([u,d])=>d.read||d.write||d.execute).map(([u,d])=>{const b=`${d.read?"r":"-"}${d.write?"w":"-"}${d.execute?"x":"-"}`;return`setfacl -m u:${u}:${b} ${n.requirements[1].split(": ")[1]}`});return["# Solution for: "+n.title,"# Location: "+n.location,"","# 1. Create directory and set ownership","sudo mkdir -p "+n.requirements[1].split(": ")[1],"sudo chown "+n.requirements[2].split(": ")[1].replace(")","")+" "+n.requirements[1].split(": ")[1],"","# 2. Set base permissions (assuming group has some access)","sudo chmod 750 "+n.requirements[1].split(": ")[1],"","# 3. Add ACLs for specific users",...p,"","# 4. Set default ACLs for new files (if needed)","setfacl -m d:g::r-x "+n.requirements[1].split(": ")[1],"","# 5. Verify implementation","ls -ld "+n.requirements[1].split(": ")[1],"getfacl "+n.requirements[1].split(": ")[1],"","# 6. Test access","# sudo -u tuhina ls -l "+n.requirements[1].split(": ")[1],"# sudo -u tuhina cat "+n.requirements[1].split(": ")[1]+"/README.md"].join(`
`)};render(){const{isDarkMode:s,showAnimation:o,activeStep:h,scenario:n,userPermissions:p,showSolution:u,showCommonMistakes:d,commandHistory:b}=this.state,g=this.getScenarios(),j=this.getSteps(),c=j.find(r=>r.number===h)||j[0],i=g[n],f=a("min-h-screen transition-colors duration-300",s?"bg-gray-900 text-gray-100":"bg-gradient-to-br from-orange-50 to-amber-50 text-gray-900"),m=a("rounded-xl p-6 transition-all duration-300",s?"bg-gray-800 border border-gray-700 hover:border-orange-500 hover:shadow-[0_0_30px_rgba(249,115,22,0.1)]":"bg-white border border-gray-200 hover:border-orange-400 hover:shadow-[0_0_30px_rgba(249,115,22,0.15)]"),y=a("rounded-lg p-5 transition-all duration-300",s?"bg-gradient-to-r from-amber-900/30 to-yellow-900/30 border-l-4 border-yellow-500 hover:shadow-[0_0_25px_rgba(234,179,8,0.15)]":"bg-gradient-to-r from-amber-50 to-yellow-50 border-l-4 border-yellow-500 hover:shadow-[0_0_25px_rgba(234,179,8,0.2)]"),l=a("transition-all duration-700 motion-safe:animate-[fadeInUp_0.8s_ease-out]",o?"opacity-100 translate-y-0":"opacity-0 translate-y-8");return e.jsxs("div",{className:f,children:[e.jsx("style",{children:`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulseStep {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
    `}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-6xl",children:[e.jsxs("header",{className:a(l,"mb-12 text-center"),children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Topic 6: Practical Lab - Secure Project Directory"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Hands-on exercise: Implement secure multi-user access control for a project directory."})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.1s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-orange-700 dark:text-orange-400",children:[e.jsx("span",{className:"inline-block p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg mr-2",children:"üß™"}),"Lab Objective"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("p",{className:"text-lg leading-relaxed",children:["In this practical lab, you will apply the concepts learned in previous topics to",e.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:" securely configure a project directory"}),"for multi-user access. You'll work through real scenarios, make decisions, and implement solutions."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2 text-blue-700 dark:text-blue-400",children:"üéØ Apply Knowledge"}),e.jsx("p",{className:"text-sm",children:"Use umask, chmod, chown, setfacl, getfacl in practice"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700 dark:text-green-400",children:"ü§î Make Decisions"}),e.jsx("p",{className:"text-sm",children:"Choose between standard permissions vs ACLs based on requirements"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2 text-purple-700 dark:text-purple-400",children:"üîß Debug & Verify"}),e.jsx("p",{className:"text-sm",children:"Test your implementation and fix issues that arise"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg border-l-4 border-blue-500",children:[e.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-400 mb-1",children:"Real-World Context:"}),e.jsx("p",{children:"Swadeep at Barrackpore college needs to set up a secure project directory for his team. Tuhina at Shyamnagar hosting needs to configure client web directories. Abhronila at Naihati research needs to secure sensitive data. Each faces similar challenges with different constraints."})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.2s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 dark:text-blue-400",children:[e.jsx("span",{className:"inline-block p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-2",children:"üè¢"}),"Choose Your Scenario"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block mb-3 font-semibold text-lg",children:"Select Lab Scenario:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.keys(g).map(r=>e.jsxs("button",{onClick:()=>this.handleScenarioChange(r),className:a("p-4 rounded-lg transition-all duration-300 text-left",n===r?"bg-orange-600 text-white":"bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700"),children:[e.jsx("div",{className:"font-semibold",children:g[r].title}),e.jsx("div",{className:"text-xs opacity-80 mt-1",children:g[r].location})]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:i.title}),e.jsx("p",{className:"mb-4",children:i.description}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Location:"})," ",i.location]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-green-700 dark:text-green-400",children:"‚úÖ Requirements:"}),e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:i.requirements.map((r,t)=>e.jsx("li",{className:"text-sm",children:r},t))})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-blue-700 dark:text-blue-400",children:"‚öôÔ∏è Constraints:"}),e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:i.constraints.map((r,t)=>e.jsx("li",{className:"text-sm",children:r},t))})]})]})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.3s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-purple-700 dark:text-purple-400",children:[e.jsx("span",{className:"inline-block p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg mr-2",children:"üìã"}),"Lab Steps"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:j.map(r=>e.jsxs("button",{onClick:()=>this.handleStepChange(r.number),className:a("px-4 py-3 rounded-lg transition-all duration-300 font-semibold",h===r.number?"bg-orange-600 text-white shadow-lg":"bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700"),style:h===r.number?{animation:"pulseStep 2s infinite"}:{},children:["Step ",r.number,": ",r.title]},r.number))}),e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500 text-white flex items-center justify-center text-xl font-bold",children:c.number})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:c.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:c.description})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-400",children:"Tasks to Complete:"}),e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:c.tasks.map((r,t)=>e.jsx("li",{className:"text-sm",children:r},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-400",children:"Example Commands:"}),e.jsx("div",{className:"space-y-2",children:c.commands.map((r,t)=>e.jsxs("div",{className:"p-2 bg-gray-900 text-green-400 rounded font-mono text-sm",children:["$ ",r]},t))})]})]})]}),c.number===1&&e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border-l-4 border-orange-500",children:[e.jsx("h4",{className:"font-bold mb-3 text-orange-700 dark:text-orange-400",children:"Permission Planning Tool:"}),e.jsx("p",{className:"mb-4 text-sm",children:"Set the required permissions for each user based on the scenario requirements:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(p).map(([r,t])=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"font-semibold mb-3 capitalize",children:r}),e.jsx("div",{className:"space-y-2",children:["read","write","execute"].map(x=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t[x],onChange:()=>this.togglePermission(r,x),className:"mr-2 h-4 w-4"}),e.jsxs("span",{className:"text-sm capitalize",children:[x," (",t[x]?x[0].toUpperCase():"-",")"]})]},x))}),e.jsxs("div",{className:"mt-3 p-2 bg-gray-100 dark:bg-gray-900 rounded text-center font-mono text-sm",children:[t.read?"r":"-",t.write?"w":"-",t.execute?"x":"-"]})]},r))}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Resulting ACL Commands:"}),e.jsx("div",{className:"space-y-1",children:Object.entries(p).filter(([r,t])=>t.read||t.write||t.execute).map(([r,t])=>{const x=`${t.read?"r":"-"}${t.write?"w":"-"}${t.execute?"x":"-"}`;return e.jsxs("code",{className:"block p-2 bg-gray-900 text-green-400 rounded text-sm",children:["setfacl -m u:",r,":",x," ",i.requirements[1].split(": ")[1]]},r)})})]})]}),c.number>=2&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-blue-700 dark:text-blue-400",children:"Command History:"}),e.jsx("p",{className:"text-sm mb-3",children:"As you work through the lab, these are the commands you would run:"}),e.jsx("div",{className:"space-y-2",children:b.length>0?b.map((r,t)=>e.jsxs("div",{className:"p-2 bg-gray-900 text-green-400 rounded font-mono text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["[",r.timestamp,"] $ "]}),r.command]},t)):e.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-800 rounded text-center text-gray-600 dark:text-gray-400",children:"No commands executed yet. Try clicking command examples above."})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{onClick:()=>this.addCommandToHistory(c.commands[0]),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors duration-300 text-sm",children:["Simulate Running: ",c.commands[0].split(" ")[0]]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:"Note: In a real lab, you would run these commands on an actual Linux system."})]})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.4s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"inline-block p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-2",children:"üìÅ"}),"Directory Structure & Permissions"]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"mb-4",children:"Visualize the directory structure and how permissions apply at different levels:"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("svg",{width:"500",height:"300",viewBox:"0 0 500 300",className:"w-full max-w-lg",children:[e.jsx("rect",{x:"200",y:"20",width:"100",height:"60",rx:"8",fill:"#3B82F6",opacity:"0.8"}),e.jsx("text",{x:"250",y:"45",textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:"/projects"}),e.jsx("text",{x:"250",y:"65",textAnchor:"middle",fill:"white",fontSize:"10",children:"drwxr-xr-x"}),e.jsx("rect",{x:"150",y:"100",width:"200",height:"60",rx:"8",fill:"#10B981",opacity:"0.8",children:e.jsx("animate",{attributeName:"fill",values:"#10B981;#059669;#10B981",dur:"3s",repeatCount:"indefinite"})}),e.jsx("text",{x:"250",y:"125",textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:i.requirements[1].split(": ")[1]}),e.jsx("text",{x:"250",y:"145",textAnchor:"middle",fill:"white",fontSize:"10",children:"drwxr-x---+ (with ACLs)"}),e.jsxs("g",{children:[e.jsx("rect",{x:"100",y:"180",width:"100",height:"40",rx:"5",fill:"#8B5CF6",opacity:"0.8"}),e.jsx("text",{x:"150",y:"200",textAnchor:"middle",fill:"white",fontSize:"12",children:"source.py"}),e.jsx("text",{x:"150",y:"215",textAnchor:"middle",fill:"white",fontSize:"8",children:"-rw-r--r--"}),e.jsx("rect",{x:"220",y:"180",width:"100",height:"40",rx:"5",fill:"#F59E0B",opacity:"0.8"}),e.jsx("text",{x:"270",y:"200",textAnchor:"middle",fill:"white",fontSize:"12",children:"script.sh"}),e.jsx("text",{x:"270",y:"215",textAnchor:"middle",fill:"white",fontSize:"8",children:"-rwxr-xr--"}),e.jsx("rect",{x:"340",y:"180",width:"100",height:"40",rx:"5",fill:"#EC4899",opacity:"0.8"}),e.jsx("text",{x:"390",y:"200",textAnchor:"middle",fill:"white",fontSize:"12",children:"data.csv"}),e.jsx("text",{x:"390",y:"215",textAnchor:"middle",fill:"white",fontSize:"8",children:"-rw-r-----"})]}),e.jsx("path",{d:"M250,80 L250,100",stroke:"#6B7280",strokeWidth:"2",fill:"none"}),e.jsx("path",{d:"M250,160 L250,180",stroke:"#6B7280",strokeWidth:"2",fill:"none"}),e.jsxs("g",{children:[e.jsx("circle",{cx:"350",y:"120",r:"8",fill:"#EF4444",children:e.jsx("animate",{attributeName:"r",values:"8;10;8",dur:"2s",repeatCount:"indefinite"})}),e.jsx("text",{x:"370",y:"125",textAnchor:"start",fill:"#EF4444",fontSize:"10",children:"ACLs active"}),e.jsx("circle",{cx:"350",y:"200",r:"5",fill:"#8B5CF6"}),e.jsx("text",{x:"370",y:"205",textAnchor:"start",fill:"#6B7280",fontSize:"8",children:"Inherited permissions"})]}),e.jsx("rect",{x:"50",y:"240",width:"400",height:"50",rx:"5",fill:"#F3F4F6",stroke:"#D1D5DB"}),e.jsx("text",{x:"250",y:"260",textAnchor:"middle",fill:"#4B5563",fontSize:"10",children:"Green box = Your project directory | + sign = ACLs present"}),e.jsx("text",{x:"250",y:"275",textAnchor:"middle",fill:"#4B5563",fontSize:"10",children:"Colors represent different file types with different permissions"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("h4",{className:"font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Key Points:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"The plus (+) sign in permissions indicates ACLs are present"}),e.jsx("li",{children:"Directory permissions control access to the directory itself"}),e.jsx("li",{children:"File permissions inside are independent but can inherit via default ACLs"}),e.jsx("li",{children:'Execute bit on directories means "can access contents"'})]})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("h4",{className:"font-bold mb-2 text-green-700 dark:text-green-400",children:"At Barrackpore College:"}),e.jsx("p",{className:"text-sm",children:"Swadeep's project directory needs different permissions for different file types: source code (readable), scripts (executable), data (restricted). He'll use a combination of standard permissions and ACLs."})]})]})]})})]}),e.jsx("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.5s"},children:e.jsx("div",{className:y,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-amber-500 flex items-center justify-center text-white font-bold",children:"SH"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-amber-800 dark:text-yellow-300",children:"Teacher's Note"}),e.jsx("span",{className:"text-sm px-3 py-1 bg-amber-200 dark:bg-amber-900 rounded-full font-semibold",children:"Sukanta Hui"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Experience:"})," 27 years in Programming, RDBMS, OS, Web Development"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Email: sukantahui@codernaccotax.co.in | Mobile: 7003756860"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üéØ Lab Teaching Strategy:"}),e.jsx("p",{children:'When running this lab at Barrackpore college, I have students work in pairs: one as Swadeep (admin), one as Tuhina (user). They switch roles. The "admin" implements permissions, the "user" tests access. This reveals real-world issues immediately.'})]}),e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üí° Common Student Mistake:"}),e.jsx("p",{children:"Students often set directory permissions correctly but forget about files inside. They make /project drwxr-x--- but files inside remain -rw-r--r-- (world readable). Teach them about umask and default ACLs for inheritance."})]}),e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üîß Debugging Tip:"}),e.jsx("p",{children:"When access doesn't work as expected, follow this debug checklist: 1) Check ls -ld on directory 2) Check ls -l on file 3) Check getfacl 4) Check groups with 'id username' 5) Test with 'sudo -u username command'. At Shyamnagar hosting, we keep this checklist posted."})]})]})]})]})})}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.6s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"inline-block p-2 bg-green-100 dark:green-900/30 rounded-lg mr-2",children:"‚úÖ"}),"Solution & Verification"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:this.toggleSolution,className:"w-full p-4 bg-green-100 dark:bg-green-900/30 hover:bg-green-200 dark:hover:bg-green-800/50 rounded-lg transition-colors duration-300 text-green-700 dark:text-green-400 font-semibold text-lg",children:u?"‚ñ≤ Hide Solution":"‚ñº Show Complete Solution"}),u&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsxs("h4",{className:"font-bold mb-3 text-blue-700 dark:text-blue-400",children:["Complete Implementation for ",i.title,":"]}),e.jsx("pre",{className:"p-4 bg-gray-900 text-green-400 rounded-lg overflow-x-auto text-sm",children:this.generateSolution()})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2 text-blue-700 dark:text-blue-400",children:"Verification Steps:"}),e.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm",children:[e.jsxs("li",{children:["Run ",e.jsxs("code",{children:["ls -ld ",i.requirements[1].split(": ")[1]]})," - Should show drwxr-x---+"]}),e.jsxs("li",{children:["Run ",e.jsxs("code",{children:["getfacl ",i.requirements[1].split(": ")[1]]})," - Should list all user ACLs"]}),e.jsxs("li",{children:["Test Swadeep access: ",e.jsxs("code",{children:["sudo -u swadeep touch ",i.requirements[1].split(": ")[1],"/test.txt"]})," - Should succeed"]}),e.jsxs("li",{children:["Test Tuhina access: ",e.jsxs("code",{children:["sudo -u tuhina ls -l ",i.requirements[1].split(": ")[1]]})," - Should show files"]}),e.jsxs("li",{children:["Test Abhronila access: ",e.jsxs("code",{children:["sudo -u abhronila ls ",i.requirements[1].split(": ")[1]]})," - Should fail if no access"]}),e.jsxs("li",{children:["Create new file: ",e.jsxs("code",{children:["sudo -u swadeep touch ",i.requirements[1].split(": ")[1],"/new.txt"]})]}),e.jsxs("li",{children:["Check new file permissions: ",e.jsxs("code",{children:["ls -l ",i.requirements[1].split(": ")[1],"/new.txt"]})," - Should inherit correctly"]})]})]})]}),e.jsxs("button",{onClick:this.toggleCommonMistakes,className:"w-full p-4 bg-yellow-100 dark:bg-yellow-900/30 hover:bg-yellow-200 dark:hover:bg-yellow-800/50 rounded-lg transition-colors duration-300 text-yellow-700 dark:text-yellow-400 font-semibold",children:[d?"‚ñ≤ Hide":"‚ñº Show"," Common Mistakes in This Lab"]}),d&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-red-700 dark:text-red-400",children:"Common Lab Mistakes:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-1",children:"1. Forgetting to set execute on directories"}),e.jsx("p",{className:"text-sm",children:"Setting directory to drw-r--r-- means users can't cd into it or list contents, even with read permission."}),e.jsxs("code",{className:"block mt-1 p-2 bg-gray-900 text-red-400 rounded text-xs",children:["# WRONG: chmod 644 /projects/cs401_final",e.jsx("br",{}),"# RIGHT: chmod 755 /projects/cs401_final  # or 750 with ACLs"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-1",children:"2. Using 777 as quick fix"}),e.jsx("p",{className:"text-sm",children:"When Tuhina can't access, students often do chmod 777 instead of diagnosing the real issue."}),e.jsxs("code",{className:"block mt-1 p-2 bg-gray-900 text-red-400 rounded text-xs",children:["# WRONG: chmod 777 /projects/cs401_final",e.jsx("br",{}),"# RIGHT: setfacl -m u:tuhina:r-x /projects/cs401_final"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-1",children:"3. Not testing all users"}),e.jsx("p",{className:"text-sm",children:"Students test Swadeep (works), test Tuhina (works), but forget to test Abhronila (should fail)."}),e.jsxs("code",{className:"block mt-1 p-2 bg-gray-900 text-red-400 rounded text-xs",children:["# Complete testing:",e.jsx("br",{}),"$ sudo -u swadeep ls /project   # Should work",e.jsx("br",{}),"$ sudo -u tuhina ls /project    # Should work",e.jsx("br",{}),"$ sudo -u abhronila ls /project # Should fail (Permission denied)"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold mb-1",children:"4. Ignoring umask for new files"}),e.jsx("p",{className:"text-sm",children:"Permissions set correctly, but new files created have wrong permissions due to umask."}),e.jsxs("code",{className:"block mt-1 p-2 bg-gray-900 text-red-400 rounded text-xs",children:["# Set appropriate umask before creating files",e.jsx("br",{}),"$ umask 0027",e.jsx("br",{}),"$ touch newfile.txt",e.jsx("br",{}),"$ ls -l newfile.txt  # Should be -rw-r-----"]})]})]})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.7s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-purple-700 dark:text-purple-400",children:[e.jsx("span",{className:"inline-block p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg mr-2",children:"üìù"}),"Lab Report & Documentation"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsxs("p",{className:"mb-4",children:["A key part of system administration is ",e.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"documentation"}),". After completing the lab, document your work so others (or future you) can understand and maintain it."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-blue-700 dark:text-blue-400",children:"üìã What to Document:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-2",children:[e.jsx("li",{children:"Scenario and requirements summary"}),e.jsx("li",{children:"Commands used with explanations"}),e.jsx("li",{children:"Permissions matrix (who can do what)"}),e.jsx("li",{children:"Testing procedure and results"}),e.jsx("li",{children:"Issues encountered and solutions"}),e.jsx("li",{children:"Lessons learned"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-3 text-green-700 dark:text-green-400",children:"üéØ At Shyamnagar Hosting:"}),e.jsx("p",{className:"text-sm mb-3",children:"We maintain a README.secure in each project directory:"}),e.jsxs("code",{className:"block p-3 bg-gray-900 text-green-400 rounded text-xs",children:["# ACCESS CONTROL - ",i.requirements[1].split(": ")[1],e.jsx("br",{}),"# Owner: swadeep",e.jsx("br",{}),"# Group: cs_students",e.jsx("br",{}),"# ACLs:",e.jsx("br",{}),"# - tuhina: r-x (can read/execute)",e.jsx("br",{}),"# - debangshu: r-- (read only)",e.jsx("br",{}),"# - abhronila: --- (no access)",e.jsx("br",{}),"# Last verified: ",new Date().toLocaleDateString(),e.jsx("br",{}),"# Verified by: Swadeep"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2 text-yellow-700 dark:text-yellow-400",children:"üí° Professional Practice:"}),e.jsx("p",{children:"At Ichapur hospital, Dr. Debangshu maintains an access control logbook. Every permission change is documented with: Date, Who requested, Who approved, Reason, Expiration (if temporary). This is critical for audits and compliance."})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.8s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-indigo-700 dark:text-indigo-400",children:[e.jsx("span",{className:"inline-block p-2 bg-indigo-100 dark:indigo-900/30 rounded-lg mr-2",children:"üí°"}),"Thinking Hints & Troubleshooting"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"ü§î Debug this situation:"}),e.jsxs("p",{className:"text-sm",children:["Swadeep at Barrackpore college sets up the directory with these commands:",e.jsxs("code",{className:"block bg-gray-900 text-green-400 p-2 rounded font-mono text-xs mt-1",children:["$ sudo mkdir /projects/cs401_final",e.jsx("br",{}),"$ sudo chown swadeep:cs_students /projects/cs401_final",e.jsx("br",{}),"$ sudo chmod 750 /projects/cs401_final",e.jsx("br",{}),"$ setfacl -m u:tuhina:r-x /projects/cs401_final",e.jsx("br",{}),"$ setfacl -m u:debangshu:r-- /projects/cs401_final"]}),"But Tuhina reports she still can't access the directory. What could be wrong?"]})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"üîç Analyze this output:"}),e.jsxs("code",{className:"block bg-gray-900 text-green-400 p-2 rounded font-mono text-xs mt-1",children:["$ getfacl /projects/cs401_final",e.jsx("br",{}),"# file: projects/cs401_final",e.jsx("br",{}),"# owner: swadeep",e.jsx("br",{}),"# group: cs_students",e.jsx("br",{}),"user::rwx",e.jsx("br",{}),"user:tuhina:r-x          #effective:r-x",e.jsx("br",{}),"group::r-x",e.jsx("br",{}),"mask::r-x",e.jsx("br",{}),"other::---",e.jsx("br",{}),"$ ls -ld /projects/cs401_final",e.jsx("br",{}),"drwxr-x---+ 2 swadeep cs_students 4096 Feb 1 10:00 /projects/cs401_final"]}),e.jsx("p",{className:"text-sm mt-2",children:"Why does Tuhina have effective r-x but the directory shows group r-x? Who else can access?"})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"üß™ Design a test plan:"}),e.jsx("p",{className:"text-sm",children:"For the Naihati research scenario, design a complete test plan to verify: 1) Swadeep has full access, 2) Tuhina can run scripts but not modify source, 3) Abhronila can read/write data files, 4) Debangshu can read only, 5) Unauthorized users get denied. What specific commands would you run?"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-400 mb-1",children:"üéØ Remember:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"Test both positive (should work) and negative (should fail) cases"}),e.jsxs("li",{children:["Check groups with ",e.jsx("code",{children:"id username"})," and ",e.jsx("code",{children:"groups username"})]}),e.jsxs("li",{children:["Use ",e.jsx("code",{children:"sudo -u username command"})," to test as different users"]}),e.jsx("li",{children:"Document everything - if it's not documented, you'll forget in 3 months"}),e.jsx("li",{children:"Consider inheritance - test new files created in the directory"})]})]})]})]}),e.jsxs("section",{className:a(l,m,"mb-8"),style:{animationDelay:"0.9s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 dark:text-blue-400",children:[e.jsx("span",{className:"inline-block p-2 bg-blue-100 dark:blue-900/30 rounded-lg mr-2",children:"üìã"}),"Lab Commands Quick Reference"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:s?"bg-gray-800":"bg-gray-100",children:[e.jsx("th",{className:"p-3 text-left border",children:"Command"}),e.jsx("th",{className:"p-3 text-left border",children:"Purpose"}),e.jsx("th",{className:"p-3 text-left border",children:"Example"}),e.jsx("th",{className:"p-3 text-left border",children:"Use in Lab"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"mkdir -p"}),e.jsx("td",{className:"p-3 border",children:"Create directory"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"mkdir -p /projects/cs401_final"}),e.jsx("td",{className:"p-3 border",children:"Step 2: Create project directory"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"chown"}),e.jsx("td",{className:"p-3 border",children:"Change owner:group"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"chown swadeep:cs_students /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 2: Set ownership"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"chmod"}),e.jsx("td",{className:"p-3 border",children:"Set permissions"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"chmod 750 /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 3: Base permissions"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"setfacl -m"}),e.jsx("td",{className:"p-3 border",children:"Add ACL entry"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"setfacl -m u:tuhina:r-x /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 4: Fine-grained control"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"setfacl -m d:"}),e.jsx("td",{className:"p-3 border",children:"Default ACL"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"setfacl -m d:u:tuhina:r-x /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 4: Inheritance"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"getfacl"}),e.jsx("td",{className:"p-3 border",children:"View ACLs"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"getfacl /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 5: Verification"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"ls -ld"}),e.jsx("td",{className:"p-3 border",children:"Directory info"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"ls -ld /projects/..."}),e.jsx("td",{className:"p-3 border",children:"All steps: Check permissions"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"sudo -u"}),e.jsx("td",{className:"p-3 border",children:"Run as user"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"sudo -u tuhina ls /projects/..."}),e.jsx("td",{className:"p-3 border",children:"Step 5: Test access"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"umask"}),e.jsx("td",{className:"p-3 border",children:"Default permissions"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"umask 0027"}),e.jsx("td",{className:"p-3 border",children:"Step 2: Session default"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border font-mono",children:"id"}),e.jsx("td",{className:"p-3 border",children:"User identity"}),e.jsx("td",{className:"p-3 border font-mono text-sm",children:"id tuhina"}),e.jsx("td",{className:"p-3 border",children:"Step 1: Planning"})]})]})]})})]}),e.jsxs("footer",{className:a(l,"mt-12 pt-8 border-t border-gray-300 dark:border-gray-700 text-center"),children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Topic 6: Practical Lab - Hands-on Security Implementation"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Next Topic: Common permission-related mistakes and troubleshooting"})]})]})]})}}export{C as default};

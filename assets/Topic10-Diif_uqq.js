import{r as n,j as e}from"./index-meFSU1Lv.js";import{c as l}from"./clsx-B-dksMZM.js";const g=()=>{const[c,d]=n.useState(null),[t,a]=n.useState("NR"),[o,i]=n.useState(null),x=new Date().getFullYear()-1998;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 text-gray-800 dark:text-gray-200 px-4 py-8 transition-colors duration-500",children:[e.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes variablePulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.05);
            opacity: 0.9;
          }
        }
        
        @keyframes recordHighlight {
          0% {
            stroke: #4b5563;
          }
          50% {
            stroke: #3b82f6;
          }
          100% {
            stroke: #4b5563;
          }
        }
        
        @keyframes fieldFlow {
          0% {
            transform: translateX(0);
            opacity: 0;
          }
          20% {
            opacity: 1;
          }
          80% {
            opacity: 1;
          }
          100% {
            transform: translateX(200px);
            opacity: 0;
          }
        }
        
        @keyframes separatorFlash {
          0%, 100% {
            fill: #4b5563;
          }
          50% {
            fill: #ef4444;
          }
        }
      `}),e.jsx("header",{className:"max-w-6xl mx-auto mb-12",children:e.jsxs("div",{className:"animate-[fadeInUp_0.8s_ease-out] motion-safe:animate-[fadeInUp_0.8s_ease-out]",children:[e.jsx("span",{className:"inline-block px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full text-sm font-semibold mb-4",children:"Topic 11: awk Internals"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 leading-tight",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400",children:"Built-in Variables in awk"})}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-3xl",children:"Master NR, NF, FS, OFS, $0, $1... - The internal variables that give awk its power for data processing."})]})}),e.jsxs("main",{className:"max-w-6xl mx-auto",children:[e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.1s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.1s_both]",children:e.jsxs("div",{className:l("bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg transition-all duration-500",c==="intro"?"shadow-2xl shadow-purple-500/20 dark:shadow-purple-500/10 -translate-y-1":"hover:shadow-xl"),onMouseEnter:()=>d("intro"),onMouseLeave:()=>d(null),children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-xl",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"The Engine Room of awk"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Built-in variables are awk's internal state indicators. They track everything from current record number to field count, providing the context needed for intelligent data processing."})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3 text-purple-600 dark:text-purple-400",children:"What They Are"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Predefined variables that awk automatically maintains during processing. They update in real-time as awk reads each record."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Automatically updated by awk"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Provide processing context"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Read-only (except FS, OFS, etc.)"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3 text-pink-600 dark:text-pink-400",children:"When to Use Them"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2"}),e.jsx("span",{children:"Need to know line/record number (NR)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2"}),e.jsx("span",{children:"Processing variable-length records (NF)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2"}),e.jsx("span",{children:"Customizing input/output formats (FS, OFS)"})]})]})]})]})]})})}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.2s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.2s_both]",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Interactive Variable Explorer"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-600 dark:text-blue-400",children:"Core Built-in Variables"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"NR",name:"NR",desc:"Number of Records",color:"bg-blue-500",hoverColor:"hover:bg-blue-600"},{id:"NF",name:"NF",desc:"Number of Fields",color:"bg-purple-500",hoverColor:"hover:bg-purple-600"},{id:"FS",name:"FS",desc:"Field Separator",color:"bg-green-500",hoverColor:"hover:bg-green-600"},{id:"OFS",name:"OFS",desc:"Output Field Separator",color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600"},{id:"RS",name:"RS",desc:"Record Separator",color:"bg-pink-500",hoverColor:"hover:bg-pink-600"},{id:"ORS",name:"ORS",desc:"Output Record Separator",color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600"},{id:"$0",name:"$0",desc:"Entire Record",color:"bg-red-500",hoverColor:"hover:bg-red-600"},{id:"$N",name:"$1...",desc:"Individual Fields",color:"bg-teal-500",hoverColor:"hover:bg-teal-600"}].map(s=>e.jsxs("button",{className:l("p-4 rounded-lg text-white transition-all duration-300 transform",s.color,s.hoverColor,t===s.id?"ring-4 ring-offset-2 ring-white/50 scale-105":"hover:scale-102"),onClick:()=>a(s.id),onMouseEnter:()=>a(s.id),children:[e.jsx("div",{className:"font-mono font-bold text-lg",children:s.name}),e.jsx("div",{className:"text-xs opacity-90 mt-1",children:s.desc})]},s.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:[e.jsx("span",{className:l(t==="NR"&&"text-blue-500",t==="NF"&&"text-purple-500",t==="FS"&&"text-green-500",t==="OFS"&&"text-yellow-500",t==="RS"&&"text-pink-500",t==="ORS"&&"text-indigo-500",t==="$0"&&"text-red-500",t==="$N"&&"text-teal-500"),children:t==="$N"?"$1, $2, $3...":t}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:" - Details"})]}),(()=>{const r={NR:{purpose:"Tracks the current record/line number being processed",default:"Starts at 1, increments for each record",example:`awk 'NR == 1 {print "Header:" $0}' file.txt`,usage:"Skip headers, process every nth line, track progress"},NF:{purpose:"Contains the number of fields in the current record",default:"Changes for each record based on field count",example:`awk '{print "Line", NR, "has", NF, "fields"}'`,usage:"Validate data, access last field ($NF), handle variable-length records"},FS:{purpose:"Defines the input field separator",default:'Whitespace (space, tab) or "[ \\t]+"',example:`awk -F, 'BEGIN{FS=","} {print $1}' file.csv`,usage:"Parse CSV, custom delimiters, multiple separators"},OFS:{purpose:"Defines the output field separator for print statements",default:"Single space",example:`awk 'BEGIN{OFS="|"} {print $1, $2, $3}'`,usage:"Create pipe-delimited output, custom formatting"},RS:{purpose:"Defines the input record separator",default:"Newline character (\\n)",example:`awk 'BEGIN{RS=""} {print "Record:" NR}' file.txt`,usage:"Process paragraphs, custom record boundaries"},ORS:{purpose:"Defines the output record separator",default:"Newline character (\\n)",example:`awk 'BEGIN{ORS="\\n\\n"} {print $0}'`,usage:"Double spacing, custom record endings"},$0:{purpose:"Contains the entire current input record",default:"The raw line as read from input",example:`awk '{print "Full record:", $0}'`,usage:"Process entire line, pattern matching, logging"},$N:{purpose:"Field variables: $1 (first field), $2 (second), etc.",default:"Empty string if field doesn't exist",example:`awk '{print "Name:", $1, "Age:", $2}'`,usage:"Column extraction, data transformation, calculations"}}[t];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"Purpose:"}),e.jsx("p",{className:"text-sm",children:r.purpose})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"Default Value:"}),e.jsx("code",{className:"text-sm bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded",children:r.default})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"Example:"}),e.jsx("pre",{className:"text-sm bg-gray-900 text-gray-100 p-2 rounded overflow-x-auto",children:r.example})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-300 mb-1",children:"Common Usage:"}),e.jsx("p",{className:"text-sm",children:r.usage})]})]})})()]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"Visualizing awk Variables in Action"}),e.jsxs("div",{className:"relative h-[500px]",children:[e.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 400 500",className:"overflow-visible",children:e.jsxs("g",{transform:"translate(20, 20)",children:[e.jsx("text",{x:"0",y:"0",fill:"#9ca3af",fontSize:"12",fontWeight:"bold",children:"Input Data Stream:"}),e.jsx("g",{transform:"translate(0, 30)",children:[1,2,3,4].map(s=>e.jsxs("g",{transform:`translate(0, ${(s-1)*40})`,children:[e.jsx("rect",{x:"0",y:"0",width:"360",height:"30",rx:"4",fill:"#1f2937",className:"transition-all duration-300",onMouseEnter:()=>a("NR")}),e.jsxs("text",{x:"10",y:"20",fill:"white",fontSize:"12",dy:".3em",children:[s===1&&"Swadeep,85,92,78,Math",s===2&&"Tuhina,92,88,95,Science",s===3&&"Abhronila,78,85,90,History",s===4&&"Debangshu,65,72,68,English"]}),e.jsxs("g",{transform:"translate(340, 0)",onMouseEnter:()=>a("NR"),children:[e.jsx("rect",{x:"0",y:"0",width:"20",height:"30",fill:"#3b82f6",rx:"4"}),e.jsx("text",{x:"10",y:"15",textAnchor:"middle",fill:"white",fontSize:"10",dy:".3em",children:"NR"}),e.jsx("text",{x:"10",y:"25",textAnchor:"middle",fill:"white",fontSize:"8",dy:".3em",children:s})]}),t==="NR"&&s===2&&e.jsx("rect",{x:"-5",y:"-5",width:"370",height:"40",rx:"6",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5"})]},s))}),e.jsxs("g",{transform:"translate(0, 200)",onMouseEnter:()=>a("FS"),children:[e.jsx("text",{x:"0",y:"0",fill:"#9ca3af",fontSize:"12",fontWeight:"bold",children:"Field Separator (FS):"}),e.jsxs("g",{transform:"translate(0, 20)",children:[e.jsx("rect",{x:"0",y:"0",width:"360",height:"40",rx:"4",fill:"#374151"}),e.jsx("text",{x:"10",y:"20",fill:"white",fontSize:"12",dy:".3em",children:"Swadeep,85,92,78,Math"}),e.jsx("line",{x1:"70",y1:"5",x2:"70",y2:"35",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"3,3",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite",begin:"0s"})}),e.jsx("line",{x1:"100",y1:"5",x2:"100",y2:"35",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"3,3",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite",begin:"0.5s"})}),e.jsx("line",{x1:"130",y1:"5",x2:"130",y2:"35",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"3,3",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite",begin:"1s"})}),e.jsx("line",{x1:"160",y1:"5",x2:"160",y2:"35",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:"3,3",children:e.jsx("animate",{attributeName:"opacity",values:"0.3;1;0.3",dur:"2s",repeatCount:"indefinite",begin:"1.5s"})}),e.jsx("text",{x:"185",y:"20",fill:"#9ca3af",fontSize:"10",dy:".3em",children:'← FS = ","'})]})]}),e.jsxs("g",{transform:"translate(0, 280)",onMouseEnter:()=>a("$N"),children:[e.jsx("text",{x:"0",y:"0",fill:"#9ca3af",fontSize:"12",fontWeight:"bold",children:"Field Variables ($1, $2...):"}),e.jsxs("g",{transform:"translate(0, 20)",children:[["$1: Swadeep","$2: 85","$3: 92","$4: 78","$5: Math"].map((s,r)=>e.jsxs("g",{transform:`translate(${r*70}, 0)`,children:[e.jsx("rect",{x:"0",y:"0",width:"60",height:"30",rx:"4",fill:r===0&&t==="$N"?"#0d9488":"#4b5563",className:"transition-all duration-300"}),e.jsx("text",{x:"30",y:"15",textAnchor:"middle",fill:"white",fontSize:"10",dy:".3em",children:s.split(":")[0]}),e.jsx("text",{x:"30",y:"25",textAnchor:"middle",fill:"#d1d5db",fontSize:"8",dy:".3em",children:s.split(":")[1]})]},r)),e.jsxs("g",{transform:"translate(350, 0)",onMouseEnter:()=>a("NF"),children:[e.jsx("rect",{x:"0",y:"0",width:"30",height:"30",fill:"#8b5cf6",rx:"4"}),e.jsx("text",{x:"15",y:"10",textAnchor:"middle",fill:"white",fontSize:"10",dy:".3em",children:"NF"}),e.jsx("text",{x:"15",y:"22",textAnchor:"middle",fill:"white",fontSize:"10",dy:".3em",children:"5"})]})]})]}),e.jsxs("g",{transform:"translate(0, 340)",children:[e.jsx("rect",{x:"0",y:"0",width:"80",height:"40",rx:"8",fill:"#059669"}),e.jsx("text",{x:"40",y:"20",textAnchor:"middle",fill:"white",fontSize:"12",dy:".3em",children:"awk"}),e.jsx("path",{d:"M100,20 L140,20",stroke:"#10b981",strokeWidth:"3",fill:"none"}),e.jsx("polygon",{points:"140,20 130,15 130,25",fill:"#10b981"}),e.jsxs("g",{transform:"translate(150, 0)",onMouseEnter:()=>a("OFS"),children:[e.jsx("rect",{x:"0",y:"0",width:"230",height:"40",rx:"8",fill:"#7c3aed"}),e.jsx("text",{x:"115",y:"20",textAnchor:"middle",fill:"white",fontSize:"12",dy:".3em",children:"Swadeep | 85 | 92 | 78 | Math"}),e.jsx("text",{x:"115",y:"35",textAnchor:"middle",fill:"#ddd6fe",fontSize:"8",dy:".3em",children:'OFS = " | "'})]})]}),e.jsxs("g",{transform:"translate(0, 400)",onMouseEnter:()=>a("$0"),children:[e.jsx("text",{x:"0",y:"0",fill:"#9ca3af",fontSize:"12",fontWeight:"bold",children:"$0 (Entire Record):"}),e.jsxs("g",{transform:"translate(0, 20)",children:[e.jsx("rect",{x:"0",y:"0",width:"380",height:"40",rx:"4",fill:"#dc2626"}),e.jsx("text",{x:"10",y:"20",fill:"white",fontSize:"12",dy:".3em",children:'"Swadeep,85,92,78,Math"'}),e.jsx("text",{x:"365",y:"20",textAnchor:"end",fill:"#fca5a5",fontSize:"10",dy:".3em",children:"$0"}),t==="$0"&&e.jsx("rect",{x:"-5",y:"-5",width:"390",height:"50",rx:"6",fill:"none",stroke:"#dc2626",strokeWidth:"2",strokeDasharray:"5,5"})]})]})]})}),e.jsx("div",{className:"text-center mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Hover over different colored elements to explore each built-in variable"})]})]})]})]})}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.3s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.3s_both]",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Practical Applications"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:l("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg transition-all duration-500",o==="validation"?"shadow-xl shadow-blue-500/20 -translate-y-1":"hover:shadow-xl"),onMouseEnter:()=>i("validation"),onMouseLeave:()=>i(null),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h3",{className:"text-xl font-bold",children:"Data Validation at CNAT Centers"})]}),e.jsxs("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:["Validating student registration data from ",e.jsx("strong",{children:"CNAT Barrackpore"})," and ",e.jsx("strong",{children:"CNAT Naihati"}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm text-gray-500 dark:text-gray-400",children:"Using NF for Validation:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded-lg overflow-x-auto text-xs",children:`# Check if each record has exactly 5 fields
awk -F',' '{
    if (NF != 5) {
        print "Error at line " NR ": Expected 5 fields, found " NF
        print "Record: " $0
    }
}' students.csv

# Process only valid records
awk -F',' 'NF == 5 {
    print "Processing: " $1 " from " $5
    # Normal processing here
}' students.csv`})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm text-gray-500 dark:text-gray-400",children:"Using NR for Header/Footer:"}),e.jsx("pre",{className:"bg-blue-900/30 text-blue-100 p-3 rounded-lg overflow-x-auto text-xs",children:`# Skip header (first line)
awk -F',' 'NR > 1 {print $1, $2}'

# Process only first 10 records
awk 'NR <= 10 {print NR ": " $0}'

# Process every other record (odd lines)
awk 'NR % 2 == 1 {print "Odd line " NR ": " $1}'`})]})]})]}),e.jsxs("div",{className:l("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg transition-all duration-500",o==="formatting"?"shadow-xl shadow-green-500/20 -translate-y-1":"hover:shadow-xl"),onMouseEnter:()=>i("formatting"),onMouseLeave:()=>i(null),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),e.jsx("h3",{className:"text-xl font-bold",children:"Format Transformation"})]}),e.jsxs("p",{className:"mb-4 text-gray-600 dark:text-gray-300",children:["Converting between different data formats for ",e.jsx("strong",{children:"Swadeep"}),"'s and ",e.jsx("strong",{children:"Tuhina"}),"'s records."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm text-gray-500 dark:text-gray-400",children:"Customizing FS and OFS:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-3 rounded-lg overflow-x-auto text-xs",children:`# CSV to Pipe-delimited
awk 'BEGIN{FS=","; OFS="|"} {print $1, $2, $3, $4}'

# Space-delimited to CSV
awk 'BEGIN{OFS=","} {print $1, $2, $3, $4}'

# Multi-character separators
awk 'BEGIN{FS="[ :]+"; OFS="	"} {print $1, $2, $3}'`})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm text-gray-500 dark:text-gray-400",children:"Using $NF for Last Field:"}),e.jsx("pre",{className:"bg-green-900/30 text-green-100 p-3 rounded-lg overflow-x-auto text-xs",children:`# Always get the last field (regardless of field count)
awk '{print "Last field: " $NF}'

# Get second last field
awk '{print "Second last: " $(NF-1)}'

# Remove last field
awk '{NF--; print $0}'  # CAUTION: modifies NF!

# Safe removal of last field
awk '{for(i=1; i<NF; i++) printf "%s ", $i; print ""}'`})]})]})]})]})]})}),e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.4s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.4s_both]",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 dark:from-red-900/20 dark:to-orange-900/20 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl",children:e.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.342 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Critical Mistakes with awk Variables"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"Modifying NF Incorrectly"}),e.jsxs("p",{className:"text-sm",children:["Changing NF directly can truncate or extend $0 unexpectedly. At ",e.jsx("strong",{children:"CNAT Shyamnagar"}),", a student lost data by setting ",e.jsx("code",{children:"NF=3"})," on a 5-field record."]}),e.jsxs("pre",{className:"bg-red-900/30 text-red-100 p-2 rounded mt-2 text-xs",children:["# DANGEROUS: awk '{NF=3; print $0}'  # Truncates record!","# SAFER: awk '{print $1, $2, $3}'   # Explicit fields"]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"Forgetting to Set FS/OFS in BEGIN"}),e.jsx("p",{className:"text-sm",children:"Setting FS/OFS in the main block affects only subsequent records. First record uses default separator."}),e.jsxs("pre",{className:"bg-gray-900 text-gray-100 p-2 rounded mt-2 text-xs",children:[`# WRONG: awk '{FS=","; print $1}'  # First line uses space!`,`# CORRECT: awk 'BEGIN{FS=","} {print $1}'`]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"$0 vs Field Assignment Confusion"}),e.jsx("p",{className:"text-sm",children:`Assigning to a field ($1="new") updates $0, but assigning to $0 doesn't update fields. They get out of sync.`}),e.jsxs("pre",{className:"bg-red-900/30 text-red-100 p-2 rounded mt-2 text-xs",children:[`awk '{$1="NEW"; print $0}'   # $0 updated`,`awk '{$0="NEW"; print $1}'   # $1 is "NEW", but fields not parsed!`]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"NR in END Block Pitfall"}),e.jsx("p",{className:"text-sm",children:"In END block, NR has total records processed. Don't use it to reference specific records."}),e.jsxs("pre",{className:"bg-gray-900 text-gray-100 p-2 rounded mt-2 text-xs",children:["# WRONG: END{print $NR}  # Tries to print field $[total]","# CORRECT: Store in array during processing"]})]})]})]})]})})}),e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.5s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.5s_both]",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Professional Best Practices"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-blue-500 mb-4",children:e.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Always Initialize in BEGIN"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Set FS, OFS, RS, ORS in BEGIN block. This ensures they're applied to all records from the start."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-green-500 mb-4",children:e.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Use NF for Validation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Check NF early to handle malformed data. Use $NF to access last field when column count varies."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[e.jsx("div",{className:"text-purple-500 mb-4",children:e.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Leverage NR for Processing"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Use NR to skip headers, process specific ranges, or track progress through large files."})]})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-purple-600 dark:text-purple-400",children:"Professional Pattern: Robust awk Script"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:`#!/usr/bin/awk -f
# Professional awk script template
BEGIN {
    # Always set separators in BEGIN
    FS = ","
    OFS = "|"
    
    # Initialize counters
    valid_count = 0
    error_count = 0
    
    # Print header
    print "Processing Report"
    print "================="
}

# Main processing with validation
{
    # Validate using NF
    if (NF != expected_fields) {
        printf "ERROR [Line %d]: Expected %d fields, got %d\\n", 
               NR, expected_fields, NF >> "/dev/stderr"
        error_count++
        next  # Skip to next record
    }
    
    # Process valid records
    # Use $NF for last field, $(NF-1) for second last, etc.
    grade = $(NF-1)
    name = $1
    
    # Track statistics
    if (grade >= 90) A_count++
    else if (grade >= 80) B_count++
    
    valid_count++
}

END {
    # Generate summary using NR (total records processed)
    print "================="
    printf "Total Records: %d\\n", NR
    printf "Valid Records: %d\\n", valid_count
    printf "Errors: %d\\n", error_count
    print "================="
}`})]})]})}),e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.6s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.6s_both]",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What Students Should Remember"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-green-600 dark:text-green-400",children:"✓ Essential Variables"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"1"}),e.jsxs("span",{children:[e.jsx("code",{children:"NR"}),": Current record number (line number)"]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"2"}),e.jsxs("span",{children:[e.jsx("code",{children:"NF"}),": Number of fields in current record"]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"3"}),e.jsxs("span",{children:[e.jsx("code",{children:"$0"}),": Entire input record"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-emerald-600 dark:text-emerald-400",children:"✓ Critical Rules"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"4"}),e.jsxs("span",{children:["Set ",e.jsx("code",{children:"FS"}),", ",e.jsx("code",{children:"OFS"})," in ",e.jsx("code",{children:"BEGIN"})," block only"]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"5"}),e.jsxs("span",{children:["Use ",e.jsx("code",{children:"$NF"})," to access last field (safe for variable columns)"]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-emerald-500 text-white rounded-full flex items-center justify-center text-sm mt-0.5",children:"6"}),e.jsxs("span",{children:["Validate data with ",e.jsx("code",{children:"NF"})," before processing"]})]})]})]})]})]})})}),e.jsx("section",{className:"mb-12",children:e.jsx("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.7s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.7s_both]",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-2xl p-8 transition-all duration-500 hover:shadow-2xl hover:shadow-blue-500/10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"SH"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Teacher's Note"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Understanding awk's Internal State"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",children:["When teaching awk at ",e.jsx("strong",{children:"CNAT Ichapur"}),", I compare built-in variables to a car's dashboard.",e.jsx("code",{children:"NR"})," is the odometer (total records), ",e.jsx("code",{children:"NF"})," is the gear indicator (current field count), and ",e.jsx("code",{children:"$0"}),"/",e.jsx("code",{children:"$1"})," are the steering wheel (controlling what you work with)."]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-300 mb-2",children:"Teaching Drill:"}),e.jsxs("p",{className:"text-sm",children:["Have students like ",e.jsx("strong",{children:"Abhronila"})," and ",e.jsx("strong",{children:"Debangshu"}),' process CNAT student data while printing NR and NF for each record. This helps them visualize how awk processes data and understand when each variable updates. Always emphasize: "Set FS in BEGIN, validate with NF, track with NR."']})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Sukanta Hui"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"sukantahui@codernaccotax.co.in"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[x," years experience"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Expertise:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Programming Languages, RDBMS, Operating Systems, Web Development"})]})]})]})]})})})}),e.jsx("section",{children:e.jsx("div",{className:"animate-[fadeInUp_0.8s_ease-out_0.8s_both] motion-safe:animate-[fadeInUp_0.8s_ease-out_0.8s_both]",children:e.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/10 to-amber-500/10 dark:from-yellow-900/20 dark:to-amber-900/20 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-xl",children:e.jsx("svg",{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h1m0 0h-1m1 0v4m0 0l2 2m-2-2l-2 2M9 7h6m4 0a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2h2m4 0V5a1 1 0 00-1-1H8a1 1 0 00-1 1v2h6z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Think About This..."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Developing debugging intuition"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-amber-600 dark:text-amber-400 mb-2",children:"Observe Carefully:"}),e.jsxs("p",{className:"text-sm",children:["What happens to ",e.jsx("code",{children:"$0"})," when you assign a value to ",e.jsx("code",{children:"$1"}),"? Try it with ",e.jsx("strong",{children:"Tuhina"}),"'s student record. Now try the reverse."]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-amber-600 dark:text-amber-400 mb-2",children:"Try Changing This:"}),e.jsxs("p",{className:"text-sm",children:["Process a file with inconsistent field counts. How does ",e.jsx("code",{children:"NF"})," help you handle this? What happens if you try to access ",e.jsx("code",{children:"$10"})," when ",e.jsx("code",{children:"NF"})," is 5?"]})]})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-amber-600 dark:text-amber-400 mb-2",children:"Consider This Scenario:"}),e.jsxs("p",{className:"text-sm mb-3",children:["At ",e.jsx("strong",{children:"CNAT Shyamnagar"}),", you're processing exam results where:"]}),e.jsxs("ul",{className:"text-sm space-y-1 mb-3",children:[e.jsx("li",{children:"• First line is a header (should be skipped)"}),e.jsx("li",{children:"• Some records have 5 fields (normal), some have 6 (with remarks)"}),e.jsx("li",{children:"• Last 2 lines are summary statistics (should be processed differently)"})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Challenge:"})," Design an awk script using NR and NF to handle all these cases correctly. How would you identify which lines are headers, which are data, and which are summaries?"]})]})]})]})})})]}),e.jsx("footer",{className:"max-w-6xl mx-auto mt-16 pt-8 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:[e.jsx("p",{children:"Topic 11: Built-in Variables in awk (NR, NF, FS, OFS, $0, $1...) • Next: Conditional Logic and Loops in awk"}),e.jsx("p",{className:"mt-2",children:"Interactive Learning System • Mastering awk Internals • Designed for CNAT Computer Centers"})]})})]})};export{g as default};

import{r as d,j as e}from"./index-CG3iA-Ea.js";import{c as i}from"./clsx-B-dksMZM.js";const P=()=>{const[s,j]=d.useState(1),[o,g]=d.useState(0),[n,h]=d.useState(null),[c,p]=d.useState(!1),[u,N]=d.useState(window.innerWidth),[k,v]=d.useState(0),[b,w]=d.useState("light"),[x,f]=d.useState(""),[l,S]=d.useState(!1),[E,y]=d.useState([{id:1,type:"info",message:"Component mounted",time:new Date().toLocaleTimeString()}]),I=[{id:1,title:"Timer/Interval",icon:"â°",color:"blue"},{id:2,title:"API Calls",icon:"ðŸŒ",color:"green"},{id:3,title:"DOM Manipulation",icon:"ðŸ“",color:"purple"},{id:4,title:"Event Listeners",icon:"ðŸŽ§",color:"yellow"},{id:5,title:"Local Storage",icon:"ðŸ’¾",color:"indigo"},{id:6,title:"Subscriptions",icon:"ðŸ””",color:"red"}];d.useEffect(()=>{const r=setInterval(()=>{s===1&&(g(a=>a+1),t("Timer tick","timer"))},1e3);return()=>{clearInterval(r),t("Timer cleaned up","cleanup")}},[s]),d.useEffect(()=>{s===2&&!n&&(async()=>(p(!0),t("API request started","api"),await new Promise(a=>setTimeout(a,1500)),h({user:"Swadeep",location:"Barrackpore",score:95,enrolled:!0}),p(!1),t("API request completed","api")))()},[s,n]),d.useEffect(()=>{if(s===3){const r=document.getElementById("dynamic-title");r&&(r.style.color=b==="light"?"#1f2937":"#f3f4f6",r.style.transition="color 0.3s ease",t("DOM title color updated","dom"));const a=document.getElementById("dom-box");a&&(a.style.transform=`translateX(${o%100}px)`,t("DOM box position updated","dom"))}},[s,b,o]),d.useEffect(()=>{if(s===4){const r=()=>{N(window.innerWidth),t("Window resized","event")},a=()=>{v(m=>m+1),t("Key pressed","event")};return window.addEventListener("resize",r),window.addEventListener("keydown",a),t("Event listeners added","event"),()=>{window.removeEventListener("resize",r),window.removeEventListener("keydown",a),t("Event listeners removed","cleanup")}}},[s]),d.useEffect(()=>{if(s===5){const r=localStorage.getItem("react-side-effect-demo");r&&(f(r),t("Read from localStorage","storage"))}},[s]),d.useEffect(()=>{if(s===6&&l){const r={id:Date.now(),interval:setInterval(()=>{t("Subscription update received","subscription")},2e3),unsubscribe:function(){clearInterval(this.interval),t("Subscription unsubscribed","cleanup")}};return t("Subscription started","subscription"),()=>{r.unsubscribe()}}},[s,l]);const t=(r,a)=>{const m={id:Date.now(),type:a,message:r,time:new Date().toLocaleTimeString()};y(M=>[m,...M.slice(0,4)])},C=()=>{g(0),t("Timer reset","action")},D=()=>{h(null),t("New API data requested","action")},R=()=>{w(r=>r==="light"?"dark":"light"),t("Theme toggled","action")},_=()=>{localStorage.setItem("react-side-effect-demo",x),t("Saved to localStorage","storage")},L=()=>{S(r=>!r),t(l?"Subscription stopped":"Subscription started","action")},A=()=>{y([{id:Date.now(),type:"info",message:"Logs cleared",time:new Date().toLocaleTimeString()}])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-6 transition-colors duration-300",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("header",{className:"mb-8 md:mb-12 text-center animate-[fadeIn_0.8s_ease-out]",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 mb-4 px-4 py-2 bg-gradient-to-r from-red-500 to-orange-600 rounded-full text-white",children:[e.jsx("span",{className:"text-xl",children:"âš¡"}),e.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:"Understanding Side Effects in React"})]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Learn how React components interact with the outside world"})]}),e.jsx("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_0.2s]",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 md:p-8 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-red-100 to-orange-100 dark:from-red-900 dark:to-orange-900 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸŽ¯"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"What Are Side Effects?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"In React, side effects are operations that interact with the world outside of your component's render function."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h3",{className:"font-bold text-red-800 dark:text-red-300 mb-2",children:"Pure Function vs Side Effect"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"text-green-700 dark:text-green-400 font-medium mb-1",children:"Pure Function"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Same input â†’ Same output",e.jsx("br",{}),"No side effects"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"text-red-700 dark:text-red-400 font-medium mb-1",children:"Side Effect"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Changes outside world",e.jsx("br",{}),"Not predictable"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"Simple Analogy"}),e.jsxs("p",{className:"text-blue-700 dark:text-blue-400",children:["Imagine ",e.jsx("span",{className:"font-semibold",children:"Tuhina"})," studying in her Barrackpore classroom:"]}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-blue-600 dark:text-blue-400",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"font-semibold",children:"Pure:"})," Reading a book (no external change)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"font-semibold",children:"Side Effect:"})," Writing on blackboard, asking teacher"]})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Side Effects Are Everywhere"}),e.jsx("div",{className:"space-y-3",children:[{icon:"ðŸŒ",text:"Fetching data from API",color:"green"},{icon:"â°",text:"Setting timers/intervals",color:"blue"},{icon:"ðŸ“",text:"Direct DOM manipulation",color:"purple"},{icon:"ðŸŽ§",text:"Adding event listeners",color:"yellow"},{icon:"ðŸ’¾",text:"Reading/writing to localStorage",color:"indigo"},{icon:"ðŸ””",text:"Subscribing to external services",color:"red"}].map((r,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors",children:[e.jsx("span",{className:"text-xl",children:r.icon}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r.text})]},a))})]})})]})})}),e.jsxs("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_0.4s]",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Side Effect Examples"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:I.map((r,a)=>e.jsx("button",{onClick:()=>j(r.id),className:i("p-4 rounded-xl border transition-all duration-300 transform hover:scale-[1.02]",s===r.id?"bg-gradient-to-r from-red-500 to-orange-600 text-white shadow-lg border-transparent":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-red-300 dark:hover:border-red-700"),style:{animationDelay:`${a*.1}s`},children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:r.icon}),e.jsx("span",{className:"font-medium text-sm text-center",children:r.title})]})},r.id))})]}),e.jsx("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_0.6s]",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"p-6 md:p-8",children:[s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"â°"})," Timer/Interval Side Effect"]}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium",children:"Running Automatically"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-block relative",children:[e.jsx("div",{className:"w-48 h-48 rounded-full border-8 border-blue-200 dark:border-blue-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-5xl font-bold text-blue-600 dark:text-blue-400",children:o}),e.jsx("p",{className:"text-blue-500 dark:text-blue-400 mt-2",children:"seconds"})]})}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-blue-400 dark:border-blue-500 animate-ping"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:C,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Reset Timer"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"How This Works"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"setInterval() creates a timer"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This runs every 1000ms (1 second)"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Timer updates state"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"setTimerCount() modifies component state"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Component re-renders"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"UI updates to show new count"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"TimerExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Setting up interval
  const interval = setInterval(() => {
    setTimerCount(prev => prev + 1);
  }, 1000);
  
  // ðŸ§¹ Cleanup: Very important!
  return () => {
    clearInterval(interval);
    // Without cleanup, timer would keep running
    // even after component unmounts
  };
}, []); // Empty dependency array = runs once`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-3",children:"âš ï¸ Common Mistake"}),e.jsxs("p",{className:"text-red-700 dark:text-red-400",children:["Beginners often forget the cleanup function. Without ",e.jsx("code",{children:"clearInterval()"}),", the timer keeps running even after the component is removed from the page, causing memory leaks and unexpected behavior."]}),e.jsxs("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium",children:"âŒ Wrong: No cleanup"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"âœ… Correct: Always return cleanup function"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-bold text-purple-800 dark:text-purple-300 mb-2",children:"Real-World Scenario"}),e.jsxs("p",{className:"text-purple-700 dark:text-purple-400",children:["When ",e.jsx("span",{className:"font-semibold",children:"Swadeep"})," opens a live sports score app in Ichapur, timers fetch new scores every few seconds. If he navigates away without cleanup, the app would waste mobile data and battery."]})]})]})]})]}),s===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"ðŸŒ"})," API Call Side Effect"]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:"External Data Fetch"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-800/20 rounded-xl p-6 border border-green-200 dark:border-green-800",children:[c?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500"}),e.jsx("p",{className:"mt-4 text-green-600 dark:text-green-400",children:"Fetching data from server..."}),e.jsx("p",{className:"text-sm text-green-500 dark:text-green-500 mt-2",children:"Simulating network delay (1.5s)"})]}):n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl text-white",children:"ðŸ‘¤"})}),e.jsx("h4",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n.user}),e.jsx("p",{className:"text-green-600 dark:text-green-400",children:n.location})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Score"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[n.score,"%"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status"}),e.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:n.enrolled?"âœ… Enrolled":"âŒ Not Enrolled"})]})]})]}):null,e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:D,disabled:c,className:i("px-6 py-3 rounded-lg font-medium transition-all duration-300",c?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-lg"),children:c?"Fetching...":"Fetch New Data"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"API Request Flow"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Component Mounts"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"useEffect triggers"})]})]}),e.jsx("div",{className:"absolute left-6 top-12 bottom-12 w-0.5 bg-green-200 dark:bg-green-800"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-bold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Loading State"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Show spinner/loader"})]})]}),e.jsx("div",{className:"absolute left-6 top-24 bottom-0 w-0.5 bg-green-200 dark:bg-green-800"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Data Received"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Update state with response"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:"UI Updates"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Show data to user"})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"ApiExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Fetching external data
  const fetchData = async () => {
    setIsLoading(true);           // Loading state
    try {
      const response = await fetch('/api/user');
      const data = await response.json();
      setUserData(data);          // Update state with API data
    } catch (error) {
      setError(error.message);    // Handle errors
    } finally {
      setIsLoading(false);        // Hide loading
    }
  };
  
  fetchData();
  
  // ðŸ§¹ Cleanup: Cancel ongoing requests
  return () => {
    // Abort controller for fetch cancellation
  };
}, []); // Fetch on component mount`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-3",children:"âš ï¸ Race Conditions"}),e.jsx("p",{className:"text-red-700 dark:text-red-400",children:"If a component unmounts before API response arrives, setting state causes errors. Always check if component is still mounted before updating state."}),e.jsxs("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300 font-medium",children:"âŒ Wrong: Setting state without mount check"}),e.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 mt-1",children:`// After unmount, this causes error:
setUserData(data);`})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-bold text-purple-800 dark:text-purple-300 mb-2",children:"Production Tip"}),e.jsxs("p",{className:"text-purple-700 dark:text-purple-400",children:["Use ",e.jsx("code",{children:"AbortController"})," in cleanup to cancel fetch requests when component unmounts. This prevents memory leaks and improves app performance."]})]})]})]})]}),s===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-purple-500 mr-2",children:"ðŸ“"})," DOM Manipulation Side Effect"]}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 rounded-full text-sm font-medium",children:"Direct DOM Access"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{id:"dynamic-title",className:"text-2xl font-bold text-center mb-6",children:"Dynamic DOM Element"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"h-40 bg-gray-100 dark:bg-gray-900 rounded-lg flex items-center justify-center",children:e.jsx("div",{id:"dom-box",className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg shadow-lg"})}),e.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-2",children:"This box is being moved by DOM manipulation"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:R,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Toggle Title Color (Dark/Light)"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"DOM Manipulation Risks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"âš ï¸ Breaks React's Control"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:"React loses track of DOM changes, causing inconsistencies during re-renders."})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-yellow-700 dark:text-yellow-300 mb-2",children:"âš ï¸ Performance Issues"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:"Direct DOM updates bypass React's efficient diffing algorithm."})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"âœ… When to Use"}),e.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm",children:"Only for things React can't handle: third-party libraries, focus management, media playback."})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"DomExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Direct DOM manipulation
  const title = document.getElementById('dynamic-title');
  const box = document.getElementById('dom-box');
  
  if (title) {
    // â— React doesn't know about this change
    title.style.color = theme === 'light' ? '#1f2937' : '#f3f4f6';
  }
  
  if (box) {
    // â— This bypasses React's render cycle
    box.style.transform = \`translateX(\${timerCount % 100}px)\`;
  }
  
  // ðŸ§¹ Cleanup: Usually not needed for simple styles,
  // but important for event listeners
  return () => {
    // Reset styles if necessary
  };
}, [theme, timerCount]); // Re-run when dependencies change`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-3",children:"React's Virtual DOM vs Direct DOM"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"âœ“"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-400",children:"Virtual DOM (React's way)"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-500",children:"Calculates changes, updates efficiently"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-purple-600 dark:text-purple-400 text-sm",children:"!"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-700 dark:text-purple-400",children:"Direct DOM (Side Effect)"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-500",children:"Bypasses React, use sparingly"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-800/20 rounded-xl p-6 border border-green-200 dark:border-emerald-800",children:[e.jsx("h4",{className:"font-bold text-green-800 dark:text-emerald-300 mb-2",children:"When Abhronila Needs It"}),e.jsx("p",{className:"text-green-700 dark:text-emerald-400",children:"When integrating a Google Maps widget in her Shyamnagar project, she must use DOM manipulation because React doesn't control the map's internal DOM."})]})]})]})]}),s===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-yellow-500 mr-2",children:"ðŸŽ§"})," Event Listener Side Effect"]}),e.jsx("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300 rounded-full text-sm font-medium",children:"Global Events"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-800/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-800",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Window Width"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:u}),e.jsx("span",{className:"text-yellow-500 dark:text-yellow-500",children:"px"})]}),e.jsx("div",{className:"mt-2 h-2 bg-yellow-100 dark:bg-yellow-900 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${Math.min(u/20,100)}%`}})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Key Presses"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:k}),e.jsx("span",{className:"text-yellow-500 dark:text-yellow-500",children:"presses"})]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-500 mt-2",children:"Press any key to increment"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Try resizing your browser window or pressing keys"}),e.jsxs("div",{className:"inline-flex items-center gap-4",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Event listeners are active"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Event Lifecycle"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border border-yellow-200 dark:border-yellow-800",children:[e.jsx("span",{className:"text-yellow-600 dark:text-yellow-400",children:"Mount"}),e.jsx("span",{className:"text-sm",children:"â†’ addEventListener()"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border border-green-200 dark:border-green-800",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Event Occurs"}),e.jsx("span",{className:"text-sm",children:"â†’ Handler executes"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border border-red-200 dark:border-red-800",children:[e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Unmount"}),e.jsx("span",{className:"text-sm",children:"â†’ removeEventListener()"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"EventExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Adding event listeners
  const handleResize = () => {
    setWindowWidth(window.innerWidth);
  };
  
  const handleKeyPress = () => {
    setKeyPressCount(prev => prev + 1);
  };
  
  window.addEventListener('resize', handleResize);
  window.addEventListener('keydown', handleKeyPress);
  
  // ðŸ§¹ CRITICAL: Cleanup to remove listeners
  return () => {
    window.removeEventListener('resize', handleResize);
    window.removeEventListener('keydown', handleKeyPress);
    
    // Without cleanup, listeners would accumulate
    // causing memory leaks and multiple calls
  };
}, []); // Empty array = add/remove once`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-3",children:"âš ï¸ Memory Leak Danger"}),e.jsx("p",{className:"text-red-700 dark:text-red-400",children:"Forgetting to remove event listeners causes them to stay attached even after component unmounts. Each mount adds new listeners, slowing down your app."}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Without Cleanup"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400",children:"Memory usage grows"})]}),e.jsxs("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"With Cleanup"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-400",children:"Memory stays constant"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-800/20 rounded-xl p-6 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-bold text-purple-800 dark:text-purple-300 mb-2",children:"Practical Use Case"}),e.jsxs("p",{className:"text-purple-700 dark:text-purple-400",children:["When ",e.jsx("span",{className:"font-semibold",children:"Debangshu"})," builds a dashboard in Naihati, he uses window resize listeners to adjust charts and responsive layouts."]})]})]})]})]}),s===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-indigo-500 mr-2",children:"ðŸ’¾"})," Local Storage Side Effect"]}),e.jsx("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-300 rounded-full text-sm font-medium",children:"Browser Storage"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-800/20 rounded-xl p-6 border border-indigo-200 dark:border-indigo-800",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Browser Storage Demo"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter text to save in localStorage:"}),e.jsx("input",{type:"text",value:x,onChange:r=>f(r.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all duration-300",placeholder:"Type something here..."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:_,className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-blue-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Save to localStorage"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Current localStorage Value:"}),e.jsx("p",{className:"font-mono text-indigo-600 dark:text-indigo-400 break-all",children:x||"(empty)"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Storage Characteristics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border",children:[e.jsx("span",{className:"font-medium",children:"Persistence"}),e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Survives page refresh"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border",children:[e.jsx("span",{className:"font-medium",children:"Capacity"}),e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"~5-10MB per domain"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border",children:[e.jsx("span",{className:"font-medium",children:"Access"}),e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Synchronous (blocks UI)"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded border",children:[e.jsx("span",{className:"font-medium",children:"Security"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"No sensitive data!"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"StorageExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Reading from localStorage
  // Runs on component mount
  const savedValue = localStorage.getItem('myAppData');
  if (savedValue) {
    setData(JSON.parse(savedValue));
  }
}, []); // Read once on mount

// ðŸš¨ Side Effect: Writing to localStorage
// Runs when data changes
useEffect(() => {
  if (data) {
    localStorage.setItem('myAppData', JSON.stringify(data));
  }
}, [data]); // Write when data changes

// ðŸ§¹ Cleanup: localStorage persists automatically
// No cleanup needed for basic usage`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-3",children:"âš ï¸ Common Issues"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Quota Exceeded"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"localStorage has limited space (5-10MB)"})]}),e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Synchronous Blocks"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Large operations can freeze UI"})]}),e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Private Browsing"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Some browsers restrict access"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-800/20 rounded-xl p-6 border border-green-200 dark:border-emerald-800",children:[e.jsx("h4",{className:"font-bold text-green-800 dark:text-emerald-300 mb-2",children:"Best Practices"}),e.jsxs("ul",{className:"space-y-2 text-sm text-green-700 dark:text-emerald-400",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-emerald-500",children:"âœ“"}),e.jsx("span",{children:"Use try-catch for error handling"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-emerald-500",children:"âœ“"}),e.jsx("span",{children:"Store small amounts of non-sensitive data"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-emerald-500",children:"âœ“"}),e.jsx("span",{children:"Consider IndexedDB for larger data"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 dark:text-emerald-500",children:"âœ“"}),e.jsx("span",{children:"Clear old data periodically"})]})]})]})]})]})]}),s===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"ðŸ””"})," Subscription Side Effect"]}),e.jsx("span",{className:i("px-3 py-1 rounded-full text-sm font-medium",l?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300"),children:l?"Active":"Inactive"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("div",{className:i("w-32 h-32 rounded-full border-8 mx-auto flex items-center justify-center",l?"border-green-500 animate-pulse":"border-gray-300 dark:border-gray-700"),children:l?e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl",children:"ðŸ””"}),e.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium mt-2",children:"Live Updates"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl",children:"ðŸ”•"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mt-2",children:"Inactive"})]})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:L,className:i("px-8 py-4 rounded-lg font-medium transition-all duration-300",l?"bg-gradient-to-r from-red-500 to-orange-600 text-white hover:shadow-lg":"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-lg"),children:l?"Stop Subscription":"Start Subscription"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-3",children:l?"Subscription sends updates every 2 seconds":"Click to start receiving updates"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"Subscription Types"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-400",children:"WebSocket Connections"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-500",children:"Real-time chat, live updates"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded border border-purple-200 dark:border-purple-800",children:[e.jsx("p",{className:"font-medium text-purple-700 dark:text-purple-400",children:"Firebase/Firestore"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-500",children:"Database real-time listeners"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"font-medium text-green-700 dark:text-green-400",children:"Server-Sent Events"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:"One-way live updates"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded border border-yellow-200 dark:border-yellow-800",children:[e.jsx("p",{className:"font-medium text-yellow-700 dark:text-yellow-400",children:"Observables (RxJS)"}),e.jsx("p",{className:"text-sm text-yellow-600 dark:text-yellow-500",children:"Reactive programming patterns"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-800 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"ml-4 font-mono",children:"SubscriptionExample.jsx"})]})}),e.jsx("div",{className:"p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm font-mono",children:`useEffect(() => {
  // ðŸš¨ Side Effect: Setting up subscription
  if (isSubscribed) {
    const subscription = {
      id: Date.now(),
      // Simulating a real subscription
      interval: setInterval(() => {
        console.log('Update received');
        // Handle incoming data
      }, 2000),
      
      // Method to unsubscribe
      unsubscribe: function() {
        clearInterval(this.interval);
        console.log('Unsubscribed');
      }
    };
    
    // ðŸ§¹ CRITICAL: Return cleanup function
    return () => {
      subscription.unsubscribe();
      // This runs when:
      // 1. Component unmounts
      // 2. isSubscribed changes to false
      // 3. Dependency array changes
    };
  }
}, [isSubscribed]); // Re-run when subscription state changes`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-xl p-6 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-800 dark:text-red-300 mb-3",children:"âš ï¸ Critical: Cleanup Patterns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Memory Leak"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Unclosed subscriptions consume memory indefinitely"})]}),e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Network Waste"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Continues receiving data unnecessarily"})]}),e.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900 rounded",children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Multiple Subscriptions"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:"Component re-mounts create duplicates"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-800/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"Professional Pattern"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-400",children:"Use a ref to track subscription status. Before updating state, check if component is still mounted:"}),e.jsx("pre",{className:"text-xs text-blue-600 dark:text-blue-500 mt-2 bg-blue-100 dark:bg-blue-900 p-2 rounded",children:`const isMounted = useRef(true);

useEffect(() => {
  return () => { isMounted.current = false; };
}, []);

// In subscription callback:
if (isMounted.current) {
  setData(newData);
}`})]})]})]})]})]})})}),e.jsx("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_0.8s]",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:[e.jsx("span",{className:"text-gray-500 mr-2",children:"ðŸ“‹"})," Side Effect Activity Log"]}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:"Clear Logs"})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 max-h-64 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:E.map(r=>e.jsx("div",{className:i("p-3 rounded-lg border transition-all duration-300",r.type==="timer"&&"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",r.type==="api"&&"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",r.type==="dom"&&"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",r.type==="event"&&"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",r.type==="storage"&&"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800",r.type==="subscription"&&"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",r.type==="cleanup"&&"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-700",r.type==="action"&&"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-700",r.type==="info"&&"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-700"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:i("text-sm font-medium px-2 py-1 rounded",r.type==="timer"&&"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",r.type==="api"&&"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300",r.type==="dom"&&"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300",r.type==="event"&&"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300",r.type==="storage"&&"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-300",r.type==="subscription"&&"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300",(r.type==="cleanup"||r.type==="action"||r.type==="info")&&"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:r.type.toUpperCase()}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r.message})]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.time})]})},r.id))})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This log shows side effects as they happen. Try different examples to see various side effect types."})})]})}),e.jsxs("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_1s]",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Key Principles"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:"ðŸ§¹",title:"Cleanup is Crucial",description:"Always return cleanup functions to prevent memory leaks",color:"red"},{icon:"ðŸŽ¯",title:"Dependency Arrays",description:"Control when side effects run by specifying dependencies",color:"blue"},{icon:"âš¡",title:"Asynchronous Nature",description:"Side effects happen after render, not during",color:"green"},{icon:"ðŸ”„",title:"Lifecycle Management",description:"Mount, update, unmount - handle all phases",color:"purple"},{icon:"ðŸš«",title:"Avoid During Render",description:"Never run side effects directly in render",color:"yellow"},{icon:"ðŸ“¦",title:"Encapsulation",description:"Keep side effects isolated in useEffect",color:"indigo"}].map((r,a)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-2xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.description})]})]})},a))})]}),e.jsx("section",{className:"mb-8 md:mb-12 animate-[slideUp_0.8s_ease-out_1.2s]",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-600 rounded-2xl shadow-xl overflow-hidden",children:e.jsx("div",{className:"p-6 md:p-8 text-white",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl md:text-3xl",children:"ðŸ‘¨â€ðŸ«"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Teacher's Note"}),e.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-medium",children:"Sukanta Hui | 27 years experience"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white/90 leading-relaxed",children:"In my 27 years of teaching programming, I've found that understanding side effects is what separates beginners from intermediate React developers. Students from Barrackpore to Shyamnagar often struggle with when and how to use useEffect properly."}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4 border border-white/20",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Golden Rule to Remember:"}),e.jsx("p",{className:"text-white/90",children:`"If it touches anything outside your component (browser, server, time, storage), it's a side effect and belongs in useEffect. If it only uses props and state to compute what to show, it's pure rendering."`})]}),e.jsxs("p",{className:"text-white/90",children:["When ",e.jsx("span",{className:"font-semibold",children:"Abhronila"})," was learning this, I had her draw a circle around her component. Anything reaching outside the circle was a side effect. This visual helped her understand the boundary between pure React and the outside world."]}),e.jsx("div",{className:"pt-4 border-t border-white/20",children:e.jsx("p",{className:"text-sm text-white/80",children:"Email: sukantahui@codernaccotax.co.in | Mobile: 7003756860"})})]})]})]})})})}),e.jsx("section",{className:"animate-[slideUp_0.8s_ease-out_1.4s]",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 md:p-8 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Learning Checklist"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Understanding Check"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-red-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I can identify what counts as a side effect"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"API calls, timers, subscriptions, etc."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-red-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I understand why cleanup is necessary"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Prevents memory leaks and bugs"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-red-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I know when side effects run"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"After render, not during"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Practical Skills"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-green-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I can write cleanup functions"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"For timers, listeners, subscriptions"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-green-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I can handle API calls with useEffect"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Loading, error, data states"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 mt-0.5 text-green-600 rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"I know when NOT to use useEffect"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"For derived state or event handlers"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Hint Section"}),e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-800/20 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-300 italic",children:"Think about: What would happen if Debangshu's timer didn't have cleanup? Observe carefully how the event listener example handles window resize and key press. Try switching between examples rapidly and watch the cleanup logs appear."})})]})]})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @media (prefers-reduced-motion: reduce) {
          .animate-\\[fadeIn_0\\.8s_ease-out\\],
          .animate-\\[slideUp_0\\.8s_ease-out\\],
          .animate-\\[slideUp_0\\.8s_ease-out_0\\.2s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_0\\.4s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_0\\.6s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_0\\.8s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_1s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_1\\.2s\\],
          .animate-\\[slideUp_0\\.8s_ease-out_1\\.4s\\] {
            animation: none !important;
            opacity: 1;
            transform: none !important;
          }
        }
      `})]})};export{P as default};

import{j as e}from"./index-meFSU1Lv.js";import{c as a}from"./clsx-B-dksMZM.js";import{E as n}from"./EditableCCodeBlock-C1aLYO6_.js";const i=`// small_testable.c â€“ A tiny, pure, testable function with a test harness\r
#include <stdio.h>\r
#include <assert.h>\r
\r
// Small, reusable, testable: pure function, no side effects\r
int add(int a, int b) {\r
    return a + b;\r
}\r
\r
// Simple test harness â€“ can be expanded\r
void test_add() {\r
    assert(add(2, 3) == 5);\r
    assert(add(-1, 1) == 0);\r
    assert(add(0, 0) == 0);\r
    assert(add(100, 200) == 300);\r
    printf("All add() tests passed!\\n");\r
}\r
\r
int main() {\r
    test_add();\r
\r
    // Example usage in main program\r
    int result = add(15, 27);\r
    printf("15 + 27 = %d\\n", result);\r
    return 0;\r
}`,l=`// untestable.c â€“ Function with global state and I/O, hard to test\r
#include <stdio.h>\r
\r
int total = 0;  // Global variable â€“ hidden dependency\r
\r
void updateTotal(int amount) {\r
    total += amount;                      // Modifies global state\r
    printf("Total is now: %d\\n", total);  // I/O â€“ side effect\r
}\r
\r
int main() {\r
    updateTotal(10);\r
    updateTotal(5);\r
    updateTotal(-3);\r
    return 0;\r
}`,h=()=>{const r=new Date().getFullYear()-1998;return e.jsxs("div",{className:"min-h-screen bg-white p-6 text-gray-900 transition-colors duration-300 dark:bg-gray-900 dark:text-gray-200",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-4xl font-extrabold tracking-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent dark:from-green-400 dark:to-emerald-400",children:"Designing Small, Reusable, Testable Functions"})}),e.jsx("p",{className:"mx-auto max-w-2xl text-lg text-gray-600 dark:text-gray-400",children:"The three virtues of a great function: it does one small thing, it can be used again, and you can prove it works â€“ automatically."})]}),e.jsxs("section",{className:a("mb-12 rounded-xl bg-gray-50 p-6 shadow-md transition-all duration-300 hover:shadow-lg dark:bg-gray-800/50","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"The Three Pillars"}),e.jsxs("p",{className:"leading-relaxed",children:["At Barrackpore CNAT, Tuhina is building a library management system. She writes a function to calculate fines. She makes it"," ",e.jsx("strong",{children:"small"})," (10 lines), ",e.jsx("strong",{children:"reusable"})," (it doesn't depend on global variables), and ",e.jsx("strong",{children:"testable"})," (it returns a value based only on its inputs). Later, when Debangshu wants to use the same logic in the mobile app, he can just copy the function. And when Abhronila adds unit tests, she can verify it works for all edge cases. These three qualities separate professional code from student projects."]})]}),e.jsx("div",{className:"mb-12 grid gap-6 md:grid-cols-1 lg:grid-cols-2",children:[{title:"Small",desc:"Functions should be short â€“ typically 5â€“20 lines. If it's longer, it probably does too much.",icon:"ðŸ“"},{title:"Reusable",desc:"No hidden dependencies on global variables or I/O. Pass everything as parameters.",icon:"â™»ï¸"},{title:"Testable",desc:"Given the same inputs, it always returns the same outputs. No side effects.",icon:"ðŸ§ª"},{title:"Pure Functions",desc:"The ideal: no modification of state, no I/O. Easy to test and reason about.",icon:"ðŸ’§"},{title:"Single Level of Abstraction",desc:"Each function should operate at one conceptual level â€“ not mix high-level logic with details.",icon:"ðŸ“š"},{title:"Descriptive Names",desc:"A good name makes the function selfâ€‘documenting, enhancing reusability.",icon:"ðŸ·ï¸"}].map((t,s)=>e.jsxs("div",{className:a("group rounded-xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:border-green-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800 dark:hover:border-green-600","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]",`motion-safe:animation-delay-${(s+1)*100}ms`),style:{animationDelay:`${(s+1)*100}ms`},children:[e.jsx("div",{className:"mb-3 text-4xl",children:t.icon}),e.jsx("h3",{className:"mb-2 text-xl font-semibold",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.desc})]},s))}),e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-6 text-2xl font-semibold",children:"Testable vs Untestable"}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-1",children:[e.jsxs("div",{className:a("rounded-xl border border-green-200 bg-green-50/50 p-5 transition-all duration-300 hover:shadow-md dark:border-green-900 dark:bg-green-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsxs("h3",{className:"mb-3 flex items-center text-xl font-semibold text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"mr-2",children:"âœ…"})," Small, Reusable, Testable"]}),e.jsx(n,{title:"small_testable.c â€“ Pure function with test harness",initialCode:i}),e.jsxs("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:["Swadeep's ",e.jsx("code",{children:"add()"})," is tiny, depends only on inputs, and can be tested automatically. The test function runs without manual intervention."]})]}),e.jsxs("div",{className:a("rounded-xl border border-red-200 bg-red-50/50 p-5 transition-all duration-300 hover:shadow-md dark:border-red-900 dark:bg-red-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-safe:animation-delay-200ms"),style:{animationDelay:"200ms"},children:[e.jsxs("h3",{className:"mb-3 flex items-center text-xl font-semibold text-red-700 dark:text-red-400",children:[e.jsx("span",{className:"mr-2",children:"âŒ"})," Untestable Mess"]}),e.jsx(n,{title:"untestable.c â€“ Global state and I/O",initialCode:l}),e.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Ritaja's function uses a global variable and prints to console. Testing it requires capturing output and resetting global state â€“ much harder."})]})]})]}),e.jsxs("section",{className:a("mb-12 rounded-xl bg-yellow-50/70 p-6 dark:bg-yellow-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-yellow-800 dark:text-yellow-300",children:"âš ï¸ Common Pitfalls"}),e.jsxs("ul",{className:"list-inside list-disc space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hidden dependencies:"})," Using global variables makes a function unpredictable and hard to test."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mixing I/O with logic:"})," A function that both calculates and prints cannot be reused in a GUI or web server."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Too many parameters:"})," More than 3â€“4 parameters suggest the function does too much or needs a struct."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Side effects:"})," Modifying input arrays or global state leads to bugs that are hard to trace."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Long functions:"})," Over 20 lines often hide multiple responsibilities."]})]})]}),e.jsxs("section",{className:"mb-12 grid gap-6 md:grid-cols-1",children:[e.jsxs("div",{className:a("rounded-xl bg-blue-50/50 p-5 dark:bg-blue-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h3",{className:"mb-3 text-xl font-semibold text-blue-700 dark:text-blue-300",children:"ðŸ“‹ Do's"}),e.jsxs("ul",{className:"list-inside list-disc space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Write pure functions whenever possible."}),e.jsx("li",{children:"Pass all data as parameters; return results explicitly."}),e.jsx("li",{children:"Keep functions small enough to understand at a glance."}),e.jsx("li",{children:"Write unit tests for every function (even if manual)."}),e.jsx("li",{children:"Use descriptive names that reveal intent."})]})]}),e.jsxs("div",{className:a("rounded-xl bg-purple-50/50 p-5 dark:bg-purple-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-safe:animation-delay-200ms"),style:{animationDelay:"200ms"},children:[e.jsx("h3",{className:"mb-3 text-xl font-semibold text-purple-700 dark:text-purple-300",children:"ðŸš« Don'ts"}),e.jsxs("ul",{className:"list-inside list-disc space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Rely on global or static variables inside functions."}),e.jsx("li",{children:"Embed I/O (printf, scanf) inside calculation functions."}),e.jsx("li",{children:"Write functions longer than 20â€“30 lines without good reason."}),e.jsx("li",{children:"Ignore edge cases â€“ test with zero, negative, large values."})]})]})]}),e.jsxs("section",{className:a("mb-12 rounded-xl border border-dashed border-indigo-300 bg-indigo-50/30 p-6 dark:border-indigo-700 dark:bg-indigo-900/10","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-3 text-2xl font-semibold text-indigo-800 dark:text-indigo-300",children:"ðŸ’¡ Hint â€“ Think Like a Pro"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Observe carefully:"})," The testable",e.jsx("code",{children:"add()"})," function takes two ints and returns an int. You can call it from anywhere â€“ a unit test, a GUI, a command line. The untestable function, ",e.jsx("code",{children:"updateTotal()"}),", reads and writes a global variable. To test it, you must reset the global before each test and capture stdout. ",e.jsx("br",{}),e.jsxs("span",{className:"mt-2 block",children:[e.jsx("strong",{children:"Try changing this:"})," Convert the untestable function into a testable one by removing the global and I/O. Pass the current total as a parameter and return the new total."]})]})]}),e.jsxs("section",{className:a("mb-12 rounded-xl bg-emerald-50/50 p-6 dark:bg-emerald-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-800 dark:text-emerald-300",children:"ðŸ§  Tips & Tricks (Professional Edge)"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ§ª Write tests first (TDD)"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Testâ€‘Driven Development forces you to write testable functions. You'll naturally keep them small and focused."})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ“ Measure cyclomatic complexity"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Tools like ",e.jsx("code",{children:"gcc -fanalyzer"})," or ",e.jsx("code",{children:"pmccabe"})," can flag overly complex functions."]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ”„ Refactor mercilessly"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"When you see a long function, break it into smaller ones. Each small function is easier to test and reuse."})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ« Classroom Shortcut"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:`At Naihati CNAT, we use the "recipe" analogy: a function is like a recipe step. If a step says "prepare the sauce and bake the cake", it's doing too much.`})]})]})]}),e.jsxs("section",{className:a("mb-12 rounded-xl border-l-4 border-green-500 bg-green-50/80 p-6 dark:bg-green-900/30","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","transition-all duration-300 hover:border-l-8 hover:shadow-lg"),children:[e.jsx("h2",{className:"mb-3 text-2xl font-semibold text-green-800 dark:text-green-300",children:"ðŸ‘¨â€ðŸ« Teacher's Note â€“ Sukanta Hui"}),e.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"mb-2 text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Sukanta Hui"})," (email: sukantahui@codernaccotax.co.in , mobile: 7003756860) has been teaching programming since 1998 â€“ that's ",e.jsxs("strong",{children:[r," years"]})," of experience in C, RDBMS, OS, and web development."]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:`"I often ask my students: 'How do you know your function works?' If the answer is 'I ran the program and it looked right,' that's not enough. Testable functions give you confidence. Small, reusable functions are the building blocks of reliable software. Start every function by asking: is it small? Can I use it elsewhere? Can I write a test for it in one minute?"`})]}),e.jsx("div",{className:"rounded-full bg-green-200 p-3 dark:bg-green-800",children:e.jsx("svg",{className:"h-12 w-12 text-green-700 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),e.jsxs("section",{className:"rounded-xl bg-gray-100 p-6 dark:bg-gray-800",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"âœ… Mini Checklist"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-1",children:["Is the function small enough to read in one screen?","Does it avoid global variables?","Does it avoid I/O (except where its purpose is I/O)?","Given the same inputs, does it always return the same output?","Can I write a simple test that calls it with a few values?","Does its name describe exactly what it does?"].map((t,s)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t})]},s))})]}),e.jsx("style",{children:`
        @keyframes fadeSlideUp {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})};export{h as default};

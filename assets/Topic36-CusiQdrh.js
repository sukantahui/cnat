import{r as s,j as e}from"./index-lKIIHiz2.js";import{c as g}from"./clsx-B-dksMZM.js";const y=()=>{const[a,o]=s.useState(!0),[d,i]=s.useState({x:0,y:0}),[c,x]=s.useState(0),[h,m]=s.useState(null),[u,n]=s.useState(!1);return s.useEffect(()=>{console.log("üü¢ Effect: Setting up mouse move listener");const r=t=>{i({x:t.clientX,y:t.clientY})};return window.addEventListener("mousemove",r),()=>{console.log("üî¥ Cleanup: Removing mouse move listener"),window.removeEventListener("mousemove",r)}},[]),s.useEffect(()=>{console.log("üü¢ Effect: Setting up interval timer");const r=setInterval(()=>{x(t=>t+1)},1e3);return()=>{console.log("üî¥ Cleanup: Clearing interval timer"),clearInterval(r)}},[]),s.useEffect(()=>{console.log("üü¢ Effect: Starting data fetch");let r=!0;const t=new AbortController;return(async()=>{n(!0);try{await new Promise(l=>setTimeout(l,1500)),r&&(m({id:1,name:"Sample Resource"}),n(!1))}catch(l){r&&(console.error("Fetch error:",l),n(!1))}})(),()=>{console.log("üî¥ Cleanup: Aborting fetch and marking unmounted"),r=!1,t.abort()}},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 animate-[fadeIn_0.8s_ease-out]",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:["Cleanup Functions in ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"useEffect"})]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Preventing memory leaks and managing side effects properly in React components"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 animate-[slideUp_0.6s_ease-out]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-3",children:"üßπ"}),"What Are Cleanup Functions?"]}),e.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["Cleanup functions are functions returned from ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:"useEffect"})," that run when a component unmounts or before the effect runs again."]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 dark:border-yellow-400 p-4",children:[e.jsx("strong",{className:"block mb-2 text-yellow-800 dark:text-yellow-300",children:"Purpose:"}),e.jsx("p",{children:"To clean up resources, cancel subscriptions, or invalidate asynchronous operations to prevent memory leaks and unexpected behavior."})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 dark:border-green-400 p-4",children:[e.jsx("strong",{className:"block mb-2 text-green-800 dark:text-green-300",children:"Signature:"}),e.jsx("pre",{className:"bg-gray-800 text-gray-100 p-3 rounded-lg overflow-x-auto",children:`useEffect(() => {
  // Setup code here
  
  return () => {
    // Cleanup code here
  };
}, [dependencies]);`})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 animate-[slideUp_0.6s_ease-out_0.2s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg mr-3",children:"üìä"}),"useEffect Lifecycle with Cleanup"]}),e.jsx("div",{className:"relative h-64",children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 240",className:"overflow-visible",children:[e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"50",y:"40",width:"120",height:"60",rx:"8",fill:"#3B82F6",fillOpacity:"0.1",stroke:"#3B82F6",strokeWidth:"2"}),e.jsx("text",{x:"110",y:"75",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"Component Mounts"}),e.jsx("text",{x:"110",y:"95",textAnchor:"middle",className:"text-xs fill-blue-600",children:"useEffect runs"})]}),e.jsx("path",{d:"M 175 70 L 225 70",stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"5,5"}),e.jsx("polygon",{points:"225,70 215,65 215,75",fill:"#9CA3AF"}),e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"250",y:"40",width:"120",height:"60",rx:"8",fill:"#10B981",fillOpacity:"0.1",stroke:"#10B981",strokeWidth:"2"}),e.jsx("text",{x:"310",y:"75",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"Effect Setup"}),e.jsx("text",{x:"310",y:"95",textAnchor:"middle",className:"text-xs fill-green-600",children:"Setup resources"})]}),e.jsx("path",{d:"M 375 70 L 425 70",stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"5,5"}),e.jsx("polygon",{points:"425,70 415,65 415,75",fill:"#9CA3AF"}),e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"450",y:"40",width:"120",height:"60",rx:"8",fill:"#F59E0B",fillOpacity:"0.1",stroke:"#F59E0B",strokeWidth:"2"}),e.jsx("text",{x:"510",y:"75",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"Return Cleanup"}),e.jsx("text",{x:"510",y:"95",textAnchor:"middle",className:"text-xs fill-yellow-600",children:"Function to cleanup"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M 310 110 L 310 160 L 110 160 L 110 130",stroke:"#EF4444",strokeWidth:"2",strokeDasharray:"4,4",fill:"none"}),e.jsx("text",{x:"200",y:"180",textAnchor:"middle",className:"text-xs fill-red-500 font-medium",children:"Dependencies Change"}),e.jsx("text",{x:"200",y:"195",textAnchor:"middle",className:"text-xs fill-red-500",children:"(Cleanup ‚Üí New Effect)"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M 510 110 L 510 200 L 50 200",stroke:"#8B5CF6",strokeWidth:"2",strokeDasharray:"4,4",fill:"none"}),e.jsx("text",{x:"280",y:"220",textAnchor:"middle",className:"text-xs fill-purple-500 font-medium",children:"Component Unmounts"}),e.jsx("text",{x:"280",y:"235",textAnchor:"middle",className:"text-xs fill-purple-500",children:"(Cleanup runs)"})]})]})}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-blue-600 dark:text-blue-300 font-bold",children:"When Cleanup Runs:"}),e.jsxs("ol",{className:"text-sm text-left mt-2 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"1. Before re-running effect"}),e.jsx("li",{children:"2. When component unmounts"})]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-red-600 dark:text-red-300 font-bold",children:"Without Cleanup:"}),e.jsx("div",{className:"text-sm mt-2 text-gray-700 dark:text-gray-300",children:"Memory leaks, zombie listeners, errors"})]})]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center animate-[fadeIn_0.8s_ease-out_0.4s]",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-xl mr-4",children:"üéÆ"}),"Interactive Examples"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:"üéØ"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Event Listener Cleanup"})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Move your mouse around to see coordinates:"}),e.jsx("div",{className:"text-center py-3 bg-gray-100 dark:bg-gray-600 rounded",children:e.jsxs("div",{className:"text-2xl font-mono text-blue-600 dark:text-blue-300",children:["X: ",d.x," | Y: ",d.y]})})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:e.jsx("pre",{className:"text-sm text-gray-100 overflow-x-auto",children:`useEffect(() => {
  const handleMouseMove = (e) => {
    setMousePosition({ x: e.clientX, y: e.clientY });
  };
  
  window.addEventListener('mousemove', handleMouseMove);
  
  return () => {
    // Cleanup: Remove listener when component unmounts
    window.removeEventListener('mousemove', handleMouseMove);
  };
}, []);`})}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 dark:border-amber-400 p-3",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[e.jsx("strong",{children:"Without cleanup:"})," The event listener would stay attached even after component unmounts, causing memory leaks and potential errors."]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:"‚è±Ô∏è"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Timer/Interval Cleanup"})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Auto-incrementing counter (every second):"}),e.jsx("div",{className:"text-center py-3 bg-gray-100 dark:bg-gray-600 rounded",children:e.jsx("div",{className:"text-4xl font-mono text-green-600 dark:text-green-300",children:c})})]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:e.jsx("pre",{className:"text-sm text-gray-100 overflow-x-auto",children:`useEffect(() => {
  const intervalId = setInterval(() => {
    setCounter(prev => prev + 1);
  }, 1000);
  
  return () => {
    // Cleanup: Clear interval when component unmounts
    clearInterval(intervalId);
  };
}, []);`})}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:()=>o(!a),className:g("px-6 py-3 rounded-lg font-medium transition-all duration-300",a?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800"),children:a?"Unmount Component":"Mount Component"})}),!a&&e.jsx("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg text-center",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Component unmounted. Timer has been cleaned up!"})})]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center animate-[fadeIn_0.8s_ease-out_0.6s]",children:[e.jsx("span",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-xl mr-4",children:"‚ö†Ô∏è"}),"Common Scenarios Requiring Cleanup"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border-l-4 border-blue-500",children:[e.jsx("div",{className:"text-4xl mb-4 text-center group-hover:scale-110 transition-transform duration-300",children:"üì°"}),e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"WebSocket Connections"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Close WebSocket connections to prevent hanging connections and memory leaks."}),e.jsxs("div",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-3 rounded",children:[e.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"ws.close()"})," in cleanup"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border-l-4 border-green-500",children:[e.jsx("div",{className:"text-4xl mb-4 text-center group-hover:scale-110 transition-transform duration-300",children:"üîç"}),e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Observables/Subscriptions"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Unsubscribe from RxJS observables or similar subscription patterns."}),e.jsx("div",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-3 rounded",children:e.jsx("code",{className:"text-green-600 dark:text-green-400",children:"subscription.unsubscribe()"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 group border-l-4 border-purple-500",children:[e.jsx("div",{className:"text-4xl mb-4 text-center group-hover:scale-110 transition-transform duration-300",children:"üîÑ"}),e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Async Operations"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Cancel fetch requests or mark async operations as invalid using flags."}),e.jsxs("div",{className:"text-sm bg-gray-100 dark:bg-gray-700 p-3 rounded",children:[e.jsx("code",{className:"text-purple-600 dark:text-purple-400",children:"isMounted = false"})," pattern"]})]})]})]}),e.jsxs("div",{className:"mb-12 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-2xl p-6 animate-[fadeIn_0.8s_ease-out_0.8s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-xl mr-4",children:"üö´"}),"Common Pitfalls & Mistakes"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"1. Forgetting Cleanup for Event Listeners"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"When Debangshu adds a scroll listener but forgets to remove it, the listener continues working even after navigating away, causing performance issues."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"2. Not Cleaning Up Intervals/Timers"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Swadeep creates a timer that updates UI every second. Without cleanup, the timer keeps running after component unmounts, trying to update a non-existent state."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"3. Setting State After Unmount"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Abhronila starts an async fetch operation. If component unmounts before completion and she doesn't check ",e.jsx("code",{children:"isMounted"}),", React will throw a memory leak warning."]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"4. Cleanup Function with Dependencies"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Cleanup function has access to props and state from when it was created (closure). If you need latest values, use refs or dependency arrays carefully."})]})]})]}),e.jsxs("div",{className:"mb-12 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-2xl p-6 animate-[fadeIn_0.8s_ease-out_1s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-xl mr-4",children:"‚úÖ"}),"Best Practices & Professional Tips"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Cleanup Checklist:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"‚úì"}),"Always return cleanup function from useEffect"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"‚úì"}),"Cleanup mirrors setup (remove what you added)"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"‚úì"}),"Use AbortController for fetch requests"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"‚úì"}),"Keep cleanup functions idempotent (safe to call multiple times)"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Memory Leak Prevention:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"‚ÑπÔ∏è"}),"Use Chrome DevTools Memory tab to detect leaks"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"‚ÑπÔ∏è"}),"Test component mount/unmount cycles"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"‚ÑπÔ∏è"}),"Use React StrictMode for double-effect checking"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"‚ÑπÔ∏è"}),"Log cleanup functions during development"]})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-l-8 border-blue-500 dark:border-blue-400 rounded-2xl p-6 mb-12 hover:shadow-2xl transition-all duration-500 group",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded-xl mr-6 group-hover:rotate-12 transition-transform duration-300",children:e.jsx("span",{className:"text-3xl",children:"üë®‚Äçüè´"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Teacher's Note"}),e.jsxs("div",{className:"mb-4 p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:[e.jsx("strong",{children:"Cleanup functions are like the school janitor of React components!"})," Just like how after a school event in Barrackpore, the janitor cleans up all the decorations, chairs, and sound equipment, React cleanup functions ensure no resources are left behind."]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"Think of it this way: When Tuhina opens a library book (mounts component), she should return it when she's done (cleanup). If she doesn't, the book stays checked out forever (memory leak)."}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Remember:"})," Every time you add something (event listener, timer, subscription), always think about how to remove it. This habit will prevent countless bugs in production applications."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 mb-1",children:"Professional Insight:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"In 27 years of development, I've seen more applications fail from memory leaks than from logic errors. Cleanup is not optional‚Äîit's essential."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsx("div",{className:"font-bold text-green-600 dark:text-green-400 mb-1",children:"Debugging Tip:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Add console logs to your cleanup functions during development. Seeing "Cleanup ran" confirms your component is managing resources properly.'})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"mr-4",children:e.jsx("strong",{children:"Sukanta Hui"})}),e.jsx("span",{className:"mr-4",children:"27 years experience"}),e.jsx("span",{children:"Web Development Expert"})]})})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-800 mb-12",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-700 dark:text-purple-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-lg mr-4",children:"üí°"}),"Thinking Exercise"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Observe carefully:"})," Check your browser's console while interacting with the examples above. Notice when cleanup logs appear and think about why they run at those specific moments."]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Try changing this:"})," What happens if you remove the cleanup function from the mouse movement example? Try it and see if you can detect the memory leak."]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Think about:"})," How would you handle cleanup for a chat application component that connects to multiple WebSocket channels? What resources need cleaning up?"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 dark:from-gray-900 dark:to-black rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"üìã Cleanup Functions Checklist"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"1Ô∏è‚É£"}),e.jsx("h4",{className:"font-bold mb-2",children:"When to Use"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"Event listeners"}),e.jsx("li",{children:"Timers/intervals"}),e.jsx("li",{children:"Subscriptions"}),e.jsx("li",{children:"API requests"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"2Ô∏è‚É£"}),e.jsx("h4",{className:"font-bold mb-2",children:"How to Implement"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"Return function from useEffect"}),e.jsx("li",{children:"Mirror setup operations"}),e.jsx("li",{children:"Use AbortController"}),e.jsx("li",{children:"Check isMounted flag"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"3Ô∏è‚É£"}),e.jsx("h4",{className:"font-bold mb-2",children:"Testing"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"Mount/unmount cycles"}),e.jsx("li",{children:"Check console warnings"}),e.jsx("li",{children:"Memory profiling"}),e.jsx("li",{children:"Network tab inspection"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-300",children:[e.jsx("strong",{children:"Remember:"})," If you set it up, you must clean it up!"]})})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(20px);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
          .animate-\\[fadeIn_0\\.8s_ease-out\\],
          .animate-\\[slideUp_0\\.6s_ease-out\\],
          .animate-\\[slideUp_0\\.6s_ease-out_0\\.2s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.4s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.6s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.8s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_1s\\] {
            animation: none;
            opacity: 1;
            transform: none;
          }
          
          .group-hover\\:scale-110,
          .group-hover\\:rotate-12 {
            transform: none;
          }
        }
      `})]})};export{y as default};

import{r,j as e}from"./index-DdrZIREY.js";import{c as o}from"./clsx-B-dksMZM.js";const L=()=>{const[c,f]=r.useState(0),[a,x]=r.useState({name:"Swadeep",age:21}),[p,b]=r.useState(["Post 1","Post 2"]),[I,T]=r.useState("all"),[h,g]=r.useState([]),[t,y]=r.useState("empty"),[A,j]=r.useState(0),[D,_]=r.useState(!0),[P,W]=r.useState(1),m=r.useRef(0),i=r.useRef(0);r.useRef([]);const n=(s,d,S="blue")=>{i.current+=1,g(U=>[...U,{id:Date.now(),run:i.current,deps:JSON.stringify(s),description:d,color:S,render:m.current,timestamp:new Date().toLocaleTimeString()}].slice(-10))};r.useEffect(()=>{m.current+=1}),r.useEffect(()=>{t==="empty"&&n([],"Empty [] - Runs ONCE on mount","green")},[]),r.useEffect(()=>{t==="none"&&n(null,"No deps - Runs on EVERY render","red")}),r.useEffect(()=>{t==="specific"&&n([c],`[counter] - Runs when counter changes (${c})`,"purple")},[c]),r.useEffect(()=>{t==="multiple"&&n([a.name,a.age],"[user.name, user.age] - Runs when user changes","orange")},[a.name,a.age]),r.useEffect(()=>{t==="object"&&n([a],"[user] - Runs when user object changes","yellow")},[a]);const u=r.useCallback(()=>(console.log("Fetching user data..."),`User: ${a.name}`),[a.name]);r.useEffect(()=>{t==="function"&&n([u],"[fetchUserData] - Runs when function changes","pink")},[u]),r.useEffect(()=>{if(t==="stale"){const s=setTimeout(()=>{j(d=>(n([],`Stale closure: captured counter = ${c}, actual = ???`,"red"),d+1))},3e3);return()=>clearTimeout(s)}},[t]),r.useEffect(()=>{t==="comparison"&&n([{name:a.name}],`[{name: "${a.name}"}] - New object every render, always runs`,"gray")},[{name:a.name}]);const N=()=>{x(s=>({...s,name:`User${Math.floor(Math.random()*100)}`}))},k=()=>{x(s=>({...s,age:s.age+1}))},v=()=>{x({...a,updated:Date.now()})},w=()=>{b(s=>[...s,`Post ${s.length+1}`])},E=()=>{g([]),i.current=0},l=[{id:"empty",name:"Empty Array []",code:`useEffect(() => {
  // Runs once on mount
}, []);`,description:"Runs only once when component mounts",useCase:"Data fetching on mount, event listener setup",color:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",border:"border-green-300 dark:border-green-700"},{id:"none",name:"No Array",code:`useEffect(() => {
  // Runs after every render
});`,description:"Runs after every render (dangerous!)",useCase:"Rare - debugging, analytics on every render",color:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",border:"border-red-300 dark:border-red-700"},{id:"specific",name:"Specific [state]",code:`useEffect(() => {
  // Runs when state changes
}, [state]);`,description:"Runs when specific state/prop changes",useCase:"Reacting to state changes, form validation",color:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",border:"border-purple-300 dark:border-purple-700"},{id:"multiple",name:"Multiple [a, b]",code:`useEffect(() => {
  // Runs when a OR b changes
}, [a, b]);`,description:"Runs when any dependency changes",useCase:"Multiple dependencies, combined effects",color:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300",border:"border-orange-300 dark:border-orange-700"},{id:"object",name:"Object [obj]",code:`useEffect(() => {
  // Runs when obj reference changes
}, [obj]);`,description:"Runs when object reference changes",useCase:"Object dependencies, careful with mutations",color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",border:"border-yellow-300 dark:border-yellow-700"},{id:"function",name:"Function [fn]",code:`useEffect(() => {
  // Runs when function changes
}, [fn]);`,description:"Runs when function reference changes",useCase:"Callback functions, event handlers",color:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-300",border:"border-pink-300 dark:border-pink-700"}],C=[{name:"Primitive Value",code:"const [count, setCount] = useState(0);",comparison:"count === count // true if same number",behavior:"Works as expected",safe:!0},{name:"Object Reference",code:'const [user, setUser] = useState({ name: "John" });',comparison:"user === user // true only if same reference",behavior:"New object every render triggers effect",safe:!1},{name:"Array Reference",code:"const [items, setItems] = useState([]);",comparison:"items === items // true only if same reference",behavior:"New array every render triggers effect",safe:!1},{name:"Function Reference",code:"const fn = () => {};",comparison:"fn === fn // true only if same reference",behavior:"New function every render triggers effect",safe:!1}],R=[{rule:"exhaustive-deps",description:"Warns about missing dependencies",example:`useEffect(() => {
  console.log(count);
}, []); // ‚ùå Missing [count]`,fix:"Add all referenced values to dependencies"},{rule:"no-unused-vars",description:"Warns about unused dependencies",example:`useEffect(() => {
  // Only uses a
}, [a, b]); // ‚ùå b is unused`,fix:"Remove unused dependencies"},{rule:"react-hooks/rules-of-hooks",description:"Enforces hooks rules",example:`if (condition) {
  useEffect(...); // ‚ùå Conditional hook
}`,fix:"Move hooks to top level"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8 transition-colors duration-300",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-12 animate-[fadeInUp_0.8s_ease-out]",children:[e.jsx("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-indigo-100 dark:bg-indigo-900/30 mb-4",children:e.jsx("span",{className:"text-sm font-semibold text-indigo-700 dark:text-indigo-300",children:"Topic 28/46"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Dependency Array Fundamentals"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"Master the art of dependency arrays‚Äîthe key to controlling when your effects run. Learn to avoid infinite loops, stale closures, and performance pitfalls with precise dependency management."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_0.9s_ease-out]",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xl",children:"üéØ"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"What Are Dependency Arrays?"})]}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:["The ",e.jsx("strong",{children:"dependency array"})," is the second argument to ",e.jsx("code",{children:"useEffect"})," that tells React ",e.jsx("em",{children:"when"})," your effect should re-run. It's a list of values that the effect depends on."]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-5 rounded-xl my-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"üéØ Core Principle"}),e.jsx("blockquote",{className:"border-l-4 border-blue-500 dark:border-blue-400 pl-4 py-2 italic text-gray-700 dark:text-gray-300",children:'"The dependency array synchronizes your effect with the values it uses. When a dependency changes, the effect re-runs. When dependencies stay the same, the effect skips."'})]}),e.jsxs("div",{className:"my-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 text-center",children:"How Dependency Arrays Work"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border-2 border-green-300 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"S/P"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"State & Props"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Values that might change"})]})]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white",children:"‚Üì"})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Render happens"})]}),e.jsxs("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl border-2 border-purple-300 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"?"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Dependency Check"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Did any dependencies change?"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2 bg-white dark:bg-gray-800 rounded text-center",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 font-bold",children:"Yes"}),e.jsx("div",{className:"text-xs",children:"Run effect"})]}),e.jsxs("div",{className:"p-2 bg-white dark:bg-gray-800 rounded text-center",children:[e.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold",children:"No"}),e.jsx("div",{className:"text-xs",children:"Skip effect"})]})]})]}),e.jsx("div",{className:"w-full max-w-md p-4 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl border-2 border-orange-300 dark:border-orange-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white text-sm",children:"‚ö°"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Effect Execution"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Side effects run here"})]})]})})]}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})})}),e.jsx("line",{x1:"50%",y1:"80",x2:"50%",y2:"140",stroke:"#3b82f6",strokeWidth:"2",markerEnd:"url(#arrow)"}),e.jsx("line",{x1:"50%",y1:"200",x2:"50%",y2:"260",stroke:"#3b82f6",strokeWidth:"2",markerEnd:"url(#arrow)"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Real-World Analogy"}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-xl",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Think of Tuhina from Barrackpore managing class attendance:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300 mt-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Empty []:"})," Take attendance once at start of day"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"[students]:"})," Update attendance when student list changes"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsxs("span",{children:[e.jsx("strong",{children:"No array:"})," Take attendance after every single activity (exhausting!)"]})]})]})]})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.0s_ease-out]",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-lg",children:"üîç"})}),"Dependency Comparison Types"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-900",children:[e.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white font-semibold",children:"Type"}),e.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white font-semibold",children:"Comparison"}),e.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white font-semibold",children:"Behavior"}),e.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white font-semibold",children:"Safe?"})]})}),e.jsx("tbody",{children:C.map((s,d)=>e.jsxs("tr",{className:o("border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors",d%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/30"),children:[e.jsx("td",{className:"p-3 font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("td",{className:"p-3",children:e.jsx("code",{className:"text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:s.comparison})}),e.jsx("td",{className:"p-3 text-sm text-gray-600 dark:text-gray-400",children:s.behavior}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:o("px-2 py-1 rounded text-xs font-semibold",s.safe?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:s.safe?"‚úÖ Safe":"‚ö†Ô∏è Careful"})})]},d))})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Key Insight"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["React uses ",e.jsx("strong",{children:"reference equality"}),' (===) to compare dependencies. For objects, arrays, and functions, a new reference means "changed" even if content is the same.']})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.1s_ease-out]",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-lg",children:"üìè"})}),"ESLint Rules & Best Practices"]}),e.jsx("div",{className:"space-y-4",children:R.map((s,d)=>e.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-700 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3 mt-1",children:e.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm",children:"‚úì"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:s.rule}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:s.description}),e.jsx("pre",{className:"text-xs bg-gray-900 text-gray-100 p-3 rounded-lg mt-2 overflow-x-auto",children:s.example}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:[e.jsx("strong",{children:"Fix:"})," ",s.fix]})]})]})},d))}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border border-yellow-200 dark:border-yellow-700",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-300 mb-2",children:"Professional Tip from Ichapur Classroom"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:["When Abhronila asked why her effect kept re-running, we discovered she was creating a new function inside the component body every render. The fix? ",e.jsx("code",{children:"useCallback"}),"."]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.0s_ease-out]",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Dependency Array Playground"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Select Dependency Mode"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.map(s=>e.jsxs("button",{onClick:()=>y(s.id),className:o("p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-105",t===s.id?"scale-105 ring-2 ring-offset-2 ring-blue-500":"hover:shadow-md",s.border,t===s.id?"bg-white dark:bg-gray-800":s.color),children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 truncate",children:s.description})]},s.id))})]}),e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Current State Values"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Counter"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"User Name"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:a.age}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"User Age"})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:p.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Posts Count"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("button",{onClick:()=>f(s=>s+1),className:"py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"Increment Counter"}),e.jsx("button",{onClick:N,className:"py-2 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"Change User Name"}),e.jsx("button",{onClick:k,className:"py-2 px-4 bg-purple-500 hover:bg-purple-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"Increment Age"}),e.jsx("button",{onClick:w,className:"py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"Add Post"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:v,className:"py-2 px-4 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"New User Object"}),e.jsx("button",{onClick:E,className:"py-2 px-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors duration-300",children:"Reset Logs"})]})]}),l.find(s=>s.id===t)&&e.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4",children:[l.find(s=>s.id===t).name," Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Code:"}),e.jsx("pre",{className:"text-sm bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:l.find(s=>s.id===t).code})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.find(s=>s.id===t).description})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Common Use Case:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l.find(s=>s.id===t).useCase})]})]})]})]}),e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.1s_ease-out]",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Effect Execution Log"}),e.jsx("div",{className:"h-64 overflow-y-auto bg-gray-50 dark:bg-gray-900/50 rounded-xl p-4 mb-4",children:h.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:"Effects will be logged here as they run. Try changing states above."}):e.jsx("div",{className:"space-y-3",children:[...h].reverse().map(s=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:o("w-3 h-3 rounded-full mr-3",s.color==="green"&&"bg-green-500",s.color==="red"&&"bg-red-500",s.color==="purple"&&"bg-purple-500",s.color==="orange"&&"bg-orange-500",s.color==="yellow"&&"bg-yellow-500",s.color==="pink"&&"bg-pink-500",s.color==="blue"&&"bg-blue-500")}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["Run #",s.run]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Render #",s.render," ‚Ä¢ ",s.timestamp]})]}),e.jsxs("div",{className:"ml-6",children:[e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.description}),s.deps!=="null"&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Dependencies: ",e.jsx("code",{children:s.deps})]})]})]},s.id))})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Total effect runs: ",e.jsx("span",{className:"font-semibold",children:i.current})]}),e.jsxs("div",{children:["Current render: ",e.jsx("span",{className:"font-semibold",children:m.current})]})]})]}),e.jsxs("section",{className:"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/10 dark:to-orange-900/10 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 animate-[fadeInUp_1.2s_ease-out]",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Common Dependency Pitfalls"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"1. Stale Closures"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("pre",{className:"text-sm bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:`// ‚ùå Problem: Captures initial counter value
useEffect(() => {
  const timer = setTimeout(() => {
    console.log(counter); // Always logs 0!
  }, 3000);
}, []); // Empty array

// ‚úÖ Solution: Use functional update or include dependency
useEffect(() => {
  const timer = setTimeout(() => {
    console.log(counter); // Logs current value
  }, 3000);
}, [counter]); // Include counter`}),e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:[e.jsx("strong",{children:"Watch out:"}),' When selected mode is "stale", a timer captures the counter value at effect creation. If counter changes before timer fires, it logs the stale value.']})})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"2. Infinite Loops"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("pre",{className:"text-sm bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:`// ‚ùå Infinite loop: sets state without dependency
useEffect(() => {
  setCounter(counter + 1); // Triggers re-render
}); // No dependency array = runs every render

// ‚úÖ Solution: Add proper dependencies or conditions
useEffect(() => {
  if (shouldUpdate) {
    setCounter(prev => prev + 1);
  }
}, [shouldUpdate]);`}),e.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:[e.jsx("strong",{children:"Tip:"})," If your effect sets state that it depends on, you'll create an infinite loop. Use conditions or functional updates to break the cycle."]})})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"3. Object & Array References"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("pre",{className:"text-sm bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:`// ‚ùå Always runs: new object every render
useEffect(() => {
  // This effect runs every render!
}, [{ name: user.name }]);

// ‚ùå Always runs: new array every render  
useEffect(() => {
  // This effect runs every render!
}, [[...posts]]);

// ‚úÖ Solution: Use primitives or memoize
useEffect(() => {
  // Only runs when user.name changes
}, [user.name]);`}),e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/10 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:[e.jsx("strong",{children:"Remember:"})," React compares dependencies by reference (===). If you create a new object/array/function every render, the effect will always run."]})})]})]})]})]})]})]}),e.jsx("div",{className:"mt-8 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-2xl p-6 shadow-lg border-l-4 border-emerald-500 dark:border-emerald-400 animate-[fadeInUp_1.3s_ease-out]",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-emerald-500 to-green-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:"SH"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Teacher's Note"}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:e.jsx("strong",{children:"Dear students from Naihati, Barrackpore, and Shyamnagar,"})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-lg mb-4 border border-emerald-200 dark:border-emerald-700",children:[e.jsx("h4",{className:"font-semibold text-emerald-700 dark:text-emerald-400 mb-2",children:"The Dependency Mindset:"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["When Debangshu from Ichapur couldn't figure out why his search wasn't updating, we discovered he had ",e.jsx("code",{children:"[searchTerm]"})," but was using ",e.jsx("code",{children:"currentSearch"}),"inside the effect. The names must match!"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:'Always ask: "What values does this effect use from outside its scope?"'})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:"After 27 years of debugging React applications, I can tell you that 90% of effect-related bugs come from incorrect dependency arrays. The student from Barrackpore who fixed their app's memory leak? They learned to include all dependencies."}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:[e.jsx("strong",{children:"Professional Insight:"})," In enterprise applications, we use these rules:"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300 mb-4",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-500 mr-2",children:"1."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Always use the ESLint plugin"})," - it catches 95% of dependency mistakes"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-500 mr-2",children:"2."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Keep dependencies minimal"})," - only include what the effect actually uses"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-500 mr-2",children:"3."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Use useCallback/useMemo"})," for stable function/object references"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-emerald-500 mr-2",children:"4."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Test effect behavior"})," when dependencies change"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Sukanta Hui"})," ¬∑ 27 years experience ¬∑",e.jsx("a",{href:"mailto:sukantahui@codernaccotax.co.in",className:"text-emerald-600 dark:text-emerald-400 hover:underline ml-1",children:"sukantahui@codernaccotax.co.in"})]})})]})]})]})}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-900/20 dark:to-blue-900/20 rounded-2xl border border-cyan-200 dark:border-cyan-700 animate-[fadeInUp_1.4s_ease-out]",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-900/30 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-cyan-600 dark:text-cyan-400",children:"üß™"})}),"Experiment & Observe"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Exercise Plan"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Follow this sequence and observe the effect log:"}),e.jsxs("ol",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"1"}),e.jsxs("div",{children:[e.jsx("span",{children:'Select "Empty Array []" mode'}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Notice effect runs once on mount, then never again"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"2"}),e.jsxs("div",{children:[e.jsx("span",{children:'Select "No Array" mode'}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Effect runs after every state change and render"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"3"}),e.jsxs("div",{children:[e.jsx("span",{children:'Select "Specific [counter]" and click "Increment Counter"'}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Effect runs only when counter changes"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mr-3 mt-1 text-xs",children:"4"}),e.jsxs("div",{children:[e.jsx("span",{children:'Select "Object [user]" and click "New User Object"'}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"New object reference triggers effect even with same content"})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("strong",{children:"Critical Question:"}),' Look at the "Stale Closures" example. What happens if you:']}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 space-y-1",children:[e.jsx("li",{children:'1. Select "Stale" mode'}),e.jsx("li",{children:'2. Click "Increment Counter" multiple times quickly'}),e.jsx("li",{children:"3. Wait 3 seconds"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3",children:"Which counter value gets logged? The one when the effect ran, or the current one?"})]})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 animate-[fadeInUp_1.5s_ease-out]",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"‚úì"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Dependency Rules"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"[] = Run once on mount"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"[dep] = Run when dep changes"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"No array = Run every render"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Include all values effect uses"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"üéØ"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Best Practices"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Use ESLint exhaustive-deps rule"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Keep dependencies minimal"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Memoize objects/functions with useMemo/useCallback"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Test effect re-runs"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"‚ö†Ô∏è"})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Common Mistakes"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Forgetting dependencies (stale closures)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Including unnecessary dependencies"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Creating new objects/arrays every render"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚Ä¢"}),e.jsx("span",{children:"Setting state without breaking cycles"})]})]})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Respect reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .animate-\\[fadeInUp_0\\.8s_ease-out\\] {
            animation: none;
          }
        }
      `})]})};export{L as default};

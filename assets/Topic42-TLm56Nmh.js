import{r as l,j as e}from"./index-BFnLuail.js";import{c as m}from"./clsx-B-dksMZM.js";const G=()=>{const[d,b]=l.useState([{id:1,name:"React Course",price:2999,quantity:1},{id:2,name:"JavaScript Book",price:899,quantity:2},{id:3,name:"TypeScript Guide",price:499,quantity:1}]),[n,S]=l.useState({theme:"dark",fontSize:"medium",notifications:!0,autoSave:!1}),[o,C]=l.useState({category:"all",priceRange:[0,5e3],rating:0,inStock:!1}),[r,N]=l.useState([{id:1,text:"Learn React Hooks",completed:!0,priority:"high"},{id:2,text:"Master State Management",completed:!1,priority:"medium"},{id:3,text:"Practice Conditional Rendering",completed:!1,priority:"high"},{id:4,text:"Study useEffect Patterns",completed:!0,priority:"low"},{id:5,text:"Build Real Project",completed:!1,priority:"high"}]),[v,k]=l.useState(""),[p,D]=l.useState("cart"),[g,F]=l.useState(!1),c=l.useMemo(()=>{console.log("üîÑ Recomputing cart totals...");const t=d.reduce((y,u)=>y+u.price*u.quantity,0),s=t*.18,a=t>2e3?0:99,h=t+s+a;return{subtotal:t,tax:s,shipping:a,total:h,itemCount:d.reduce((y,u)=>y+u.quantity,0),uniqueItems:d.length}},[d,g]),A=l.useMemo(()=>{console.log("üîÑ Filtering todos...");let t=[...r];return o.category!=="all"&&(t=t.filter(s=>s.priority===o.category)),o.rating>0&&(t=t.filter(s=>s.id%2===0)),o.inStock&&(t=t.filter(s=>!s.completed)),t},[r,o,g]),i=l.useMemo(()=>{console.log("üîÑ Computing todo statistics...");const t=r.length,s=r.filter(x=>x.completed).length,a=t-s,h=t>0?s/t*100:0,y=r.filter(x=>x.priority==="high").length,u=r.filter(x=>x.priority==="medium").length,O=r.filter(x=>x.priority==="low").length;return{total:t,completed:s,pending:a,completionRate:Math.round(h),highPriority:y,mediumPriority:u,lowPriority:O}},[r,g]),j=l.useMemo(()=>(console.log("üîÑ Formatting preferences..."),{theme:n.theme==="dark"?"üåô Dark Mode":"‚òÄÔ∏è Light Mode",fontSize:n.fontSize==="small"?"Small (12px)":n.fontSize==="medium"?"Medium (16px)":"Large (20px)",notifications:n.notifications?"üîî Enabled":"üîï Disabled",autoSave:n.autoSave?"üíæ Auto-save ON":"üíæ Auto-save OFF"}),[n,g]),w=l.useMemo(()=>{console.log("üßÆ Performing expensive calculation...");let t=0;for(let s=0;s<1e6;s++)t+=Math.sqrt(s)*Math.random();return{computedValue:Math.round(t%1e3),timestamp:new Date().toLocaleTimeString()}},[r.length,g]),[E,_]=l.useState(0),[R,W]=l.useState(0);l.useEffect(()=>{console.log("‚ö†Ô∏è Anti-pattern: Syncing derived state to stored state");const t=r.filter(a=>a.completed).length;W(t);const s=d.reduce((a,h)=>a+h.price*h.quantity,0);_(s)},[r,d]);const L=()=>{const t={id:d.length+1,name:`Item ${d.length+1}`,price:Math.floor(Math.random()*1e3)+100,quantity:1};b([...d,t])},T=(t,s)=>{b(d.map(a=>a.id===t?{...a,quantity:Math.max(1,a.quantity+s)}:a))},B=t=>{N(r.map(s=>s.id===t?{...s,completed:!s.completed}:s))},I=()=>{if(!v.trim())return;const t={id:r.length+1,text:v,completed:!1,priority:["high","medium","low"][Math.floor(Math.random()*3)]};N([...r,t]),k("")},f=(t,s)=>{S(a=>({...a,[t]:s}))},M=(t,s)=>{C(a=>({...a,[t]:s}))},q=()=>{b([])},P=()=>{F(!g)},U=()=>{b([{id:1,name:"React Course",price:2999,quantity:1},{id:2,name:"JavaScript Book",price:899,quantity:2},{id:3,name:"TypeScript Guide",price:499,quantity:1}]),N([{id:1,text:"Learn React Hooks",completed:!0,priority:"high"},{id:2,text:"Master State Management",completed:!1,priority:"medium"},{id:3,text:"Practice Conditional Rendering",completed:!1,priority:"high"},{id:4,text:"Study useEffect Patterns",completed:!0,priority:"low"},{id:5,text:"Build Real Project",completed:!1,priority:"high"}]),S({theme:"dark",fontSize:"medium",notifications:!0,autoSave:!1}),C({category:"all",priceRange:[0,5e3],rating:0,inStock:!1}),k("")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 animate-[fadeIn_0.8s_ease-out]",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Derived"})," vs"," ",e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Stored"})," State"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Understanding when to compute values vs when to store them in React"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 animate-[slideUp_0.6s_ease-out]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg mr-3",children:"üíæ"}),"Stored State"]}),e.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["State that you explicitly manage using ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:"useState"})," or ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:"useReducer"}),'. It represents the "source of truth" in your component.']}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 dark:border-green-400 p-4",children:[e.jsx("strong",{className:"block mb-2 text-green-800 dark:text-green-300",children:"When to Store:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsx("li",{children:"User input (form fields, selections)"}),e.jsx("li",{children:"Data fetched from APIs"}),e.jsx("li",{children:"Application settings/preferences"}),e.jsx("li",{children:"Items in a list (todos, cart items)"}),e.jsx("li",{children:"Anything that changes via user interaction"})]})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("strong",{className:"block mb-2",children:"Characteristics:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Directly mutable via setState"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Triggers re-renders when updated"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Source of truth for the component"]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-3",children:"Examples:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Form Inputs"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const [email, setEmail] = useState('')"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"API Data"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const [users, setUsers] = useState([])"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"UI State"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const [isOpen, setIsOpen] = useState(false)"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Cart Items"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const [cart, setCart] = useState([])"})})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-500 animate-[slideUp_0.6s_ease-out_0.2s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-3",children:"üßÆ"}),"Derived State"]}),e.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["Values computed from existing state or props, typically using ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:"useMemo"})," or computed during render."]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400 p-4",children:[e.jsx("strong",{className:"block mb-2 text-blue-800 dark:text-blue-300",children:"When to Derive:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsx("li",{children:"Calculations (totals, averages, counts)"}),e.jsx("li",{children:"Filtered/sorted lists"}),e.jsx("li",{children:"Formatted/transformed data"}),e.jsx("li",{children:"Boolean flags based on state"}),e.jsx("li",{children:"Any value that can be computed from existing state"})]})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("strong",{className:"block mb-2",children:"Characteristics:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚ö°"}),"Computed from existing state/props"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚ö°"}),"Should be cached with useMemo for expensive calculations"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚ö°"}),"Automatically stays in sync with source state"]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-3",children:"Examples:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Cart Total"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const total = cart.reduce(...)"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Filtered List"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const filtered = todos.filter(...)"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Formatted Date"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const formatted = format(date)"})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:"Boolean Flag"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.jsx("code",{children:"const isEmpty = items.length === 0"})})]})]})]})]})]}),e.jsxs("div",{className:"mb-12 bg-gradient-to-r from-blue-50 to-green-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-6 flex items-center animate-[fadeIn_0.8s_ease-out_0.4s]",children:[e.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-green-500 p-3 rounded-xl mr-4 text-white",children:"üìä"}),"State Flow Visualization"]}),e.jsx("div",{className:"relative h-48 mb-6",children:e.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 600 180",className:"overflow-visible",children:[e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"50",y:"60",width:"120",height:"60",rx:"8",fill:"#10B981",fillOpacity:"0.2",stroke:"#10B981",strokeWidth:"2"}),e.jsx("text",{x:"110",y:"90",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"Stored State"}),e.jsx("text",{x:"110",y:"105",textAnchor:"middle",className:"text-xs fill-green-600",children:"cartItems, todos"})]}),e.jsx("path",{d:"M 175 90 L 225 90",stroke:"#9CA3AF",strokeWidth:"2"}),e.jsx("polygon",{points:"225,90 215,85 215,95",fill:"#9CA3AF"}),e.jsx("text",{x:"200",y:"85",textAnchor:"middle",className:"text-xs fill-gray-500",children:"Computed"}),e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"250",y:"60",width:"120",height:"60",rx:"8",fill:"#3B82F6",fillOpacity:"0.2",stroke:"#3B82F6",strokeWidth:"2"}),e.jsx("text",{x:"310",y:"90",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"Derived State"}),e.jsx("text",{x:"310",y:"105",textAnchor:"middle",className:"text-xs fill-blue-600",children:"totals, filtered"})]}),e.jsx("path",{d:"M 375 90 L 425 90",stroke:"#9CA3AF",strokeWidth:"2"}),e.jsx("polygon",{points:"425,90 415,85 415,95",fill:"#9CA3AF"}),e.jsx("text",{x:"400",y:"85",textAnchor:"middle",className:"text-xs fill-gray-500",children:"Rendered"}),e.jsxs("g",{className:"hover:scale-105 transition-transform duration-300",children:[e.jsx("rect",{x:"450",y:"60",width:"120",height:"60",rx:"8",fill:"#F59E0B",fillOpacity:"0.2",stroke:"#F59E0B",strokeWidth:"2"}),e.jsx("text",{x:"510",y:"90",textAnchor:"middle",className:"text-sm font-semibold fill-gray-800 dark:fill-gray-100",children:"UI Display"}),e.jsx("text",{x:"510",y:"105",textAnchor:"middle",className:"text-xs fill-yellow-600",children:"Components"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M 510 125 L 510 150 L 110 150 L 110 125",stroke:"#EF4444",strokeWidth:"2",strokeDasharray:"4,4",fill:"none"}),e.jsx("text",{x:"310",y:"145",textAnchor:"middle",className:"text-xs fill-red-500 font-medium",children:"Anti-pattern: Storing derived values"})]}),e.jsxs("g",{children:[e.jsx("circle",{cx:"110",cy:"30",r:"15",fill:"#8B5CF6",fillOpacity:"0.3",stroke:"#8B5CF6",strokeWidth:"2"}),e.jsx("text",{x:"110",y:"35",textAnchor:"middle",className:"text-xs font-semibold fill-gray-800 dark:fill-gray-100",children:"Update"}),e.jsx("path",{d:"M 110 45 L 110 55",stroke:"#8B5CF6",strokeWidth:"2"}),e.jsx("text",{x:"110",y:"50",textAnchor:"middle",className:"text-[10px] fill-purple-500",children:"setState()"})]}),e.jsxs("g",{children:[e.jsx("path",{d:"M 310 125 L 310 150 L 510 150 L 510 125",stroke:"#10B981",strokeWidth:"2",strokeDasharray:"4,4",fill:"none"}),e.jsx("text",{x:"410",y:"145",textAnchor:"middle",className:"text-xs fill-green-500 font-medium",children:"Automatic re-computation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-300 mb-1",children:"Source of Truth"}),e.jsxs("div",{className:"font-bold text-lg",children:[d.length+r.length," items"]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Derived Values"}),e.jsx("div",{className:"font-bold text-lg",children:"6 calculations"})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300 mb-1",children:"Performance"}),e.jsx("div",{className:"font-bold text-lg",children:w.timestamp.split(":")[2]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto",children:["cart","todos","preferences","anti-pattern"].map(t=>e.jsxs("button",{onClick:()=>D(t),className:m("px-6 py-3 rounded-lg font-medium transition-all duration-300 whitespace-nowrap",p===t?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"),children:[t==="cart"&&"üõí Cart Example",t==="todos"&&"üìù Todos Example",t==="preferences"&&"‚öôÔ∏è Preferences",t==="anti-pattern"&&"üö´ Anti-Pattern"]},t))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p==="cart"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"üõí Shopping Cart Example"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-300",children:"+ Add Item"}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-300",children:"Clear Cart"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg mr-2",children:"üíæ"}),"Stored State: Cart Items"]}),e.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[d.map(t=>e.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-300",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["‚Çπ",t.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(t.id,-1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-600 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"-"}),e.jsx("span",{className:"font-bold",children:t.quantity}),e.jsx("button",{onClick:()=>T(t.id,1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-600 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500",children:"+"})]})]})},t.id)),d.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-2xl mb-2",children:"üõí"}),"Cart is empty"]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-2",children:"üßÆ"}),"Derived State: Cart Totals"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Items"}),e.jsx("div",{className:"font-bold text-lg",children:c.itemCount})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Unique"}),e.jsx("div",{className:"font-bold text-lg",children:c.uniqueItems})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{className:"font-bold",children:["‚Çπ",c.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"GST (18%):"}),e.jsxs("span",{children:["‚Çπ",c.tax.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping:"}),e.jsx("span",{className:c.shipping===0?"text-green-500":"",children:c.shipping===0?"FREE":`‚Çπ${c.shipping}`})]}),e.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["‚Çπ",c.total.toLocaleString()]})]})})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"üí° These values are computed from cartItems. If cartItems change, totals automatically update."})})]})]})]})]}),p==="todos"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"üìù Todo List Example"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:t=>k(t.target.value),placeholder:"Add new todo...",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200",onKeyPress:t=>t.key==="Enter"&&I()}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors duration-300",children:"Add"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg mr-2",children:"üíæ"}),"Stored State: Todos"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map(t=>e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-300 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>B(t.id),className:"mr-3 h-5 w-5 rounded border-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:m("font-medium",t.completed?"text-gray-500 dark:text-gray-500 line-through":"text-gray-800 dark:text-gray-200"),children:t.text}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Priority: ",t.priority]})]})]}),e.jsx("span",{className:m("px-2 py-1 text-xs rounded-full",t.priority==="high"&&"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300",t.priority==="medium"&&"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300",t.priority==="low"&&"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300"),children:t.priority})]},t.id))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-2",children:"üìä"}),"Derived State: Statistics"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:i.total}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:i.completed}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Completed"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:i.pending}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Pending"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[i.completionRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Done"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium mb-2 text-gray-800 dark:text-gray-200",children:"Priority Distribution:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600 dark:text-gray-400",children:"High:"}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${i.highPriority/i.total*100}%`}})}),e.jsx("div",{className:"ml-2 text-sm font-medium",children:i.highPriority})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600 dark:text-gray-400",children:"Medium:"}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${i.mediumPriority/i.total*100}%`}})}),e.jsx("div",{className:"ml-2 text-sm font-medium",children:i.mediumPriority})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm text-gray-600 dark:text-gray-400",children:"Low:"}),e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${i.lowPriority/i.total*100}%`}})}),e.jsx("div",{className:"ml-2 text-sm font-medium",children:i.lowPriority})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-2",children:"üîç"}),"Derived State: Filtered Todos"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium mb-2 text-gray-800 dark:text-gray-200",children:"Filters:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("select",{value:o.category,onChange:t=>M("category",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High Priority"}),e.jsx("option",{value:"medium",children:"Medium Priority"}),e.jsx("option",{value:"low",children:"Low Priority"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:o.inStock,onChange:t=>M("inStock",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show only incomplete"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("h5",{className:"font-medium mb-2 text-gray-800 dark:text-gray-200",children:["Filtered Results: ",A.length," items"]}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map(t=>e.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-lg text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:t.completed?"line-through text-gray-500":"",children:t.text}),e.jsx("span",{className:"text-xs text-gray-500",children:t.priority})]})},t.id))})]})]})]})]}),p==="preferences"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"‚öôÔ∏è User Preferences Example"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-lg mr-2",children:"üíæ"}),"Stored State: Raw Preferences"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Theme:"}),e.jsx("div",{className:"flex space-x-2",children:["light","dark","auto"].map(t=>e.jsx("button",{onClick:()=>f("theme",t),className:m("px-4 py-2 rounded-lg transition-colors duration-300",n.theme===t?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Font Size:"}),e.jsx("div",{className:"flex space-x-2",children:["small","medium","large"].map(t=>e.jsx("button",{onClick:()=>f("fontSize",t),className:m("px-4 py-2 rounded-lg transition-colors duration-300",n.fontSize===t?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),children:t},t))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.notifications,onChange:t=>f("notifications",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Enable Notifications"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:n.autoSave,onChange:t=>f("autoSave",t.target.checked),className:"rounded border-gray-300"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Auto-save Changes"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-lg mr-2",children:"üé®"}),"Derived State: Formatted Display"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-gray-800 dark:text-gray-200 mb-3",children:"Current Settings:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-32 text-gray-600 dark:text-gray-400",children:"Theme:"}),e.jsx("div",{className:"font-medium",children:j.theme})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-32 text-gray-600 dark:text-gray-400",children:"Font Size:"}),e.jsx("div",{className:"font-medium",children:j.fontSize})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-32 text-gray-600 dark:text-gray-400",children:"Notifications:"}),e.jsx("div",{className:m("font-medium",n.notifications?"text-green-500":"text-gray-500"),children:j.notifications})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-32 text-gray-600 dark:text-gray-400",children:"Auto-save:"}),e.jsx("div",{className:m("font-medium",n.autoSave?"text-green-500":"text-gray-500"),children:j.autoSave})]})]})]}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"üí° The formatted display is derived from raw preferences. If preferences change, the display automatically updates without additional state."})})]})]})]})]}),p==="anti-pattern"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-6",children:"üö´ Anti-Pattern: Storing Derived State"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-700 dark:text-red-300 mb-4 flex items-center",children:"‚ö†Ô∏è The Problem"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Storing derived values in state creates synchronization issues. When source state changes, you must remember to update the derived state too."}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Current anti-pattern in this component:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚ùå"}),e.jsxs("code",{className:"text-sm",children:["storedCompletedCount: ",R]}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(Should be: ",r.filter(t=>t.completed).length,")"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚ùå"}),e.jsxs("code",{className:"text-sm",children:["storedTotal: ",E]}),e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(Should be: ",d.reduce((t,s)=>t+s.price*s.quantity,0),")"]})]})]})]}),e.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"These values are stored in state but computed from other state. They risk getting out of sync!"})})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-4 border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 mb-4 flex items-center",children:"‚úÖ The Solution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Use ",e.jsx("code",{children:"useMemo"})," to compute derived values. They automatically stay in sync with source state."]}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:e.jsx("pre",{className:"text-sm text-gray-100 overflow-x-auto",children:`// ‚ùå ANTI-PATTERN: Storing derived state
const [completedCount, setCompletedCount] = useState(0);

useEffect(() => {
  // Need to sync manually
  setCompletedCount(todos.filter(t => t.completed).length);
}, [todos]);

// ‚úÖ CORRECT: Computing derived value
const completedCount = useMemo(() => {
  return todos.filter(t => t.completed).length;
}, [todos]);`})}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsxs("div",{className:"text-sm text-green-700 dark:text-green-300",children:["üí° Derived values should be computed, not stored. Use ",e.jsx("code",{children:"useMemo"})," for expensive calculations."]})})]})]})]})]})]})]}),e.jsxs("div",{className:"mb-12 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-xl mr-4",children:"‚ö°"}),"Performance Optimization"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-3",children:"Expensive Calculation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Computed Value:"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:w.computedValue}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Last computed: ",w.timestamp]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["This expensive calculation is memoized with ",e.jsx("code",{children:"useMemo"})]}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors duration-300 text-sm",children:"Force Recompute"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 mb-3",children:"When to use useMemo"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 rounded-full p-1 mr-3 mt-1",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Expensive calculations"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Avoid recomputing on every render"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 rounded-full p-1 mr-3 mt-1",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Referential equality"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"When passing to child components"})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 rounded-full p-1 mr-3 mt-1",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Derived arrays/objects"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Avoid creating new references"})]})]})]})]})]})]}),e.jsxs("div",{className:"mb-12 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-2xl p-6 animate-[fadeIn_0.8s_ease-out_0.8s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-xl mr-4",children:"üö´"}),"Common Derived State Mistakes"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"1. Storing Computed Values"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Swadeep stores ",e.jsx("code",{children:"cartTotal"})," in state alongside ",e.jsx("code",{children:"cartItems"}),". When he adds an item, he must update both states, risking inconsistency."]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"2. Forgetting useMemo for Expensive Calculations"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Tuhina computes a complex statistical analysis during every render, slowing down her app unnecessarily."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"3. Overusing useMemo"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Debangshu wraps every calculation in ",e.jsx("code",{children:"useMemo"}),", even simple ones like ",e.jsx("code",{children:"items.length"}),", adding unnecessary overhead."]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[e.jsx("h4",{className:"font-bold text-red-600 dark:text-red-400 mb-2",children:"4. Derived State Based on Derived State"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Abhronila creates complex chains of derived states, making the code hard to debug and understand."})]})]})]}),e.jsxs("div",{className:"mb-12 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-2xl p-6 animate-[fadeIn_0.8s_ease-out_1s]",children:[e.jsxs("h2",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-xl mr-4",children:"‚úÖ"}),"Best Practices for State Management"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Store State When:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"üíæ"}),"Data comes from user input (forms, clicks)"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"üíæ"}),"Data is fetched from API/server"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"üíæ"}),"Values need to be mutated independently"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 rounded-full p-1 mr-3",children:"üíæ"}),"It's the source of truth for the component"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 dark:text-gray-100",children:"Derive State When:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"üßÆ"}),"Values can be computed from existing state"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"üßÆ"}),"Calculations are expensive (use useMemo)"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"üßÆ"}),"Formatting/transforming data for display"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300 rounded-full p-1 mr-3",children:"üßÆ"}),"Creating filtered/sorted versions of arrays"]})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 border-l-8 border-blue-500 dark:border-blue-400 rounded-2xl p-6 mb-12 hover:shadow-2xl transition-all duration-500 group",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-4 rounded-xl mr-6 group-hover:rotate-12 transition-transform duration-300",children:e.jsx("span",{className:"text-3xl",children:"üë®‚Äçüè´"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Teacher's Note"}),e.jsxs("div",{className:"mb-4 p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:[e.jsx("strong",{children:"Think of stored state as your raw ingredients and derived state as the prepared dish!"})," Just like how Swadeep in Barrackpore doesn't store both vegetables AND curry separately, you shouldn't store both data AND its computed form."]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:`When Tuhina manages her todo list, she stores the todos (ingredients). She doesn't also store "completed count" separately‚Äîshe counts completed todos whenever she needs that information (preparing the dish).`}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Remember:"})," Every piece of stored state is a responsibility. More state means more things to keep in sync. Derive whenever possible‚Äîyour future self will thank you when debugging!"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsx("div",{className:"font-bold text-blue-600 dark:text-blue-400 mb-1",children:"Professional Insight:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:`In 27 years, I've fixed countless bugs caused by storing derived state. The single most common bug: "Why is my total wrong?" Answer: Someone forgot to update the stored total when items changed.`})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[e.jsx("div",{className:"font-bold text-green-600 dark:text-green-400 mb-1",children:"Debugging Tip:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:`When debugging state inconsistencies, ask: "Is this stored or derived?" If it's stored but computed from other state, you've found the problem.`})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex flex-wrap items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"mr-4",children:e.jsx("strong",{children:"Sukanta Hui"})}),e.jsx("span",{className:"mr-4",children:"27 years experience"}),e.jsx("span",{children:"Web Development Expert"})]})})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-800 mb-12",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-700 dark:text-purple-300 mb-4 flex items-center",children:[e.jsx("span",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-lg mr-4",children:"üí°"}),"Thinking Exercise"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Observe carefully:"})," Check the console when you interact with the examples. Notice when derived values recompute. Why do they recompute only when specific dependencies change?"]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Try changing this:"})," Go to the anti-pattern example and add a new todo. Does the stored completed count update? Why or why not?"]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Think about:"})," In a real e-commerce app, what would be stored state (in database) vs derived state (computed on the fly)? List 5 examples of each."]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 dark:from-gray-900 dark:to-black rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"üìã State Management Checklist"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"üíæ"}),e.jsx("h4",{className:"font-bold mb-2",children:"Store When..."}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"User provides input"}),e.jsx("li",{children:"Data from API"}),e.jsx("li",{children:"Independent values"}),e.jsx("li",{children:"Source of truth"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"üßÆ"}),e.jsx("h4",{className:"font-bold mb-2",children:"Derive When..."}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"Calculated from state"}),e.jsx("li",{children:"Expensive computation"}),e.jsx("li",{children:"Formatting display"}),e.jsx("li",{children:"Filtering/sorting"})]})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-700/50 rounded-xl",children:[e.jsx("div",{className:"text-3xl mb-3",children:"‚ö°"}),e.jsx("h4",{className:"font-bold mb-2",children:"Optimize With"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"useMemo for expensive"}),e.jsx("li",{children:"useCallback for functions"}),e.jsx("li",{children:"Memo for components"}),e.jsx("li",{children:"Clean dependency arrays"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-300",children:[e.jsx("strong",{children:"Golden Rule:"})," Store the minimum, derive the rest!"]})})]}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[e.jsx("button",{onClick:U,className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors duration-300 font-medium",children:"üîÑ Reset All Examples"}),e.jsx("button",{onClick:P,className:"px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors duration-300 font-medium",children:"‚ö° Force Recompute All"})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(20px);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
          .animate-\\[fadeIn_0\\.8s_ease-out\\],
          .animate-\\[slideUp_0\\.6s_ease-out\\],
          .animate-\\[slideUp_0\\.6s_ease-out_0\\.2s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.4s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.6s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_0\\.8s\\],
          .animate-\\[fadeIn_0\\.8s_ease-out_1s\\] {
            animation: none;
            opacity: 1;
            transform: none;
          }
          
          .group-hover\\:scale-110,
          .hover\\:scale-105,
          .group-hover\\:rotate-12 {
            transform: none;
          }
        }
        
        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 1;
        }
        
        .line-clamp-2 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 2;
        }
      `})]})};export{G as default};

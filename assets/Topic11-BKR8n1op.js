import{k as x,j as e}from"./index-D1bhWpF_.js";import{c as r}from"./clsx-B-dksMZM.js";class u extends x.Component{constructor(s){super(s),this.state={isDarkMode:!1,showAnimation:!1,selectedExample:"basic",permissionType:"file"}}componentDidMount(){setTimeout(()=>{this.setState({showAnimation:!0})},100),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&this.setState({isDarkMode:!0}),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.darkModeListener=s=>this.setState({isDarkMode:s.matches}),this.darkModeMediaQuery.addListener(this.darkModeListener)}componentWillUnmount(){this.darkModeMediaQuery&&this.darkModeListener&&this.darkModeMediaQuery.removeListener(this.darkModeListener)}handleExampleChange=s=>{this.setState({selectedExample:s})};handlePermissionTypeChange=s=>{this.setState({permissionType:s})};getPermissionExamples=()=>({basic:{title:"Basic Creation (umask 0022)",description:"Standard Linux system with default umask",umask:"0022",fileProcess:[{step:"Default file permission",value:"0666 (rw-rw-rw-)",color:"blue"},{step:"Umask applied",value:"0022 (----w--w-)",color:"red"},{step:"Final permission",value:"0644 (rw-r--r--)",color:"green"}],dirProcess:[{step:"Default directory permission",value:"0777 (rwxrwxrwx)",color:"blue"},{step:"Umask applied",value:"0022 (----w--w-)",color:"red"},{step:"Final permission",value:"0755 (rwxr-xr-x)",color:"green"}],realWorld:"When Debangshu creates a file in Ichapur, the system protects it by default."},shared:{title:"Shared Team Directory (umask 0002)",description:"College lab environment for group collaboration",umask:"0002",fileProcess:[{step:"Default file permission",value:"0666 (rw-rw-rw-)",color:"blue"},{step:"Umask applied",value:"0002 (-------w-)",color:"red"},{step:"Final permission",value:"0664 (rw-rw-r--)",color:"green"}],dirProcess:[{step:"Default directory permission",value:"0777 (rwxrwxrwx)",color:"blue"},{step:"Umask applied",value:"0002 (-------w-)",color:"red"},{step:"Final permission",value:"0775 (rwxrwxr-x)",color:"green"}],realWorld:"Abhronila and Tuhina can both edit files in their shared project directory."},secure:{title:"Secure Server (umask 0077)",description:"Production server with maximum security",umask:"0077",fileProcess:[{step:"Default file permission",value:"0666 (rw-rw-rw-)",color:"blue"},{step:"Umask applied",value:"0077 (----rwxrwx)",color:"red"},{step:"Final permission",value:"0600 (rw-------)",color:"green"}],dirProcess:[{step:"Default directory permission",value:"0777 (rwxrwxrwx)",color:"blue"},{step:"Umask applied",value:"0077 (----rwxrwx)",color:"red"},{step:"Final permission",value:"0700 (rwx------)",color:"green"}],realWorld:"Swadeep's confidential database files in Barrackpore server are accessible only to him."},permissive:{title:"Test Environment (umask 0000)",description:"Development/testing where everyone needs access",umask:"0000",fileProcess:[{step:"Default file permission",value:"0666 (rw-rw-rw-)",color:"blue"},{step:"Umask applied",value:"0000 (no bits masked)",color:"red"},{step:"Final permission",value:"0666 (rw-rw-rw-)",color:"green"}],dirProcess:[{step:"Default directory permission",value:"0777 (rwxrwxrwx)",color:"blue"},{step:"Umask applied",value:"0000 (no bits masked)",color:"red"},{step:"Final permission",value:"0777 (rwxrwxrwx)",color:"green"}],realWorld:"Entire team at Naihati testing lab can run and modify all test scripts."}})[this.state.selectedExample];renderPermissionVisualization=()=>{const s=this.getPermissionExamples(),o=this.state.permissionType==="file"?s.fileProcess:s.dirProcess,n=this.state.permissionType==="file"?"File":"Directory";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:o.map((t,a)=>e.jsxs("div",{className:r("p-4 rounded-lg transition-all duration-300 hover:scale-[1.02]",t.color==="blue"?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500":t.color==="red"?"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500":"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500"),style:{animationDelay:`${.3+a*.1}s`,animationFillMode:"both"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-gray-700 text-white text-center text-sm mr-3",children:a+1}),e.jsxs("span",{className:"font-semibold",children:[t.step,":"]})]}),e.jsx("code",{className:"font-mono bg-gray-800 text-white px-3 py-1 rounded",children:t.value})]}),t.color==="blue"&&e.jsx("div",{className:"mt-3 flex items-center justify-center",children:e.jsxs("svg",{width:"400",height:"60",viewBox:"0 0 400 60",children:[e.jsx("rect",{x:"0",y:"10",width:"400",height:"40",rx:"8",fill:"#3B82F6",opacity:"0.8"}),e.jsxs("text",{x:"200",y:"38",textAnchor:"middle",fill:"white",fontWeight:"bold",children:[n," Default Permission"]}),e.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"2s",repeatCount:"indefinite"})]})}),t.color==="red"&&e.jsx("div",{className:"mt-3 flex items-center justify-center",children:e.jsxs("svg",{width:"400",height:"60",viewBox:"0 0 400 60",children:[e.jsx("rect",{x:"0",y:"10",width:"400",height:"40",rx:"8",fill:"#EF4444",opacity:"0.8"}),e.jsx("text",{x:"200",y:"38",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"Umask Filter Applied"}),e.jsx("animate",{attributeName:"x",values:"0;5;0",dur:"1.5s",repeatCount:"indefinite"})]})}),t.color==="green"&&e.jsx("div",{className:"mt-3 flex items-center justify-center",children:e.jsxs("svg",{width:"400",height:"60",viewBox:"0 0 400 60",children:[e.jsx("rect",{x:"0",y:"10",width:"400",height:"40",rx:"8",fill:"#10B981",opacity:"0.8"}),e.jsxs("text",{x:"200",y:"38",textAnchor:"middle",fill:"white",fontWeight:"bold",children:["Final ",n," Permission"]}),e.jsx("animate",{attributeName:"width",values:"400;410;400",dur:"2s",repeatCount:"indefinite"})]})})]},a))}),e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg border-l-4 border-purple-500",children:[e.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-400 mb-1",children:"üåç Real-World Scenario:"}),e.jsx("p",{children:s.realWorld})]})]})};render(){const{isDarkMode:s,showAnimation:o,selectedExample:n,permissionType:t}=this.state,a=this.getPermissionExamples(),c=r("min-h-screen transition-colors duration-300",s?"bg-gray-900 text-gray-100":"bg-gradient-to-br from-green-50 to-blue-50 text-gray-900"),l=r("rounded-xl p-6 transition-all duration-300",s?"bg-gray-800 border border-gray-700 hover:border-green-500 hover:shadow-[0_0_30px_rgba(34,197,94,0.1)]":"bg-white border border-gray-200 hover:border-green-400 hover:shadow-[0_0_30px_rgba(34,197,94,0.15)]"),m=r("rounded-lg p-5 transition-all duration-300",s?"bg-gradient-to-r from-amber-900/30 to-yellow-900/30 border-l-4 border-yellow-500 hover:shadow-[0_0_25px_rgba(234,179,8,0.15)]":"bg-gradient-to-r from-amber-50 to-yellow-50 border-l-4 border-yellow-500 hover:shadow-[0_0_25px_rgba(234,179,8,0.2)]"),i=r("transition-all duration-700 motion-safe:animate-[fadeInUp_0.8s_ease-out]",o?"opacity-100 translate-y-0":"opacity-0 translate-y-8");return e.jsxs("div",{className:c,children:[e.jsx("style",{children:`
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes permissionFlow {
        0% { stroke-dashoffset: 100; }
        100% { stroke-dashoffset: 0; }
      }
    `}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-6xl",children:[e.jsxs("header",{className:r(i,"mb-12 text-center"),children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Topic 2: Files vs Directories Permission Logic"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Understanding why files and directories get different default permissions in Unix/Linux systems."})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.1s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"inline-block p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-2",children:"üîë"}),"The Core Difference"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-600 dark:text-blue-400",children:"Why Different Defaults?"}),e.jsx("p",{className:"mb-3",children:"Unix/Linux systems use different base permissions for files and directories because they serve fundamentally different purposes:"}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-2",children:"üìÅ Directories"}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Default:"})," 0777 (rwxrwxrwx)"]}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"Need execute (x) to access contents"}),e.jsx("li",{children:"Need write (w) to create/delete files"}),e.jsx("li",{children:"Need read (r) to list contents"}),e.jsx("li",{children:"Maximum flexibility by default"})]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-2",children:"üìÑ Files"}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Default:"})," 0666 (rw-rw-rw-)"]}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"No execute by default (safety first)"}),e.jsx("li",{children:"Read/write for all (flexible)"}),e.jsx("li",{children:"Execute added manually (chmod +x)"}),e.jsx("li",{children:"Security by default"})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-purple-600 dark:text-purple-400",children:"Visual Comparison"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("svg",{width:"500",height:"200",viewBox:"0 0 500 200",className:"w-full max-w-lg",children:[e.jsxs("g",{children:[e.jsx("rect",{x:"50",y:"30",width:"120",height:"50",rx:"8",fill:"#3B82F6"}),e.jsx("text",{x:"110",y:"60",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"0777"}),e.jsx("text",{x:"110",y:"85",textAnchor:"middle",fill:"white",fontSize:"12",children:"Directory Default"}),e.jsx("text",{x:"195",y:"55",textAnchor:"middle",fill:"gray",fontSize:"20",children:"-"}),e.jsx("rect",{x:"220",y:"30",width:"120",height:"50",rx:"8",fill:"#EF4444"}),e.jsx("text",{x:"280",y:"55",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"umask"}),e.jsx("text",{x:"365",y:"55",textAnchor:"middle",fill:"gray",fontSize:"20",children:"="}),e.jsx("rect",{x:"390",y:"30",width:"120",height:"50",rx:"8",fill:"#10B981",children:e.jsx("animate",{attributeName:"fill",values:"#10B981;#059669;#10B981",dur:"2s",repeatCount:"indefinite"})}),e.jsx("text",{x:"450",y:"60",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"0755"}),e.jsx("text",{x:"450",y:"85",textAnchor:"middle",fill:"white",fontSize:"12",children:"Directory Final"})]}),e.jsxs("g",{children:[e.jsx("rect",{x:"50",y:"120",width:"120",height:"50",rx:"8",fill:"#8B5CF6"}),e.jsx("text",{x:"110",y:"150",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"0666"}),e.jsx("text",{x:"110",y:"175",textAnchor:"middle",fill:"white",fontSize:"12",children:"File Default"}),e.jsx("text",{x:"195",y:"145",textAnchor:"middle",fill:"gray",fontSize:"20",children:"-"}),e.jsx("rect",{x:"220",y:"120",width:"120",height:"50",rx:"8",fill:"#EF4444"}),e.jsx("text",{x:"280",y:"145",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"umask"}),e.jsx("text",{x:"365",y:"145",textAnchor:"middle",fill:"gray",fontSize:"20",children:"="}),e.jsx("rect",{x:"390",y:"120",width:"120",height:"50",rx:"8",fill:"#F59E0B",children:e.jsx("animate",{attributeName:"fill",values:"#F59E0B;#D97706;#F59E0B",dur:"2s",repeatCount:"indefinite"})}),e.jsx("text",{x:"450",y:"150",textAnchor:"middle",fill:"white",fontWeight:"bold",children:"0644"}),e.jsx("text",{x:"450",y:"175",textAnchor:"middle",fill:"white",fontSize:"12",children:"File Final"})]}),e.jsx("line",{x1:"280",y1:"80",x2:"280",y2:"120",stroke:"#6B7280",strokeWidth:"2",strokeDasharray:"5,5",children:e.jsx("animate",{attributeName:"stroke-dashoffset",values:"100;0",dur:"3s",repeatCount:"indefinite"})}),e.jsx("text",{x:"280",y:"105",textAnchor:"middle",fill:"#6B7280",fontSize:"12",children:"Same umask"})]})}),e.jsx("p",{className:"text-center mt-4 text-gray-600 dark:text-gray-400",children:"Same umask (0022) applied differently due to different defaults"})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.2s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-red-700 dark:text-red-400",children:[e.jsx("span",{className:"inline-block p-2 bg-red-100 dark:red-900/30 rounded-lg mr-2",children:"üéØ"}),"Interactive Examples"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"Select Scenario:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["basic","shared","secure","permissive"].map(d=>e.jsxs("button",{onClick:()=>this.handleExampleChange(d),className:r("p-3 rounded-lg transition-all duration-300",n===d?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[d==="basic"&&"Basic",d==="shared"&&"Shared",d==="secure"&&"Secure",d==="permissive"&&"Permissive"]},d))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2 font-semibold",children:"View Permissions for:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:()=>this.handlePermissionTypeChange("file"),className:r("px-4 py-2 rounded-lg transition-all duration-300 flex items-center",t==="file"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[e.jsx("span",{className:"mr-2",children:"üìÑ"})," Files"]}),e.jsxs("button",{onClick:()=>this.handlePermissionTypeChange("dir"),className:r("px-4 py-2 rounded-lg transition-all duration-300 flex items-center",t==="dir"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[e.jsx("span",{className:"mr-2",children:"üìÅ"})," Directories"]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:a.title}),e.jsx("p",{className:"text-sm mb-3",children:a.description}),e.jsx("div",{className:"p-3 bg-gray-200 dark:bg-gray-900 rounded",children:e.jsxs("code",{className:"font-mono",children:["umask: ",a.umask]})})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.3s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-purple-700 dark:text-purple-400",children:[e.jsx("span",{className:"inline-block p-2 bg-purple-100 dark:purple-900/30 rounded-lg mr-2",children:"‚öôÔ∏è"}),"Permission Creation Process"]}),this.renderPermissionVisualization()]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.4s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-blue-700 dark:text-blue-400",children:[e.jsx("span",{className:"inline-block p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-2",children:"üåç"}),"Real-World Scenarios"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-bold text-lg mb-2 text-green-700 dark:text-green-400",children:"School Computer Lab (Shyamnagar)"}),e.jsx("p",{className:"mb-3",children:"Students like Abhronila create project directories. With umask 0022:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"Directory: 0755 - Others can view but not modify"}),e.jsx("li",{children:"Script file: 0644 - Others can read but not execute"}),e.jsxs("li",{children:["Executable: Need explicit ",e.jsx("code",{children:"chmod +x"})]})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Protects student work while allowing sharing"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-bold text-lg mb-2 text-purple-700 dark:text-purple-400",children:"Web Server (Barrackpore Hosting)"}),e.jsx("p",{className:"mb-3",children:"Swadeep deploys a PHP website with umask 0027:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"Uploads directory: 0750 - Group can access, public cannot"}),e.jsx("li",{children:"Config files: 0640 - Sensitive data protected"}),e.jsx("li",{children:"Log files: 0644 - Apache can write logs"})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:"Security-first approach for production"})]})]})]}),e.jsx("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.5s"},children:e.jsx("div",{className:m,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-amber-500 flex items-center justify-center text-white font-bold",children:"SH"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-amber-800 dark:text-yellow-300",children:"Teacher's Note"}),e.jsx("span",{className:"text-sm px-3 py-1 bg-amber-200 dark:bg-amber-900 rounded-full font-semibold",children:"Sukanta Hui"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Experience:"})," 27 years in Programming, RDBMS, OS, Web Development"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Email: sukantahui@codernaccotax.co.in | Mobile: 7003756860"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üéØ Critical Understanding:"}),e.jsx("p",{children:'The execute bit (x) has different meanings for files and directories. For files, it means "can run as program." For directories, it means "can enter/search." This is why directories need x by default.'})]}),e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üí° Classroom Tip:"}),e.jsx("p",{children:`When teaching Debangshu's class in Ichapur, I use this analogy: "A directory is like a building lobby (need x to enter), a file is like a document inside (no x needed to read)."`})]}),e.jsxs("div",{className:"p-3 bg-white/50 dark:bg-gray-900/30 rounded",children:[e.jsx("p",{className:"font-semibold text-amber-700 dark:text-yellow-400 mb-1",children:"üîß Professional Insight:"}),e.jsx("p",{children:"In web hosting (like Barrackpore servers), we often set umask 0027 for security, but configure the web server to run in a group that has access. This balances security and functionality."})]})]})]})]})})}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.6s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-red-700 dark:text-red-400",children:[e.jsx("span",{className:"inline-block p-2 bg-red-100 dark:red-900/30 rounded-lg mr-2",children:"üö´"}),"Common Mistakes"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"1. Assuming files get execute bit"}),e.jsxs("p",{className:"text-sm",children:["Beginners often wonder why their scripts aren't executable. Files NEVER get execute bit by default, regardless of umask. You must use ",e.jsx("code",{children:"chmod +x"}),"."]})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"2. Forgetting directory execute"}),e.jsx("p",{className:"text-sm",children:"When umask removes execute from directories (e.g., umask 0111), users cannot cd into them or list contents, even with read permission."})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"3. Copy-pasting permissions"}),e.jsx("p",{className:"text-sm",children:"Copying files between systems with different umask settings leads to unexpected permission changes."})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"4. Web server permission errors"}),e.jsx("p",{className:"text-sm",children:"Apache/Nginx failures often due to incorrect directory permissions. Need both read AND execute on directories."})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.7s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"inline-block p-2 bg-green-100 dark:green-900/30 rounded-lg mr-2",children:"‚úÖ"}),"Best Practices"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"1. Understand the defaults"}),e.jsx("p",{className:"text-sm",children:"Always remember: files start at 666, directories at 777. This knowledge helps debug permission issues."})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"2. Test with both file types"}),e.jsx("p",{className:"text-sm",children:"When setting umask, create both a file and directory to verify permissions work as expected for both."})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"3. Use appropriate umask per environment"}),e.jsxs("p",{className:"text-sm",children:["‚Ä¢ Development: 0002 (collaborative)",e.jsx("br",{}),"‚Ä¢ Production: 0022 or 0027 (secure)",e.jsx("br",{}),"‚Ä¢ Web root: 0022 (readable by web server)"]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"4. Check before deploying"}),e.jsx("p",{className:"text-sm",children:"Always verify permissions on critical directories and files before deploying to production."})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.8s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-indigo-700 dark:text-indigo-400",children:[e.jsx("span",{className:"inline-block p-2 bg-indigo-100 dark:indigo-900/30 rounded-lg mr-2",children:"üí°"}),"Thinking Hints"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"ü§î Think about..."}),e.jsx("p",{children:"Why can't you list files in a directory with permissions 0644 (rw-r--r--)? What's missing?"})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"üîç Observe carefully..."}),e.jsx("p",{children:"Create a file with touch and a directory with mkdir using same umask. Compare their permissions. What's different?"})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"üß™ Experiment with..."}),e.jsx("p",{children:"Set umask to 0111. Create files and directories. Notice which permission bits are affected and why."})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[e.jsx("p",{className:"font-semibold mb-1",children:"ü§Ø Consider this..."}),e.jsx("p",{children:"If files default to 666 (no execute), how do executable programs get created? Who adds the execute bit?"})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"0.9s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4 text-teal-700 dark:text-teal-400",children:[e.jsx("span",{className:"inline-block p-2 bg-teal-100 dark:teal-900/30 rounded-lg mr-2",children:"üî¨"}),"Technical Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Kernel-Level Implementation"}),e.jsx("p",{className:"text-sm mb-2",children:"When a process creates a file/directory, the kernel:"}),e.jsxs("ol",{className:"list-decimal pl-5 text-sm space-y-1",children:[e.jsx("li",{children:"Gets default mode (0666 or 0777)"}),e.jsx("li",{children:"Applies process umask (bitwise AND with complement)"}),e.jsx("li",{children:"Applies any filesystem-specific mode flags"}),e.jsx("li",{children:"Sets final permissions on inode"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Binary Calculation Example"}),e.jsx("p",{className:"text-sm",children:"File with umask 0022:"}),e.jsxs("code",{className:"block text-xs bg-gray-900 text-green-400 p-2 rounded mt-1",children:["0666 = 110 110 110 (binary)",e.jsx("br",{}),"~0022 = ~000 010 010 = 111 101 101 (complement)",e.jsx("br",{}),"AND = 110 100 100 = 644 (octal)"]})]}),e.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold mb-2",children:"System Call Details"}),e.jsxs("p",{className:"text-sm",children:["The ",e.jsx("code",{children:"open()"})," and ",e.jsx("code",{children:"mkdir()"})," system calls accept a mode parameter that gets masked with umask."]}),e.jsxs("code",{className:"block text-xs bg-gray-900 text-green-400 p-2 rounded mt-1",children:["int open(const char *pathname, int flags, mode_t mode);",e.jsx("br",{}),"// mode is ANDed with ~umask"]})]})]})]}),e.jsxs("section",{className:r(i,l,"mb-8"),style:{animationDelay:"1.0s"},children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-blue-700 dark:text-blue-400",children:[e.jsx("span",{className:"inline-block p-2 bg-blue-100 dark:blue-900/30 rounded-lg mr-2",children:"üìä"}),"Quick Reference: Common Scenarios"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:s?"bg-gray-800":"bg-gray-100",children:[e.jsx("th",{className:"p-3 text-left border",children:"Scenario"}),e.jsx("th",{className:"p-3 text-left border",children:"Typical umask"}),e.jsx("th",{className:"p-3 text-left border",children:"Directory Permission"}),e.jsx("th",{className:"p-3 text-left border",children:"File Permission"}),e.jsx("th",{className:"p-3 text-left border",children:"Use Case"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border",children:"Personal Desktop"}),e.jsx("td",{className:"p-3 border font-mono",children:"0022"}),e.jsx("td",{className:"p-3 border font-mono",children:"0755 (rwxr-xr-x)"}),e.jsx("td",{className:"p-3 border font-mono",children:"0644 (rw-r--r--)"}),e.jsx("td",{className:"p-3 border",children:"Single user, moderate security"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border",children:"College Lab"}),e.jsx("td",{className:"p-3 border font-mono",children:"0002"}),e.jsx("td",{className:"p-3 border font-mono",children:"0775 (rwxrwxr-x)"}),e.jsx("td",{className:"p-3 border font-mono",children:"0664 (rw-rw-r--)"}),e.jsx("td",{className:"p-3 border",children:"Group collaboration"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border",children:"Web Server"}),e.jsx("td",{className:"p-3 border font-mono",children:"0027"}),e.jsx("td",{className:"p-3 border font-mono",children:"0750 (rwxr-x---)"}),e.jsx("td",{className:"p-3 border font-mono",children:"0640 (rw-r-----)"}),e.jsx("td",{className:"p-3 border",children:"Production security"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border",children:"Secure System"}),e.jsx("td",{className:"p-3 border font-mono",children:"0077"}),e.jsx("td",{className:"p-3 border font-mono",children:"0700 (rwx------)"}),e.jsx("td",{className:"p-3 border font-mono",children:"0600 (rw-------)"}),e.jsx("td",{className:"p-3 border",children:"Confidential data"})]}),e.jsxs("tr",{className:s?"hover:bg-gray-800":"hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 border",children:"Public Share"}),e.jsx("td",{className:"p-3 border font-mono",children:"0000"}),e.jsx("td",{className:"p-3 border font-mono",children:"0777 (rwxrwxrwx)"}),e.jsx("td",{className:"p-3 border font-mono",children:"0666 (rw-rw-rw-)"}),e.jsx("td",{className:"p-3 border",children:"Public repositories"})]})]})]})})]}),e.jsxs("footer",{className:r(i,"mt-12 pt-8 border-t border-gray-300 dark:border-gray-700 text-center"),children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Topic 2: Files vs Directories - Understanding Permission Creation Logic"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Next Topic: Checking effective permissions using ls -l and stat"})]})]})]})}}export{u as default};

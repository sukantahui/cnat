import{j as e}from"./index-BFnLuail.js";import{c as t}from"./clsx-B-dksMZM.js";import{E as s}from"./EditableCCodeBlock-BIH-nUZ3.js";const i=`#include <stdio.h>\r
\r
void countCalls() {\r
    static int counter = 0;   // initialised only once\r
    counter++;\r
    printf("This function has been called %d time(s)\\n", counter);\r
}\r
\r
int main() {\r
    countCalls();\r
    countCalls();\r
    countCalls();\r
    return 0;\r
}`,n=`#include <stdio.h>\r
\r
int getNextId() {\r
    static int id = 1000;   // start from 1000\r
    return id++;             // return current, then increment\r
}\r
\r
int main() {\r
    printf("ID: %d\\n", getNextId());\r
    printf("ID: %d\\n", getNextId());\r
    printf("ID: %d\\n", getNextId());\r
    return 0;\r
}`,r=`#include <stdio.h>\r
\r
void demonstrate() {\r
    int auto_var = 0;        // automatic: re‚Äëcreated each call\r
    static int static_var = 0; // static: persists\r
\r
    auto_var++;\r
    static_var++;\r
\r
    printf("auto = %d, static = %d\\n", auto_var, static_var);\r
}\r
\r
int main() {\r
    demonstrate();\r
    demonstrate();\r
    demonstrate();\r
    return 0;\r
}`,l=`
  @keyframes fadeSlideUp {
    0% { opacity: 0; transform: translateY(12px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  @media (prefers-color-scheme: light) {
    .topic19-root {
      background-color: #ffffff;
      color: #111827;
    }
    .topic19-card {
      background-color: #f9fafb;
      border-color: #e5e7eb;
    }
  }
  @media (prefers-color-scheme: dark) {
    .topic19-root {
      background-color: #111827;
      color: #f3f4f6;
    }
    .topic19-card {
      background-color: #1f2937;
      border-color: #374151;
    }
  }
`,x=()=>{const a=new Date().getFullYear()-1998;return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:l}),e.jsx("div",{className:t("topic19-root","min-h-screen w-full px-4 py-8 md:px-8 lg:px-16","transition-colors duration-300","font-sans leading-relaxed"),children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-12",children:[e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none"),children:[e.jsx("h1",{className:"mb-4 text-4xl font-extrabold tracking-tight text-indigo-400 dark:text-indigo-400",children:"üîí Static Variables Inside Functions (Intro)"}),e.jsxs("p",{className:"text-xl text-gray-300 dark:text-gray-300",children:["Local variables die when a function returns. Global variables live forever but are visible everywhere. ",e.jsx("strong",{children:"Static local variables"}),"offer a middle ground: they live forever, but are only visible inside their function."]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.1s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå What Is a Static Local Variable?"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"topic19-card rounded-xl border p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[e.jsxs("p",{className:"mb-3",children:["Declare a variable inside a function with the keyword"," ",e.jsx("code",{children:"static"}),":"]}),e.jsxs("pre",{className:"mb-3 rounded bg-gray-800 p-2 text-sm",children:[e.jsx("span",{className:"text-purple-400",children:"void"})," ",e.jsx("span",{className:"text-amber-300",children:"counter"}),"() ","{",e.jsx("br",{}),"¬†¬†",e.jsx("span",{className:"text-purple-400",children:"static int"})," ",e.jsx("span",{className:"text-emerald-300",children:"count"})," = 0;",e.jsx("br",{}),"¬†¬†count++;",e.jsx("br",{}),"¬†¬†printf(",e.jsx("span",{className:"text-green-300",children:'"%d\\n"'}),", count);",e.jsx("br",{}),"}"]}),e.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Scope:"})," ","Like a local ‚Äì only accessible inside the function."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Lifetime:"})," ","Like a global ‚Äì exists for the entire program."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold text-indigo-300",children:"Initialisation:"})," ","Only once, before ",e.jsx("code",{children:"main()"})," starts. If not initialised, it is zero‚Äëinitialised (like globals)."]})]}),e.jsxs("p",{className:"mt-3 text-sm italic text-gray-400",children:["üîç ",e.jsx("strong",{children:"Observe carefully:"})," The static variable keeps its value between function calls ‚Äì it is ",e.jsx("em",{children:"not"})," re‚Äëcreated each time."]})]}),e.jsx("div",{className:t("topic19-card flex items-center justify-center rounded-xl border p-4","transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"),children:e.jsxs("svg",{width:"300",height:"200",viewBox:"0 0 300 200",className:"w-full max-w-xs",children:[e.jsx("rect",{x:"40",y:"20",width:"220",height:"40",rx:"6",fill:"#4f46e5",fillOpacity:"0.2",stroke:"#818cf8",strokeWidth:"2",strokeDasharray:"5 3",children:e.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;20;0",dur:"4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"45",fill:"#c7d2fe",fontSize:"12",textAnchor:"middle",children:"Data Segment (static)"}),e.jsx("rect",{x:"130",y:"25",width:"40",height:"25",rx:"4",fill:"#4f46e5",fillOpacity:"0.4"}),e.jsx("text",{x:"150",y:"42",fill:"#e0e7ff",fontSize:"10",textAnchor:"middle",children:"count = 3"}),e.jsx("rect",{x:"50",y:"90",width:"200",height:"30",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"90;88;90",dur:"1s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"110",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"call 1 frame"}),e.jsx("rect",{x:"50",y:"130",width:"200",height:"30",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"130;128;130",dur:"1.2s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"150",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"call 2 frame"}),e.jsx("rect",{x:"50",y:"170",width:"200",height:"30",rx:"4",fill:"#1f2937",stroke:"#6b7280",strokeWidth:"1",children:e.jsx("animate",{attributeName:"y",values:"170;168;170",dur:"1.4s",repeatCount:"indefinite"})}),e.jsx("text",{x:"150",y:"190",fill:"#d1d5db",fontSize:"8",textAnchor:"middle",children:"call 3 frame"}),e.jsx("line",{x1:"150",y1:"90",x2:"150",y2:"60",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2 2",markerEnd:"url(#arrowHead)"}),e.jsx("line",{x1:"150",y1:"130",x2:"150",y2:"60",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2 2",markerEnd:"url(#arrowHead)"}),e.jsx("line",{x1:"150",y1:"170",x2:"150",y2:"60",stroke:"#f59e0b",strokeWidth:"1.5",strokeDasharray:"2 2",markerEnd:"url(#arrowHead)"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowHead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:e.jsx("path",{d:"M0,0 L10,5 L0,10 Z",fill:"#e0e7ff"})})})]})})]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.2s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üìå Why Use Static Locals?"}),e.jsxs("div",{className:"topic19-card rounded-xl border p-6",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Purpose:"})," To preserve state between function calls without exposing that state to the rest of the program."]}),e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Common use cases:"})}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5",children:[e.jsx("li",{children:"Counters (how many times a function was called)."}),e.jsx("li",{children:"Unique ID generators."}),e.jsx("li",{children:"Caching computed values (memoization)."}),e.jsx("li",{children:"One‚Äëtime initialisation (e.g., opening a log file)."})]}),e.jsxs("p",{className:"mt-4 text-sm italic text-gray-400",children:["üßë‚Äçüè´ At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", we say: ‚ÄúStatic locals are the function's private, long‚Äëterm memory.‚Äù"]})]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.3s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üíª Examples in C"}),e.jsx(s,{title:"Example 1: Static counter",initialCode:i}),e.jsx(s,{title:"Example 2: Unique ID generator",initialCode:n}),e.jsx(s,{title:"Example 3: Static vs automatic local",initialCode:r}),e.jsxs("div",{className:"mt-2 rounded-lg bg-indigo-900/30 p-4 italic",children:[e.jsx("strong",{children:"üîç Observe carefully:"})," In Example¬†3, the automatic local resets each call; the static local remembers."]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.4s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-indigo-300",children:"üè´ Static Locals at Barrackpore & Naihati CNAT"}),e.jsxs("div",{className:"topic19-card rounded-xl border p-6 transition-all duration-300 hover:shadow-lg",children:[e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Barrackpore CNAT"}),", ",e.jsx("strong",{children:"Ritaja"})," built a function to assign roll numbers to new students. She used a static local counter ‚Äì each call got the next number, and the counter was safely hidden from other functions."]}),e.jsxs("p",{className:"mb-4",children:["At ",e.jsx("strong",{children:"Naihati CNAT"}),", ",e.jsx("strong",{children:"Debangshu"})," used a static variable to cache the result of an expensive configuration load. The first call loaded it, subsequent calls just used the cached value."]}),e.jsxs("p",{className:"text-sm italic text-gray-400",children:["üßë‚Äçüéì Students like ",e.jsx("strong",{children:"Swadeep, Tuhina, Abhronila"})," now appreciate this ‚Äúprivate memory‚Äù feature."]})]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.5s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-amber-400",children:"‚ö†Ô∏è Common Pitfalls ‚Äì Beginners Edition"}),e.jsxs("div",{className:"topic19-card rounded-xl border border-amber-700/50 bg-amber-900/20 p-6",children:[e.jsxs("ul",{className:"list-disc space-y-3 pl-5",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Thinking static locals have global scope:"})," ","No ‚Äì they are still only visible inside the function. Trying to access them from another function results in a compiler error."]}),e.jsxs("li",{children:[e.jsxs("span",{className:"font-bold text-amber-300",children:["Forgetting ",e.jsx("code",{children:"static"}),":"]})," ","Without ",e.jsx("code",{children:"static"}),", you get an automatic local that resets each call ‚Äì often not what you intended."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Misunderstanding initialisation:"})," ","The initialiser is executed only once. Changing the value later does not re‚Äëinitialise it."]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold text-amber-300",children:"Using static locals in recursive functions:"})," ","Because they persist across all calls, recursion may behave unexpectedly. (We'll cover recursion later.)"]})]}),e.jsxs("p",{className:"mt-4 text-sm",children:["üîé ",e.jsx("strong",{children:"Think about‚Ä¶"})," If you call a function with a static local from multiple threads, could there be a problem? (Yes ‚Äì static locals are not thread‚Äësafe without synchronisation.)"]})]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.6s]","space-y-6"),children:[e.jsx("h2",{className:"text-2xl font-semibold text-emerald-400",children:"üßº Best Practices ‚Äì Professional Habits"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("div",{className:"topic19-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìè Use static locals sparingly"}),e.jsx("p",{className:"text-sm",children:"They introduce hidden state, which can make functions harder to understand and test. Prefer passing state as a parameter when possible."})]}),e.jsxs("div",{className:"topic19-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìõ Name them clearly"}),e.jsxs("p",{className:"text-sm",children:["Use names that hint at persistence, e.g., ",e.jsx("code",{children:"call_count"}),",",e.jsx("code",{children:"next_id"}),"."]})]}),e.jsxs("div",{className:"topic19-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üîí Consider thread safety"}),e.jsx("p",{className:"text-sm",children:"In multi‚Äëthreaded programs, static locals are shared data and need protection (mutexes, etc.)."})]}),e.jsxs("div",{className:"topic19-card rounded-xl border p-5",children:[e.jsx("h3",{className:"mb-2 font-bold text-emerald-300",children:"üìù Document the persistent state"}),e.jsx("p",{className:"text-sm",children:"A comment explaining that the function uses a static local and what it tracks helps maintainers."})]})]})]}),e.jsxs("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.7s]","rounded-xl border border-indigo-700 bg-indigo-900/20 p-6"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-indigo-300",children:"üìã Mini Checklist ‚Äì Topic 19"}),e.jsxs("ul",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can declare a static local variable."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I understand its scope (function‚Äëonly) and lifetime (program)."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I know it's initialised only once, at program start."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I can use it to build a simple counter."]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-indigo-400",children:"‚úÖ"})," I'm aware of thread‚Äësafety concerns."]})]})]}),e.jsx("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.8s]","topic19-card rounded-xl border border-indigo-500/50 bg-indigo-950/30 p-6","transition-all duration-300 hover:scale-[1.01] hover:border-indigo-400 hover:shadow-2xl"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"text-4xl",children:"üßë‚Äçüè´"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"mb-2 text-2xl font-semibold text-indigo-300",children:"Teacher‚Äôs Note"}),e.jsx("p",{className:"mb-2 font-medium text-indigo-200",children:"Sukanta Hui ‚Äî Mentor, C Programming"}),e.jsxs("p",{className:"mb-2 text-sm",children:["üìß sukantahui@codernaccotax.co.in ¬†|¬† üì± 7003756860 ¬†|¬† üíª ",a," years (since 1998)"]}),e.jsxs("p",{className:"text-gray-300",children:["‚ÄúI tell my students at ",e.jsx("strong",{children:"Barrackpore CNAT"})," and"," ",e.jsx("strong",{children:"Naihati CNAT"}),": static locals are like a diary that only the function can read and write, but the diary never gets thrown away. They're perfect for counters, caches, and generators.",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block italic",children:"üí° Professional tip: When debugging, if a function behaves differently on the second call, suspect static locals first."})]})]})]})}),e.jsx("section",{className:t("motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-reduce:animate-none","[animation-delay:0.9s]","rounded-xl border border-gray-700 bg-gray-800/50 p-5 text-sm"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üí≠"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-indigo-300",children:"Hint ‚Äì try changing this:"})," ","In the static vs local example, remove the ",e.jsx("code",{children:"static"})," from",e.jsx("code",{children:"static_count"}),". Run it several times. What changes?",e.jsx("br",{}),e.jsx("span",{className:"mt-2 block text-gray-400",children:"(Without static, it becomes an automatic local and resets each call.)"})]})]})}),e.jsx("div",{className:"pt-6 text-center text-xs text-gray-500",children:"Topic 19 complete ‚Äì you've learned about static locals. Next: nested function calls and execution order."})]})})]})};export{x as default};

import{j as e}from"./index-BFnLuail.js";import{c as i}from"./clsx-B-dksMZM.js";import{E as t}from"./EditableCCodeBlock-BIH-nUZ3.js";const r=`// inline_function.c â€“ Simple example of an inline function\r
#include <stdio.h>\r
\r
// Definition of an inline function (compiler may expand at call site)\r
inline int max(int a, int b) {\r
    return (a > b) ? a : b;\r
}\r
\r
int main() {\r
    int x = 10, y = 20;\r
    int m = max(x, y);  // May be replaced with (x > y) ? x : y\r
    printf("Max: %d\\n", m);\r
    return 0;\r
}`,l=`// inline_vs_macro.c â€“ Macro vs inline function (safety)\r
#include <stdio.h>\r
\r
// Macro â€“ evaluates arguments twice (dangerous)\r
#define SQUARE_MACRO(x) ((x) * (x))\r
\r
// Inline function â€“ safe\r
inline int square_inline(int x) {\r
    return x * x;\r
}\r
\r
int main() {\r
    int a = 5;\r
    int b = 5;\r
\r
    int result_macro = SQUARE_MACRO(a++);  // a is incremented twice\r
    printf("Macro: a = %d, result = %d\\n", a, result_macro); // a=7, result=30\r
\r
    int result_inline = square_inline(b++); // b incremented once\r
    printf("Inline: b = %d, result = %d\\n", b, result_inline); // b=6, result=25\r
\r
    return 0;\r
}`,d=`// inline_header.h â€“ Header with static inline function\r
#ifndef INLINE_HEADER_H\r
#define INLINE_HEADER_H\r
\r
// static inline â€“ each translation unit gets its own copy (safe for headers)\r
static inline int add(int a, int b) {\r
    return a + b;\r
}\r
\r
#endif`,o=`// inline_usage.c â€“ Using the static inline header\r
#include <stdio.h>\r
#include "inline_header.h"\r
\r
int main() {\r
    int sum = add(15, 27);\r
    printf("15 + 27 = %d\\n", sum);\r
    return 0;\r
}`,u=()=>{const s=new Date().getFullYear()-1998;return e.jsxs("div",{className:"min-h-screen bg-white p-6 text-gray-900 transition-colors duration-300 dark:bg-gray-900 dark:text-gray-200",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-2 text-4xl font-extrabold tracking-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent dark:from-amber-400 dark:to-orange-400",children:"Inline Functions â€“ Concept and Tradeâ€‘offs"})}),e.jsx("p",{className:"mx-auto max-w-2xl text-lg text-gray-600 dark:text-gray-400",children:'A hint to the compiler: "replace this call with the function body". Speed vs. size â€“ and when it actually helps.'})]}),e.jsxs("section",{className:i("mb-12 rounded-xl bg-gray-50 p-6 shadow-md transition-all duration-300 hover:shadow-lg dark:bg-gray-800/50","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"What Are Inline Functions?"}),e.jsxs("p",{className:"leading-relaxed",children:["At Barrackpore CNAT, Ritaja noticed that a tiny function like"," ",e.jsx("code",{children:"int max(int a, int b){ return a > b ? a : b; }"})," was called thousands of times. Each call had overhead: pushing arguments, jumping, returning. She wondered: could we just paste the code where it's called? That's exactly what ",e.jsx("strong",{children:"inline functions"})," aim to do. The ",e.jsx("code",{children:"inline"})," keyword suggests to the compiler: insert the function's body at the call site instead of generating a call. It's a tradeâ€‘off: faster execution but larger code size. And it's only a hint â€“ the compiler may ignore it."]})]}),e.jsx("section",{className:"mb-12 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-3xl rounded-xl bg-gray-100 p-4 dark:bg-gray-800",children:[e.jsxs("svg",{viewBox:"0 0 500 200",className:"w-full",children:[e.jsx("text",{x:"30",y:"30",fill:"#374151",fontSize:"14",fontWeight:"bold",children:"Before"}),e.jsx("rect",{x:"30",y:"40",width:"120",height:"30",fill:"#3b82f6",rx:"4"}),e.jsx("text",{x:"50",y:"62",fill:"white",fontSize:"10",children:"x = max(a, b);"}),e.jsx("line",{x1:"90",y1:"70",x2:"90",y2:"100",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),e.jsx("rect",{x:"30",y:"110",width:"120",height:"40",fill:"#f59e0b",rx:"4"}),e.jsx("text",{x:"40",y:"135",fill:"white",fontSize:"10",children:"max function body"}),e.jsx("line",{x1:"90",y1:"150",x2:"90",y2:"170",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),e.jsx("text",{x:"30",y:"190",fill:"black",fontSize:"10",children:"call overhead"}),e.jsx("line",{x1:"200",y1:"100",x2:"270",y2:"100",stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"}),e.jsx("text",{x:"220",y:"90",fill:"#6b7280",fontSize:"12",children:"inline"}),e.jsx("text",{x:"320",y:"30",fill:"#374151",fontSize:"14",fontWeight:"bold",children:"After"}),e.jsx("rect",{x:"320",y:"40",width:"150",height:"100",fill:"#059669",rx:"4"}),e.jsx("text",{x:"330",y:"70",fill:"white",fontSize:"10",children:"x = a > b ? a : b;"}),e.jsx("text",{x:"330",y:"100",fill:"white",fontSize:"10",children:"(no call)"}),e.jsx("text",{x:"330",y:"130",fill:"white",fontSize:"10",children:"body inserted directly"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 5, 0 10",fill:"#6b7280"})})})]}),e.jsx("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400",children:"Inline replaces the call with the function body, eliminating call overhead."})]})}),e.jsx("div",{className:"mb-12 grid gap-6 md:grid-cols-1 lg:grid-cols-2",children:[{title:"Performance",desc:"Eliminates function call overhead (push, pop, jump). Good for tiny, frequently used functions.",icon:"âš¡"},{title:"Code Bloat",desc:"If the function is large or called many times, inlining can significantly increase binary size.",icon:"ðŸ“ˆ"},{title:"Compiler Hint",desc:"`inline` is a suggestion, not a command. The compiler decides based on optimization settings.",icon:"ðŸ’¡"},{title:"Static Inline",desc:"Declaring a function `static inline` in a header gives each file its own copy â€“ safe but may increase size.",icon:"ðŸ”’"},{title:"Inline vs Macro",desc:"Unlike macros, inline functions respect scope and type checking, and evaluate arguments once.",icon:"ðŸ”"},{title:"Linkage Issues",desc:"An inline function without `static` or `extern` may cause multiple definition errors if not handled carefully.",icon:"ðŸ”—"}].map((n,a)=>e.jsxs("div",{className:i("group rounded-xl border border-gray-200 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:border-amber-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800 dark:hover:border-amber-600","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]",`motion-safe:animation-delay-${(a+1)*100}ms`),style:{animationDelay:`${(a+1)*100}ms`},children:[e.jsx("div",{className:"mb-3 text-4xl",children:n.icon}),e.jsx("h3",{className:"mb-2 text-xl font-semibold",children:n.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.desc})]},a))}),e.jsxs("section",{className:"mb-12",children:[e.jsx("h2",{className:"mb-6 text-2xl font-semibold",children:"Inline Functions in Practice"}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-1",children:[e.jsxs("div",{className:i("rounded-xl border border-blue-200 bg-blue-50/50 p-5 transition-all duration-300 hover:shadow-md dark:border-blue-900 dark:bg-blue-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsxs("h3",{className:"mb-3 flex items-center text-xl font-semibold text-blue-700 dark:text-blue-400",children:[e.jsx("span",{className:"mr-2",children:"ðŸ”§"})," Inline Function"]}),e.jsx(t,{title:"inline_function.c â€“ Simple inline example",initialCode:r}),e.jsxs("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:["Debangshu defines an inline ",e.jsx("code",{children:"max()"}),". The compiler may expand it at the call site."]})]}),e.jsxs("div",{className:i("rounded-xl border border-green-200 bg-green-50/50 p-5 transition-all duration-300 hover:shadow-md dark:border-green-900 dark:bg-green-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-safe:animation-delay-200ms"),style:{animationDelay:"200ms"},children:[e.jsxs("h3",{className:"mb-3 flex items-center text-xl font-semibold text-green-700 dark:text-green-400",children:[e.jsx("span",{className:"mr-2",children:"âš–ï¸"})," Inline vs Macro"]}),e.jsx(t,{title:"inline_vs_macro.c â€“ Safer than macros",initialCode:l}),e.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:"Tuhina compares a macro and an inline function. The macro evaluates arguments twice, leading to wrong results. The inline function behaves correctly."})]})]}),e.jsx("div",{className:"mt-8 grid gap-8 lg:grid-cols-1",children:e.jsxs("div",{className:i("rounded-xl border border-purple-200 bg-purple-50/50 p-5 transition-all duration-300 hover:shadow-md dark:border-purple-900 dark:bg-purple-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsxs("h3",{className:"mb-3 flex items-center text-xl font-semibold text-purple-700 dark:text-purple-400",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“‚"})," Static Inline in Header"]}),e.jsx(t,{title:"inline_header.h â€“ Safe for multiple includes",initialCode:d}),e.jsx(t,{title:"inline_usage.c â€“ Using the inline header",initialCode:o}),e.jsxs("p",{className:"mt-3 text-gray-600 dark:text-gray-400",children:["Swadeep uses ",e.jsx("code",{children:"static inline"})," in a header. Each .c file gets its own copy â€“ no linker errors, but code size increases."]})]})})]}),e.jsxs("section",{className:i("mb-12 rounded-xl bg-yellow-50/70 p-6 dark:bg-yellow-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-yellow-800 dark:text-yellow-300",children:"âš ï¸ Common Pitfalls"}),e.jsxs("ul",{className:"list-inside list-disc space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Assuming inline always happens:"})," The compiler may ignore `inline`, especially without optimizations enabled."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Inline in header without static:"})," An inline function defined in a header (without `static`) may cause multiple definition errors if the header is included in multiple .c files."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Code bloat:"})," Inlining large functions or inlining in many places can increase binary size, potentially hurting performance (cache misses)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Overusing inline:"})," Modern compilers are good at deciding what to inline. Let the compiler do its job unless you have measured a bottleneck."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recursive inline:"})," A recursive function cannot be fully inlined; the compiler will ignore the hint."]})]})]}),e.jsxs("section",{className:"mb-12 grid gap-6 md:grid-cols-1",children:[e.jsxs("div",{className:i("rounded-xl bg-blue-50/50 p-5 dark:bg-blue-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h3",{className:"mb-3 text-xl font-semibold text-blue-700 dark:text-blue-300",children:"ðŸ“‹ Do's"}),e.jsxs("ul",{className:"list-inside list-disc space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Use `static inline` for small functions defined in headers."}),e.jsx("li",{children:"Use inline only for very small, performanceâ€‘critical functions."}),e.jsx("li",{children:"Measure performance before and after inlining."}),e.jsx("li",{children:"Prefer inline functions over macros for type safety."}),e.jsx("li",{children:"Enable compiler optimizations (`-O2`, `-O3`) to let the compiler inline wisely."})]})]}),e.jsxs("div",{className:i("rounded-xl bg-purple-50/50 p-5 dark:bg-purple-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","motion-safe:animation-delay-200ms"),style:{animationDelay:"200ms"},children:[e.jsx("h3",{className:"mb-3 text-xl font-semibold text-purple-700 dark:text-purple-300",children:"ðŸš« Don'ts"}),e.jsxs("ul",{className:"list-inside list-disc space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Inline large functions (over 10â€“20 lines)."}),e.jsx("li",{children:"Use `inline` without `static` in headers (risk of multiple definitions)."}),e.jsx("li",{children:"Assume `inline` will make your code faster â€“ measure first."}),e.jsx("li",{children:"Use inline for I/O functions or system calls (they are already slow)."})]})]})]}),e.jsxs("section",{className:i("mb-12 rounded-xl border border-dashed border-indigo-300 bg-indigo-50/30 p-6 dark:border-indigo-700 dark:bg-indigo-900/10","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-3 text-2xl font-semibold text-indigo-800 dark:text-indigo-300",children:"ðŸ’¡ Hint â€“ Think Like a Pro"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium",children:"Observe carefully:"})," In the macro vs inline example, ",e.jsx("code",{children:"SQUARE(x++)"})," increments ",e.jsx("code",{children:"x"})," twice because the macro expands to ",e.jsx("code",{children:"x++ * x++"}),". The inline function evaluates the argument once, giving the expected result. This shows why inline functions are safer. ",e.jsx("br",{}),e.jsxs("span",{className:"mt-2 block",children:[e.jsx("strong",{children:"Try changing this:"})," Compile the inline example with and without ",e.jsx("code",{children:"-O2"}),". Look at the generated assembly (use",e.jsx("code",{children:"gcc -S"}),") to see if the call was actually inlined."]})]})]}),e.jsxs("section",{className:i("mb-12 rounded-xl bg-emerald-50/50 p-6 dark:bg-emerald-900/20","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]"),children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold text-emerald-800 dark:text-emerald-300",children:"ðŸ§  Tips & Tricks (Professional Edge)"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsxs("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:["ðŸ” Check with ",e.jsx("code",{children:"-Winline"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["GCC's ",e.jsx("code",{children:"-Winline"})," warns when a function marked `inline` cannot be inlined."]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsxs("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:["ðŸ“ Use ",e.jsx("code",{children:"__attribute__((always_inline))"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"In GCC/clang, you can force inlining with this attribute, but use sparingly."})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ§ª Profile before optimizing"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Use a profiler (gprof, perf) to find hot spots before marking functions inline."})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-medium text-emerald-700 dark:text-emerald-400",children:"ðŸ« Classroom Shortcut"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"At Naihati CNAT, we compare assembly output for a small function with and without inline to see the difference."})]})]})]}),e.jsxs("section",{className:i("mb-12 rounded-xl border-l-4 border-amber-500 bg-amber-50/80 p-6 dark:bg-amber-900/30","motion-safe:animate-[fadeSlideUp_0.6s_ease-out]","transition-all duration-300 hover:border-l-8 hover:shadow-lg"),children:[e.jsx("h2",{className:"mb-3 text-2xl font-semibold text-amber-800 dark:text-amber-300",children:"ðŸ‘¨â€ðŸ« Teacher's Note â€“ Sukanta Hui"}),e.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"mb-2 text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Sukanta Hui"})," (email: sukantahui@codernaccotax.co.in , mobile: 7003756860) has been teaching programming since 1998 â€“ that's ",e.jsxs("strong",{children:[s," years"]})," of experience in C, RDBMS, OS, and web development."]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"\"Inline functions are one of those features that seem simple but have subtle consequences. I've seen students litter their code with `inline` hoping for magic speedups, only to get larger binaries and no measurable gain. Teach them to respect the compiler's intelligence and to measure first. And always prefer inline over macros for type safety.\""})]}),e.jsx("div",{className:"rounded-full bg-amber-200 p-3 dark:bg-amber-800",children:e.jsx("svg",{className:"h-12 w-12 text-amber-700 dark:text-amber-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})]}),e.jsxs("section",{className:"rounded-xl bg-gray-100 p-6 dark:bg-gray-800",children:[e.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"âœ… Mini Checklist"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-1",children:["Is the function very small (1â€“5 lines)?","Is it called frequently in a performanceâ€‘critical section?","Have I measured that inlining improves performance?","If in a header, is it `static inline` to avoid linker errors?","Does it avoid recursion?","Is it typeâ€‘safe (unlike macros)?"].map((n,a)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]},a))})]}),e.jsx("style",{children:`
        @keyframes fadeSlideUp {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})};export{u as default};

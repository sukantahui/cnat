import{r as i,j as e}from"./index-D1bhWpF_.js";import{c as d}from"./clsx-B-dksMZM.js";const W=()=>{const[m,p]=i.useState(0),[l,g]=i.useState({name:"Swadeep",age:20,location:"Barrackpore",grades:{math:88,science:92,english:85}}),[n,h]=i.useState(["Abhronila","Debangshu","Swadeep"]),[u,y]=i.useState([]),[o,b]=i.useState({className:"React Fundamentals",teacher:"Sukanta Hui",students:[{id:1,name:"Tuhina",present:!0},{id:2,name:"Abhronila",present:!0},{id:3,name:"Debangshu",present:!1}],schedule:{days:["Mon","Wed","Fri"],time:"10:00 AM"}}),[x,c]=i.useState([{id:1,title:"Learn useState",completed:!0,priority:"high"},{id:2,title:"Understand Immutability",completed:!1,priority:"medium"},{id:3,title:"Practice State Updates",completed:!1,priority:"high"}]),r=(t,s)=>{y(a=>[{id:Date.now(),message:t,isCorrect:s,timestamp:new Date().toLocaleTimeString()},...a.slice(0,4)])},j=()=>{try{m=m+1,r("Direct mutation: counter = counter + 1",!1)}catch(t){r(`Error: ${t.message}`,!1)}},N=()=>{try{l.age=21,r("Direct mutation: student.age = 21",!1)}catch{r("Mutation successful but React won't detect it",!1)}},k=()=>{try{n.push("New Student"),r("Direct mutation: attendanceList.push()",!1)}catch{r("Mutation successful but React won't detect it",!1)}},f=()=>{try{l.grades.math=95,r("Direct nested mutation: student.grades.math = 95",!1)}catch{r("Nested mutation - React won't detect",!1)}},v=()=>{p(t=>t+1),r("Correct: setCounter(prev => prev + 1)",!0)},w=()=>{g(t=>({...t,age:t.age+1,location:t.location==="Barrackpore"?"Shyamnagar":"Barrackpore"})),r("Correct: setStudent({...prev, age: prev.age + 1})",!0)},S=()=>{const t=`Student${n.length+1}`;h([...n,t]),r("Correct: setAttendanceList([...prev, newStudent])",!0)},C=()=>{g(t=>({...t,grades:{...t.grades,math:t.grades.math+5,science:t.grades.science+3}})),r("Correct: Nested update with spread operator",!0)},U=()=>{n.length>0&&(h(n.slice(0,-1)),r("Correct: setAttendanceList(prev.slice(0, -1))",!0))},T=()=>{b(t=>({...t,schedule:{...t.schedule,days:[...t.schedule.days,"Thu"],time:"11:00 AM"}})),r("Updated classroom schedule immutably",!0)},_=t=>{b(s=>({...s,students:s.students.map(a=>a.id===t?{...a,present:!a.present}:a)})),r(`Toggled student ${t} attendance with map()`,!0)},A=()=>{const t={id:x.length+1,title:`New Task ${x.length+1}`,completed:!1,priority:"medium"};c([...x,t]),r("Added new task to array",!0)},R=t=>{c(s=>s.map(a=>a.id===t?{...a,completed:!a.completed}:a)),r(`Toggled task ${t} completion`,!0)},I=t=>{c(s=>s.filter(a=>a.id!==t)),r(`Deleted task ${t} with filter()`,!0)},P=()=>{const t={high:1,medium:2,low:3};c(s=>[...s].sort((a,O)=>t[a.priority]-t[O.priority])),r("Sorted tasks by priority",!0)},D=()=>{p(0),g({name:"Swadeep",age:20,location:"Barrackpore",grades:{math:88,science:92,english:85}}),h(["Abhronila","Debangshu","Swadeep"]),y([]),b({className:"React Fundamentals",teacher:"Sukanta Hui",students:[{id:1,name:"Tuhina",present:!0},{id:2,name:"Abhronila",present:!0},{id:3,name:"Debangshu",present:!1}],schedule:{days:["Mon","Wed","Fri"],time:"10:00 AM"}}),c([{id:1,title:"Learn useState",completed:!0,priority:"high"},{id:2,title:"Understand Immutability",completed:!1,priority:"medium"},{id:3,title:"Practice State Updates",completed:!1,priority:"high"}])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8 transition-colors duration-500",children:[e.jsx("style",{jsx:!0,children:`
        @keyframes fadeSlideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulseCorrect {
          0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
          50% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
        }
        
        @keyframes pulseIncorrect {
          0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
          50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }
        
        @keyframes highlight {
          0% { background-color: rgba(59, 130, 246, 0.2); }
          100% { background-color: transparent; }
        }
      `}),e.jsxs("div",{className:"max-w-6xl mx-auto mb-12 animate-[fadeSlideUp_0.8s_ease-out]",style:{animation:"fadeSlideUp 0.8s ease-out"},children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4 tracking-tight",children:"Updating State Correctly (Immutability Principle)"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"Learn the fundamental principle of immutability and how to update state correctly in React"})]}),e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 md:p-8 \r
                     border border-gray-200 dark:border-gray-700\r
                     hover:shadow-xl hover:border-blue-200 dark:hover:border-blue-700\r
                     transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.1s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.1s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:`bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üìò"}),"The Immutability Principle"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-blue-700 dark:text-blue-300 mb-2",children:"What is Immutability?"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Immutability"})," means never modifying data directly. Instead, you create new copies of data with the desired changes. In React, state should be treated as immutable."]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"Why Immutability?"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Predictable state updates"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Performance optimization"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Easier debugging"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Time-travel debugging support"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"‚úì"}),"Component re-rendering triggers"]})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"The Problem with Mutation"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚úó"}),"React can't detect changes"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚úó"}),"No re-renders triggered"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚úó"}),"Hard to track state changes"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"‚úó"}),"Bugs are hard to debug"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border-l-4 border-yellow-500",children:[e.jsx("h3",{className:"font-bold text-yellow-700 dark:text-yellow-300 mb-2",children:"Key Concept"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"React compares state references (not deep equality) to determine if re-rendering is needed. If you mutate state directly, the reference stays the same, and React won't know to update."})]})]})]}),e.jsxs("div",{className:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-blue-100 dark:border-blue-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.2s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.2s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-blue-500 to-purple-500 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"‚öñÔ∏è"}),"Correct vs Incorrect State Updates"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:"Incorrect Updates"}),e.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-full text-sm",children:"Direct Mutation"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Primitive State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-red-300 p-3 rounded",children:`// WRONG: Direct assignment
counter = counter + 1;`}),e.jsx("button",{onClick:j,className:`mt-3 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]`,children:"Try Incorrect Update"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Object State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-red-300 p-3 rounded",children:`// WRONG: Direct property mutation
student.age = 21;`}),e.jsx("button",{onClick:N,className:`mt-3 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]`,children:"Try Incorrect Update"})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Array State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-red-300 p-3 rounded",children:`// WRONG: Direct array mutation
attendanceList.push('New Student');`}),e.jsx("button",{onClick:k,className:`mt-3 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]`,children:"Try Incorrect Update"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:"Correct Updates"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full text-sm",children:"Immutable Updates"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"Primitive State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-green-300 p-3 rounded",children:`// CORRECT: Using setter function
setCounter(prev => prev + 1);`}),e.jsx("button",{onClick:v,className:`mt-3 w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]\r
                             motion-safe:animate-[pulseCorrect_2s_ease-in-out_infinite]`,children:"Try Correct Update"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"Object State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-green-300 p-3 rounded",children:`// CORRECT: Create new object
setStudent(prev => ({
  ...prev,
  age: prev.age + 1
}));`}),e.jsx("button",{onClick:w,className:`mt-3 w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]`,children:"Try Correct Update"})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"Array State"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-green-300 p-3 rounded",children:`// CORRECT: Create new array
setAttendanceList([
  ...prev,
  'New Student'
]);`}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[e.jsx("button",{onClick:S,className:`bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg\r
                               transition-all duration-300`,children:"Add Student"}),e.jsx("button",{onClick:U,className:`bg-gray-500 hover:bg-gray-600 text-white py-2 rounded-lg\r
                               transition-all duration-300`,children:"Remove Last"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Counter"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:m})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Student Age"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:l.age})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Attendance Count"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:n.length})]})]})]}),e.jsxs("div",{className:`bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-purple-100 dark:border-purple-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.3s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.3s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-purple-500 to-pink-500 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üß©"}),"Nested Object Updates"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"The Challenge"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-900 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Nested Object Structure"}),e.jsxs("div",{className:"font-mono text-green-300 text-sm",children:[e.jsxs("div",{children:["student: ","{"]}),e.jsx("div",{className:"ml-4",children:"name: 'Swadeep',"}),e.jsxs("div",{className:"ml-4",children:["grades: ","{"]}),e.jsx("div",{className:"ml-8",children:"math: 88,"}),e.jsx("div",{className:"ml-8",children:"science: 92,"}),e.jsx("div",{className:"ml-8",children:"english: 85"}),e.jsx("div",{className:"ml-4",children:"}"}),e.jsx("div",{children:"}"})]})]}),e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Incorrect Nested Update"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-red-300 p-3 rounded",children:`// WRONG: Only spreads top level
setStudent({
  ...student,
  grades: { math: 95 }
});
// Loses science and english grades!`}),e.jsx("button",{onClick:f,className:`mt-3 w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg\r
                             transition-all duration-300 hover:scale-[1.02]`,children:"Try Incorrect Nested Update"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Correct Solution"}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-bold text-green-700 dark:text-green-300 mb-2",children:"Correct Nested Update"}),e.jsx("div",{className:"font-mono text-sm bg-gray-900 text-green-300 p-3 rounded",children:`// CORRECT: Spread at each level
setStudent(prev => ({
  ...prev,
  grades: {
    ...prev.grades,  // Preserve other grades
    math: prev.grades.math + 5
  }
}));`}),e.jsx("button",{onClick:C,className:`mt-3 w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg\r
                           transition-all duration-300 hover:scale-[1.02]`,children:"Try Correct Nested Update"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"Current Student Grades"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/30 rounded",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Math"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:l.grades.math})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/30 rounded",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Science"}),e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:l.grades.science})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/30 rounded",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"English"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:l.grades.english})]})]})]})]})]})]}),e.jsxs("div",{className:`bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-indigo-100 dark:border-indigo-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.4s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.4s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-indigo-500 to-blue-500 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üè´"}),"Complex State: Classroom Management"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Classroom State"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Class Details"}),e.jsx("div",{className:"text-xl font-bold text-gray-800 dark:text-white",children:o.className}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:["Teacher: ",o.teacher]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Schedule"}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Days: ",o.schedule.days.join(", ")]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Time: ",o.schedule.time]})]}),e.jsx("button",{onClick:T,className:`px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg\r
                               transition-all duration-300 hover:scale-105`,children:"Update"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Students"}),e.jsx("div",{className:"space-y-2",children:o.students.map(t=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700\r
                                 hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors duration-300`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:d("w-3 h-3 rounded-full mr-3",t.present?"bg-green-500":"bg-red-500")}),e.jsx("span",{className:"font-medium",children:t.name})]}),e.jsx("button",{onClick:()=>_(t.id),className:d("px-3 py-1 rounded text-sm transition-all duration-300",t.present?"bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-300":"bg-green-100 hover:bg-green-200 text-green-700 dark:bg-green-900/30 dark:hover:bg-green-900/50 dark:text-green-300"),children:t.present?"Mark Absent":"Mark Present"})]},t.id))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Update Code Examples"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-900 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Update Nested Schedule"}),e.jsxs("div",{className:"font-mono text-green-300 text-sm",children:[e.jsxs("div",{children:["setClassroom(prev => (","{"]}),e.jsx("div",{className:"ml-4",children:"...prev,"}),e.jsxs("div",{className:"ml-4",children:["schedule: ","{"]}),e.jsx("div",{className:"ml-8",children:"...prev.schedule,"}),e.jsx("div",{className:"ml-8",children:"days: [...prev.schedule.days, 'Thu'],"}),e.jsx("div",{className:"ml-8",children:"time: '11:00 AM'"}),e.jsx("div",{className:"ml-4",children:"}"}),e.jsx("div",{children:"}));"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-900 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Toggle Student Attendance"}),e.jsxs("div",{className:"font-mono text-green-300 text-sm",children:[e.jsxs("div",{children:["setClassroom(prev => (","{"]}),e.jsx("div",{className:"ml-4",children:"...prev,"}),e.jsx("div",{className:"ml-4",children:"students: prev.students.map(student =>"}),e.jsx("div",{className:"ml-8",children:"student.id === id"}),e.jsxs("div",{className:"ml-12",children:["? ","{"," ...student, present: !student.present ","}"]}),e.jsx("div",{className:"ml-8",children:": student"}),e.jsx("div",{className:"ml-4",children:")"}),e.jsx("div",{children:"}));"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-yellow-700 dark:text-yellow-300 mb-2",children:"Key Pattern"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["For arrays of objects, use ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1",children:"map()"})," to create a new array with updated objects. Spread operator at each level preserves unchanged data."]})]})]})]})]})]}),e.jsxs("div",{className:`bg-gradient-to-r from-teal-50 to-emerald-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-teal-100 dark:border-teal-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.5s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.5s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-teal-500 to-emerald-500 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üìù"}),"Array Operations with Immutability"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Task Manager"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:A,className:`px-4 py-2 bg-teal-500 hover:bg-teal-600 text-white rounded-lg\r
                           transition-all duration-300 hover:scale-105`,children:"Add Task"}),e.jsx("button",{onClick:P,className:`px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg\r
                           transition-all duration-300 hover:scale-105`,children:"Sort by Priority"})]})]}),e.jsx("div",{className:"space-y-3",children:x.map(t=>e.jsxs("div",{className:d("flex items-center justify-between p-4 rounded-lg border transition-all duration-300",t.completed?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>R(t.id),className:"w-5 h-5 mr-3 rounded border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:d("font-medium",t.completed&&"line-through text-gray-500 dark:text-gray-400"),children:t.title}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:d("px-2 py-1 rounded-full text-xs font-medium",t.priority==="high"&&"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",t.priority==="medium"&&"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",t.priority==="low"&&"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:t.priority}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["ID: ",t.id]})]})]})]}),e.jsx("button",{onClick:()=>I(t.id),className:`px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 \r
                             dark:hover:bg-red-900/50 dark:text-red-300 rounded text-sm\r
                             transition-all duration-300`,children:"Delete"})]},t.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Adding Items"}),e.jsx("div",{className:"font-mono text-xs bg-gray-900 text-green-300 p-2 rounded",children:"setTasks([...tasks, newTask]);"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Create new array with spread operator"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Updating Items"}),e.jsx("div",{className:"font-mono text-xs bg-gray-900 text-green-300 p-2 rounded",children:`setTasks(tasks.map(task =>
  task.id === id
    ? {...task, completed: true}
    : task
));`}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Use map() to create new array with updated item"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Removing Items"}),e.jsx("div",{className:"font-mono text-xs bg-gray-900 text-green-300 p-2 rounded",children:"setTasks(tasks.filter(task => task.id !== id));"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Use filter() to exclude item"})]})]})]}),e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 md:p-8 \r
                     border border-gray-200 dark:border-gray-700\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.6s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.6s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-gray-500 to-gray-700 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üìã"}),"Update History"]}),e.jsx("div",{className:"space-y-3",children:u.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No updates yet. Try clicking the buttons above!"}):u.map(t=>e.jsxs("div",{className:d("flex items-center justify-between p-4 rounded-lg border transition-all duration-300",t.isCorrect?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:d("w-3 h-3 rounded-full mr-3",t.isCorrect?"bg-green-500":"bg-red-500")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.message}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.timestamp})]})]}),e.jsx("span",{className:d("px-3 py-1 rounded-full text-xs font-medium",t.isCorrect?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"),children:t.isCorrect?"Correct":"Incorrect"})]},t.id))})]}),e.jsxs("div",{className:`bg-gradient-to-r from-red-50 to-orange-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-red-100 dark:border-red-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.7s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.7s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-gradient-to-r from-red-500 to-orange-500 text-white \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üö´"}),"Common Pitfalls & Anti-Patterns"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-red-500",children:[e.jsx("h3",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Shallow Copy Trap"}),e.jsx("div",{className:"font-mono text-xs bg-gray-900 text-red-300 p-2 rounded",children:`const newObj = { ...oldObj };
newObj.nested.prop = 'changed'; // Still mutates!`}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Spread operator only creates shallow copies. Nested objects still share references."})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-red-500",children:[e.jsx("h3",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Array Mutation Methods"}),e.jsx("div",{className:"font-mono text-xs bg-gray-900 text-red-300 p-2 rounded",children:`// These MUTATE the original array:
.push() .pop() .shift() .unshift()
.splice() .sort() .reverse()`}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Use immutable alternatives or create copies first."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-yellow-500",children:[e.jsx("h3",{className:"font-bold text-yellow-700 dark:text-yellow-300 mb-2",children:"Performance Concerns"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Creating new objects/arrays for every update might seem inefficient, but:"}),e.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ JavaScript engines optimize object creation"}),e.jsx("li",{children:"‚Ä¢ React's re-render optimization relies on immutability"}),e.jsx("li",{children:"‚Ä¢ Shallow comparison is much faster than deep comparison"})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h3",{className:"font-bold text-blue-700 dark:text-blue-300 mb-2",children:"When to Deep Clone"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["For deeply nested structures, consider libraries like ",e.jsx("code",{children:"immer"})," or",e.jsx("code",{children:"lodash.cloneDeep"}),". But for most cases, careful spreading works."]})]})]})]})]}),e.jsxs("div",{className:`bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-emerald-100 dark:border-emerald-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.8s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.8s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx("span",{className:`bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-300 \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üèÜ"}),"Best Practices & Patterns"]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"1."}),e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Always Spread"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Use spread operator for objects and arrays"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"2."}),e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Nested Updates"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Spread at each level for nested structures"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"3."}),e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Array Methods"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Use map, filter, concat, slice"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"4."}),e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Functional Updates"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Use updater functions for sequential updates"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-blue-700 dark:text-blue-300 mb-2",children:"Immutability Checklist"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Never mutate state directly"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Always create new objects/arrays for updates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Use spread operator for shallow copies"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Spread at each level for nested updates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Use map/filter for array updates"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:!0,className:"mr-2"}),"Consider functional updates for sequential changes"]})]})]})]}),e.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-yellow-200 dark:border-yellow-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_0.9s_both]\r
                     motion-safe:animate-[pulseCorrect_3s_ease-in-out_infinite]`,style:{animation:"fadeSlideUp 0.8s ease-out 0.9s both"},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300 \r
                          rounded-full p-3 mr-4 text-2xl`,children:"üë®‚Äçüè´"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Teacher's Note"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Sukanta Hui ‚Ä¢ 27 years experience ‚Ä¢ sukantahui@codernaccotax.co.in"}),e.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Remember:"})," Immutability is like writing on a whiteboard in a classroom. When Swadeep from Barrackpore makes a mistake, he doesn't try to erase and rewrite in the same space‚Äîhe takes a new whiteboard marker and writes the corrected version. React works the same way with state updates."]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Pro Tips:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("strong",{children:"Think in snapshots:"})," Each state update creates a new snapshot of your data"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("strong",{children:"Use ESLint rules:"})," Enable rules that prevent direct state mutation"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("strong",{children:"Consider Immer:"})," For complex nested updates, the Immer library can help"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-500 mr-2",children:"‚Ä¢"}),e.jsx("strong",{children:"Practice patterns:"})," The spread operator pattern becomes second nature"]})]})]}),e.jsx("p",{className:"text-sm italic text-gray-600 dark:text-gray-400",children:`"When Tuhina from Shyamnagar keeps student records, she never modifies the original register. She creates new entries. This is exactly how React state should be updated. Remember: mutate and you'll frustrate, create new and you'll get through!"`})]})]})]})}),e.jsxs("div",{className:`bg-gradient-to-r from-indigo-50 to-violet-50 dark:from-gray-800 dark:to-gray-900 \r
                     rounded-2xl shadow-lg p-6 md:p-8 border border-indigo-100 dark:border-indigo-900\r
                     hover:shadow-xl transition-all duration-300 animate-[fadeSlideUp_0.8s_ease-out_1s_both]`,style:{animation:"fadeSlideUp 0.8s ease-out 1s both"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4 flex items-center",children:[e.jsx("span",{className:`bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 \r
                           rounded-lg p-2 mr-3 text-xl`,children:"üí°"}),"Thinking Exercises"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Think about..."}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Why does React need immutability? What would happen if React used deep comparison instead of reference comparison?"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Observe carefully..."}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Try the incorrect updates and see what happens. Do they work at all? Why or why not?"})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-2",children:"Try implementing..."}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:`Add a "Move Task Up" button that reorders tasks immutably. Hint: You'll need to swap array elements without mutating.`})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:D,className:`bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 \r
                     text-white px-8 py-3 rounded-full font-medium shadow-lg hover:shadow-xl\r
                     transition-all duration-300 hover:scale-105 active:scale-95`,children:"Reset All Examples"})})]}),e.jsx("div",{className:"max-w-6xl mx-auto mt-12 pt-8 border-t border-gray-200 dark:border-gray-800",children:e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 text-sm",children:"Next: Understand Why State Updates Are Asynchronous"})})]})};export{W as default};

import{c as P,r as l,j as e,e as pe,f as Te,Q as Ie,g as me}from"./index-CKbpn-AN.js";import{P as te}from"./prism-json-CS-VMiqr.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ue=P("award",$e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Re=P("rotate-ccw",Me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],fe=P("smartphone",De);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_e=P("trophy",Oe);function Fe({code:h="",initialCode:n="",language:o="javascript"}){const c=n||h,[k,j]=l.useState("");return l.useEffect(()=>{const S=te.highlight(c,te.languages[o]||te.languages.javascript,o);j(S)},[c,o]),e.jsx("div",{className:"my-4 rounded-xl overflow-hidden border border-slate-700 bg-[#0f172a] shadow-lg",children:e.jsx("pre",{className:"p-4 overflow-auto text-sm leading-6",children:e.jsx("code",{className:`language-${o}`,dangerouslySetInnerHTML:{__html:k}})})})}const he="quizEngine_",Le="quizLeaderboard_";function be(h){const n=[...h];for(let o=n.length-1;o>0;o--){const c=Math.floor(Math.random()*(o+1));[n[o],n[c]]=[n[c],n[o]]}return n}function se(h,n){if(!Array.isArray(h))return[];const o=be(h),c=n?Math.min(n,o.length):o.length;return o.slice(0,c).map(j=>{const S=(j.options||[]).map((N,L)=>({text:N,originalIndex:L})),F=be(S),H=F.findIndex(N=>N.originalIndex===j.answerIndex);return{...j,options:F.map(N=>N.text),answerIndex:H}})}function Qe(){const h="certificate_counter";let n=parseInt(localStorage.getItem(h),10);(isNaN(n)||n<1)&&(n=1);const o=new Date().getFullYear(),c=String(n).padStart(5,"0"),k=`CAT-${o}-${c}`;return localStorage.setItem(h,n+1),k}function Pe({title:h="Quiz Test",questions:n=[],testId:o="test_default",questionLimit:c=25,certificateHeader:k="Coder & AccoTax",certificateSubtitle:j="Barrackpore · www.codernaccotax.co.in",certificateTitle:S="Certificate of Completion",leaderboardTitle:F="Coder & AccoTax Leaderboard",showStudentName:H=!0,passPercent:N=60,onResultSubmit:L}){const C=he+o,Y=Le+o,K=he+"best_"+o,[f,D]=l.useState([]),[z,A]=l.useState({}),[w,E]=l.useState({}),[g,T]=l.useState(0),[y,I]=l.useState(!1),[O,_]=l.useState(!1),[v,Q]=l.useState(""),[J,re]=l.useState(!1),[U,V]=l.useState([]),[ae,X]=l.useState({}),[u,le]=l.useState(c||25),[B,ge]=l.useState("All"),[ye,W]=l.useState(!1),Z=l.useRef(null),ne=l.useRef([]),oe=l.useRef(!1),x=typeof window<"u",ie=x?window.location.href:"https://www.codernaccotax.co.in",m=l.useMemo(()=>{if(!Array.isArray(n))return[];if(B==="All")return n;const t=B.toLowerCase();let s=n.filter(a=>a.level?String(a.level).toLowerCase()===t:!0);return s.length||(s=n),s},[n,B]),q=Object.keys(w).length,$=f.length,de=$?Math.round(q/$*100):0,ve=$?(g/$*100).toFixed(1):"0.0",ce=f.filter(t=>w[t.id]&&z[t.id]!==t.answerIndex),je=O?ce:f,M=ae[$]||ae[u]||null;l.useEffect(()=>{if(x)try{const t=localStorage.getItem(Y);if(t){const s=JSON.parse(t);Array.isArray(s)&&V(s)}}catch{V([])}},[Y,x]),l.useEffect(()=>{if(x)try{const t=localStorage.getItem(K);if(t){const s=JSON.parse(t);s&&typeof s=="object"&&X(s)}}catch{X({})}},[K,x]),l.useEffect(()=>{if(!x||!J||!m||!m.length)return;const t=localStorage.getItem(C);if(t)try{const r=JSON.parse(t),p=r&&r.submitted&&Object.keys(r.submitted).length>0;if(Array.isArray(r.quiz)&&r.quiz.length){D(r.quiz),A(r.responses||{}),E(r.submitted||{}),T(r.score||0),I(!!r.isFinished);const i=r.quiz&&r.quiz.length||c;le(i);return}else if(!p&&Array.isArray(r.quiz)){D(r.quiz),A(r.responses||{}),E(r.submitted||{}),T(r.score||0),I(!1);return}}catch{}const s=u&&u>0?Math.min(u,m.length):Math.min(c||25,m.length),a=se(m,s);D(a),A({}),E({}),T(0),I(!1),_(!1)},[J,m,u,C,c,x]),l.useEffect(()=>{if(!x||!f.length)return;const t={quiz:f,responses:z,submitted:w,score:g,isFinished:y};localStorage.setItem(C,JSON.stringify(t))},[f,z,w,g,y,C,x]);const Ne=t=>{if(!x)return;const s=ne.current[t];if(!s)return;const a=s.getBoundingClientRect().top+window.scrollY-120;window.scrollTo({top:a,behavior:"smooth"})},we=(t,s)=>{w[t]||A(a=>({...a,[t]:s}))},ke=(t,s)=>{if(w[t.id])return;z[t.id]===t.answerIndex&&T(r=>r+1),E(r=>{const p={...r,[t.id]:!0};return Object.keys(p).length===f.length&&I(!0),p}),!O&&s+1<f.length&&setTimeout(()=>Ne(s+1),500)},Se=()=>{if(!m.length)return;const t=u&&u>0?Math.min(u,m.length):Math.min(c||25,m.length),s=se(m,t);D(s),A({}),E({}),T(0),I(!1),_(!1),x&&(localStorage.removeItem(C),window.scrollTo({top:0,behavior:"smooth"}))},Ce=()=>{if(!m.length)return;const t=u&&u>0?Math.min(u,m.length):Math.min(c||25,m.length),s=se(m,t);D(s),A({}),E({}),T(0),I(!1),_(!1),x&&(localStorage.removeItem(C),window.scrollTo({top:0,behavior:"smooth"}))},ze=()=>{if(!x||!f.length)return;const t=f.length,s=t?Number((g/t*100).toFixed(2)):0,a={name:v.trim()||"Guest",score:g,total:t,percent:s,date:new Date().toISOString()};V(r=>{const p=[...r,a];p.sort((d,b)=>b.percent!==d.percent?b.percent-d.percent:b.score!==d.score?b.score-d.score:new Date(b.date)-new Date(d.date));const i=p.slice(0,10);return localStorage.setItem(Y,JSON.stringify(i)),i}),X(r=>{const p={...r},i=t,d=p[i];return(!d||s>d.percent)&&(p[i]={score:g,total:t,percent:s,date:a.date}),localStorage.setItem(K,JSON.stringify(p)),p}),typeof L=="function"&&L({...a,testId:o})};l.useEffect(()=>{x&&(!oe.current&&y&&ze(),oe.current=y)},[y,g,f.length,x]);const Ae=()=>{if(!x)return;const t=v||"Student Name",s=f.length,a=s?(g/s*100).toFixed(2):"0.00",r=new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),p=Qe(),i=parseFloat(a);let d="D";i>=85?d="A+":i>=70?d="A":i>=60?d="B":i>=50&&(d="C");const b=i>=N,R=`
<!DOCTYPE html>
<html>
<head>
<title>${S}</title>
<meta charset="UTF-8" />
<style>
  @page { size: A4; margin: 0; }
  body { margin: 0; padding: 0; background: #0f172a; font-family: "Times New Roman", serif; }
  .page {
    width: 210mm; height: 297mm;
    background: radial-gradient(circle at top, #eff6ff, #e2e8f0 40%, #cbd5f5 80%);
    margin: auto; padding: 18mm;
    box-sizing: border-box; display: flex;
    justify-content: center; align-items: center;
  }
  .certificate {
    position: relative; width: 100%; padding: 18mm 20mm;
    background: #ffffff; border: 8px solid #1e3a8a;
    outline: 5px solid #93c5fd;
    box-shadow: 0 0 18px rgba(15,23,42,0.4);
    text-align: center; box-sizing: border-box;
  }
  .cert-number { text-align: right; font-size: 13px; color: #111827; margin-bottom: 8px; }
  .header-title { font-size: 22px; font-weight: bold; color: #1e3a8a; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 1px; }
  .subtitle { font-size: 13px; color: #4b5563; margin-bottom: 20px; }
  .main-title { font-size: 38px; font-weight: 800; color: #111827; margin-bottom: 14px; letter-spacing: 1px; text-transform: uppercase; }
  .tagline { font-size: 13px; color: #1f2933; margin-bottom: 22px; text-transform: uppercase; letter-spacing: 4px; }
  .body-text { font-size: 17px; color: #111827; padding: 0 10mm; margin-bottom: 16px; line-height: 1.6; }
  .student-name {
    font-size: 28px; font-weight: bold; color: #0f172a;
    border-bottom: 2px solid #38bdf8;
    display: inline-block; padding: 4px 22px;
    margin: 12px 0 18px 0;
  }
  .test-title { font-size: 17px; font-weight: 600; color: #1e40af; }
  .score-box { font-size: 18px; font-weight: bold; color: #1d4ed8; margin: 8px 0 6px 0; }
  .result-box { font-size: 16px; font-weight: 600; color: #111827; margin-bottom: 18px; }
  .result-box span { padding: 3px 10px; border-radius: 999px; border: 1px solid #1e40af; }
  .result-pass { background: #dcfce7; color: #166534; border-color: #16a34a; }
  .result-fail { background: #fee2e2; color: #b91c1c; border-color: #ef4444; }
  .grade-pill { margin-left: 8px; background: #e0f2fe; color: #1d4ed8; border-color: #38bdf8; }
  .issue-date { font-size: 14px; color: #374151; margin-bottom: 8px; }
  .footer-row { display: flex; justify-content: space-between; margin-top: 40px; padding: 0 10mm; }
  .signature-block { text-align: center; }
  .line { width: 170px; border-top: 1px solid #111827; margin: auto; margin-bottom: 5px; }
  .director { font-size: 14px; font-weight: bold; color: #000; }
  .designation { font-size: 12px; color: #374151; }
  .date-block { border-top: 1px solid #111827; width: 160px; margin: auto; margin-bottom: 5px; }
  .footer-note { margin-top: 18px; font-size: 11px; color: #6b7280; }
  .seal {
    position: absolute; bottom: 40mm; left: 30mm;
    width: 60px; height: 60px; border-radius: 50%;
    border: 3px solid #1e3a8a;
    box-shadow: 0 0 8px rgba(30,64,175,0.6);
    overflow: hidden; display: flex; align-items: center; justify-content: center;
    background: radial-gradient(circle at 30% 30%, #e0f2fe, #bfdbfe);
    box-sizing: border-box;
  }
  .seal img { width: 100%; height: 100%; object-fit: contain; }
  @media print {
    body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  }
</style>
</head>
<body>
<div class="page">
  <div class="certificate">
    <div class="cert-number"><strong>Certificate No:</strong> ${p}</div>
    <div class="header-title">${k}</div>
    <div class="subtitle">${j}</div>
    <div class="main-title">${S}</div>
    <div class="tagline">Verified Assessment · Coder & AccoTax</div>
    <div class="body-text">
      This is to certify that<br><br>
      <span class="student-name">${t}</span><br><br>
      has successfully completed the test:<br>
      <span class="test-title">${h}</span>
    </div>
    <div class="score-box">Score: ${g}/${s} &nbsp; | &nbsp; ${a}%</div>
    <div class="result-box">
      <span class="${b?"result-pass":"result-fail"}">
        ${b?"PASSED":"NOT PASSED"}
      </span>
      <span class="grade-pill">Grade: ${d}</span>
    </div>
    <div class="issue-date">Issued on: ${r}</div>
    <div class="footer-row">
      <div class="signature-block">
        <div class="date-block"></div>
        <div>Date</div>
      </div>
      <div class="signature-block">
        <div class="line"></div>
        <div class="director">Sukanta Hui</div>
        <div class="designation">Director, Coder & AccoTax</div>
      </div>
    </div>
    <div class="footer-note">
      This is a system-generated certificate and does not require a physical signature.
    </div>
    <div class="seal">
      <img src="${me}" alt="Coder & AccoTax Logo" />
    </div>
  </div>
</div>
<script>window.print();<\/script>
</body>
</html>
    `,ee=window.open("","_blank");ee&&(ee.document.write(R),ee.document.close())};l.useEffect(()=>{Z.current&&Z.current.focus()},[]);const xe=()=>{const t=v.trim();t&&(x&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),setTimeout(()=>{Q(t),re(!0),W(!1)},80))},Ee=t=>{t.key==="Enter"&&(t.preventDefault(),xe())};return J?f.length?e.jsxs("section",{className:"max-w-5xl mx-auto space-y-8 px-3 md:px-0",children:[e.jsxs("header",{className:"relative overflow-hidden rounded-3xl border border-slate-800 bg-gradient-to-r from-slate-900/80 via-slate-900 to-slate-950 px-4 py-5 md:px-6 md:py-6 shadow-xl shadow-slate-950/40",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute -top-24 -left-16 h-40 w-40 rounded-full bg-sky-500/30 blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -right-10 h-48 w-48 rounded-full bg-violet-500/25 blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.25em] text-slate-400 mb-1",children:"Coder & AccoTax · Module Test"}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-sky-200",children:h}),e.jsxs("p",{className:"text-[11px] text-slate-400 mt-1",children:["Student:"," ",e.jsx("span",{className:"text-sky-300 font-semibold",children:v||"Guest"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px]",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-sky-500/40 bg-sky-500/10 px-3 py-1 text-sky-100",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"}),q,"/",$," submitted"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-500/40 bg-emerald-500/10 px-3 py-1 text-emerald-100",children:["Score: ",g," (",ve,"%)"]}),M&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-500/40 bg-amber-500/10 px-3 py-1 text-amber-100",children:["Best: ",M.score,"/",M.total," (",M.percent.toFixed?M.percent.toFixed(1):M.percent,"%)"]}),O&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-500/40 bg-amber-500/10 px-3 py-1 text-amber-100",children:[e.jsx(pe,{size:12}),"Review incorrect only"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-[11px] text-slate-400",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[de,"%"]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-slate-800 overflow-hidden",children:e.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-sky-400 via-emerald-400 to-violet-400 transition-all",style:{width:`${de}%`}})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-1",children:[e.jsxs("button",{type:"button",onClick:Se,className:"inline-flex items-center gap-1.5 rounded-full bg-slate-900/80 px-3 py-1.5 text-[11px] font-medium text-slate-100 border border-slate-700 hover:border-sky-500 hover:text-sky-100 hover:bg-slate-900 transition",children:[e.jsx(Re,{size:12}),"Restart (new ",u," Qs)"]}),!O&&ce.length>0&&y&&e.jsxs("button",{type:"button",onClick:()=>_(!0),className:"inline-flex items-center gap-1.5 rounded-full bg-amber-500/10 px-3 py-1.5 text-[11px] font-medium text-amber-100 border border-amber-500/60 hover:bg-amber-500/20 transition",children:[e.jsx(Te,{size:12}),"Review incorrect only"]}),O&&e.jsxs("button",{type:"button",onClick:()=>_(!1),className:"inline-flex items-center gap-1.5 rounded-full bg-slate-900/80 px-3 py-1.5 text-[11px] font-medium text-slate-100 border border-slate-600 hover:border-slate-400 transition",children:[e.jsx(pe,{size:12}),"Exit review mode"]})]}),e.jsxs("div",{className:"mt-3 p-3 rounded-2xl bg-slate-900/60 border border-slate-700 space-y-2",children:[e.jsx("p",{className:"text-xs text-slate-300 font-medium",children:"Select difficulty level:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["All","beginner","moderate","advanced"].map(t=>{const s=t==="All"?"All Levels":t.charAt(0).toUpperCase()+t.slice(1),a=B.toLowerCase()===t.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>ge(t==="All"?"All":t),className:`px-3 py-1.5 rounded-full text-[11px] border transition ${a?"bg-emerald-600 text-white border-emerald-400":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:s},t)})}),e.jsx("p",{className:"text-[11px] text-slate-500",children:"Questions without a level tag are included in every level."})]}),e.jsxs("div",{className:"hidden md:flex mt-4 p-4 rounded-2xl bg-slate-900 border border-slate-700 shadow-lg items-center gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("p",{className:"text-xs text-slate-300 font-medium flex items-center gap-1",children:[e.jsx(fe,{size:14}),"Open this quiz on your mobile:"]}),e.jsx("p",{className:"text-[11px] text-sky-300 break-all",children:ie})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-sky-500/20 blur-xl opacity-30"}),e.jsxs("div",{className:"relative bg-slate-800 p-3 rounded-xl shadow-inner border border-slate-700",children:[e.jsx(Ie,{value:ie,size:150,level:"H",fgColor:"#ffffff",bgColor:"#020617",style:{borderRadius:"12px"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-slate-950 p-1.5 rounded-xl shadow-lg border border-slate-600",children:e.jsx("img",{src:me,alt:"Coder & AccoTax",className:"h-9 w-9 object-contain"})})})]})]})]}),q===0&&!y&&e.jsxs("div",{className:"mt-3 p-3 rounded-2xl bg-slate-900/60 border border-slate-700 space-y-2",children:[e.jsx("p",{className:"text-xs text-slate-300 font-medium",children:"Select number of questions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[10,15,20,25,50,"All"].map(t=>{const s=t==="All"?m.length:t,a=u===s;return e.jsx("button",{type:"button",onClick:()=>le(Math.min(s,m.length||s)),className:`px-3 py-1.5 rounded-full text-[11px] border transition ${a?"bg-sky-600 text-white border-sky-400":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:t},t)})}),e.jsxs("button",{type:"button",onClick:Ce,className:"mt-2 px-4 py-1.5 rounded-full bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-semibold",children:["Start with ",u," Question",u!==1?"s":""]})]}),y&&e.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-700 bg-slate-900/60 px-3 py-3 flex flex-col md:flex-row md:items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-200",children:[e.jsx("div",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-sky-500/15 border border-sky-500/50",children:e.jsx(ue,{size:14,className:"text-sky-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-100",children:"Test completed – generate certificate"}),e.jsx("p",{className:"text-[11px] text-slate-400",children:"The name shown above will appear on the printed certificate."})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-2 md:justify-end",children:[H&&e.jsx("input",{type:"text",placeholder:"Student name",value:v,onChange:t=>Q(t.target.value),className:"flex-1 px-3 py-1.5 rounded-full bg-slate-950 border border-slate-700 text-[11px] text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),e.jsxs("button",{type:"button",onClick:Ae,className:"inline-flex items-center justify-center gap-1.5 rounded-full bg-sky-600 px-4 py-1.5 text-[11px] font-semibold text-white hover:bg-sky-500 transition",children:[e.jsx(ue,{size:12}),"Download certificate"]})]})]}),U.length>0&&e.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-800 bg-slate-950/70 px-3 py-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-amber-500/10 border border-amber-500/50",children:e.jsx(_e,{size:14,className:"text-amber-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-amber-100",children:F}),e.jsxs("p",{className:"text-[11px] text-slate-400",children:["Top ",U.length," scores recorded locally on this device."]})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-800 bg-slate-950/80",children:e.jsxs("table",{className:"w-full text-[11px] text-slate-100",children:[e.jsx("thead",{className:"bg-slate-900/80 text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1.5 px-2 text-left",children:"#"}),e.jsx("th",{className:"py-1.5 px-2 text-left",children:"Name"}),e.jsx("th",{className:"py-1.5 px-2 text-right",children:"Score"}),e.jsx("th",{className:"py-1.5 px-2 text-right",children:"%"}),e.jsx("th",{className:"py-1.5 px-2 text-right",children:"Date"})]})}),e.jsx("tbody",{children:U.map((t,s)=>{const a=new Date(t.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"}),r=typeof t.percent=="number"?t.percent.toFixed(1):t.percent;return e.jsxs("tr",{className:"border-t border-slate-800/70 hover:bg-slate-900/60",children:[e.jsx("td",{className:"py-1.5 px-2",children:s+1}),e.jsx("td",{className:"py-1.5 px-2",children:t.name}),e.jsxs("td",{className:"py-1.5 px-2 text-right",children:[t.score,"/",t.total]}),e.jsx("td",{className:"py-1.5 px-2 text-right",children:r}),e.jsx("td",{className:"py-1.5 px-2 text-right",children:a})]},s)})})]})})]})]})]}),e.jsx("div",{className:"space-y-6",children:je.map(t=>{const s=f.findIndex(i=>i.id===t.id),a=z[t.id],r=w[t.id],p=r&&a===t.answerIndex;return e.jsxs("article",{ref:i=>ne.current[s]=i,className:"border border-slate-800 bg-slate-900/70 rounded-2xl p-4 md:p-5 shadow-lg shadow-black/40 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"inline-flex h-6 min-w-[2rem] items-center justify-center rounded-full bg-slate-800 text-[11px] text-slate-300 border border-slate-700",children:["Q",s+1]}),t.topic&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-sky-500/10 border border-sky-500/40 px-2 py-0.5 text-[10px] uppercase tracking-wide text-sky-200",children:t.topic}),t.level&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-500/10 border border-emerald-500/40 px-2 py-0.5 text-[10px] uppercase tracking-wide text-emerald-200",children:String(t.level)})]}),e.jsx("h3",{className:"font-semibold text-slate-50 text-sm md:text-base leading-snug",children:t.question})]}),r&&e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-[10px] font-semibold border ${p?"bg-emerald-500/15 text-emerald-200 border-emerald-500/60":"bg-rose-500/15 text-rose-200 border-rose-500/60"}`,children:p?"Correct":"Incorrect"})]}),t.code&&e.jsx("div",{className:"mt-1",children:e.jsx(Fe,{code:t.code,language:"javascript"})}),e.jsx("div",{className:"space-y-1 mt-1",children:t.options.map((i,d)=>{const b=`q${t.id}_${d}`,G=a===d;let R="border-slate-700 bg-slate-900/70 hover:bg-slate-800/90";return r?d===t.answerIndex?R="border-emerald-500 bg-emerald-900/40 text-emerald-50":G&&(R="border-rose-500 bg-rose-900/40 text-rose-100"):G&&(R="border-sky-500 bg-sky-900/40 text-sky-50"),e.jsxs("label",{htmlFor:b,className:`cursor-pointer px-3 py-2 border rounded-xl flex gap-2 text-sm transition ${R}`,children:[e.jsx("input",{id:b,type:"radio",disabled:r,checked:G,onChange:()=>we(t.id,d),className:"mt-0.5 accent-sky-500"}),e.jsx("span",{className:"leading-snug",children:i})]},b)})}),r?e.jsxs("div",{className:"space-y-2 mt-2",children:[e.jsxs("p",{className:"text-xs text-emerald-400",children:["Correct answer:"," ",e.jsx("span",{className:"font-semibold",children:t.options[t.answerIndex]})]}),t.explanation&&e.jsxs("div",{className:"p-3 rounded-xl bg-slate-900 border border-slate-700 text-sm text-slate-200",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-[0.18em] text-sky-400 mb-1",children:"Explanation"}),e.jsx("p",{className:"text-sm leading-relaxed",children:t.explanation})]})]}):e.jsx("button",{type:"button",onClick:()=>ke(t,s),disabled:z[t.id]==null,className:"mt-2 inline-flex items-center justify-center px-4 py-2 rounded-full bg-sky-600 hover:bg-sky-500 disabled:bg-slate-700 disabled:text-slate-400 text-white text-xs font-semibold transition",children:"Submit answer"})]},t.id)})})]}):e.jsx("div",{className:"max-w-5xl mx-auto text-slate-300 text-sm",children:"Loading questions…"}):e.jsx("section",{className:"max-w-md mx-auto mt-16 px-4",children:e.jsxs("div",{className:"rounded-3xl bg-slate-900 border border-slate-700 shadow-2xl shadow-black/50 p-6 space-y-5",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("p",{className:"inline-flex items-center gap-2 text-[11px] uppercase tracking-[0.25em] text-slate-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Coder & AccoTax · Quiz"]}),e.jsx("h2",{className:"text-xl font-bold text-sky-300",children:"Enter Your Name to Begin"}),e.jsx("p",{className:"text-xs text-slate-400",children:"This name will appear on your certificate and leaderboard."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-xs text-slate-300 mb-1",children:"Student Name"}),e.jsx("input",{ref:Z,type:"text",placeholder:"e.g. Ritaja Ghosh",value:v,onChange:t=>Q(t.target.value),onFocus:()=>W(!0),onBlur:()=>W(!1),onKeyDown:Ee,autoComplete:"off",autoCorrect:"off",autoCapitalize:"words",spellCheck:"false",className:"w-full px-4 py-2.5 rounded-2xl bg-slate-950 border border-slate-700 text-slate-100 placeholder:text-slate-500 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none text-sm"}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:["Tip: You can also press ",e.jsx("span",{className:"font-semibold",children:"Enter"})," to start."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{type:"button",onClick:xe,disabled:!v.trim(),className:`w-full inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2.5 text-sm font-semibold transition ${v.trim()?"bg-sky-600 hover:bg-sky-500 text-white shadow-lg shadow-sky-500/30":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:[e.jsx(fe,{size:16}),e.jsx("span",{children:"Start Test"})]}),e.jsx("button",{type:"button",onClick:()=>{Q("Guest"),re(!0)},className:"w-full text-[11px] text-slate-400 hover:text-slate-200 underline underline-offset-2",children:"Continue as Guest (no name on certificate)"})]}),ye&&e.jsxs("p",{className:"text-[10px] text-center text-slate-500",children:["On mobile: type your full name, then tap"," ",e.jsx("span",{className:"font-semibold text-sky-300",children:"Start Test"}),"."]})]})})}export{Pe as Q};
